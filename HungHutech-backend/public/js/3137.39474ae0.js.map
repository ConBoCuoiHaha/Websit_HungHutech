{"version":3,"file":"js/3137.39474ae0.js","mappings":"mHACA,IAAIA,EAAI,EAAQ,MACZC,EAAO,EAAQ,MACfC,EAAU,EAAQ,MAClBC,EAAY,EAAQ,MACpBC,EAAW,EAAQ,MACnBC,EAAoB,EAAQ,MAC5BC,EAAgB,EAAQ,MACxBC,EAA2C,EAAQ,MAEnDC,EAAiCD,EAAyC,OAAQE,WAItFT,EAAE,CAAEU,OAAQ,WAAYC,OAAO,EAAMC,MAAM,EAAMC,OAAQL,GAAkC,CACzFM,KAAM,SAAcC,GAClBX,EAASY,MACT,IACEb,EAAUY,EACZ,CAAE,MAAOE,GACPX,EAAcU,KAAM,QAASC,EAC/B,CAEA,GAAIT,EAAgC,OAAOP,EAAKO,EAAgCQ,KAAMD,GAEtF,IAAIG,EAASb,EAAkBW,MAC3BG,EAAU,EACd,OAAOjB,EAAQgB,EAAQ,SAAUE,EAAOC,GACtC,GAAIN,EAAUK,EAAOD,KAAY,OAAOE,EAAKD,EAC/C,EAAG,CAAEE,WAAW,EAAMC,aAAa,IAAQC,MAC7C,G,+CC3BF,MAAMC,EACHC,QAAgBC,WAAWC,SAC5B,GAAIF,OAAeC,UAAUC,cACzBC,EACJJ,GAAeK,gCAEjBC,QAAQC,IAAI,gBAAiBH,GAE7B,MAAMI,EAGJC,WAAAA,IAAAC,EAAAA,EAAAA,GAAA,6BACEnB,KAAKoB,cAAgBC,EAAAA,EAAMC,OAAO,CAChCC,QAASV,EACTW,QAAS,CACP,eAAgB,sBAKpBxB,KAAKoB,cAAcK,aAAaC,QAAQC,IACrCC,IACC,MAAMC,EAAQC,aAAaC,QAAQ,SAInC,OAHIF,IACFD,EAAOJ,QAAQQ,cAAgB,UAAUH,KAEpCD,GAER3B,GACQgC,QAAQC,OAAOjC,IAK1BD,KAAKoB,cAAcK,aAAaU,SAASR,IACtCQ,GAAaA,EACblC,IACgC,MAA3BA,EAAMkC,UAAUC,SAElBN,aAAaO,WAAW,SACxBP,aAAaO,WAAW,QACxB3B,OAAO4B,SAASC,KAAO,UAElBN,QAAQC,OAAOjC,IAG5B,CAEOuC,GAAAA,CACLC,EACAb,GAEA,OAAO5B,KAAKoB,cAAcoB,IAAOC,EAAKb,EACxC,CAEOc,IAAAA,CACLD,EACAE,EACAf,GAEA,OAAO5B,KAAKoB,cAAcsB,KAAQD,EAAKE,EAAMf,EAC/C,CAEOgB,GAAAA,CACLH,EACAE,EACAf,GAEA,OAAO5B,KAAKoB,cAAcwB,IAAOH,EAAKE,EAAMf,EAC9C,CAEOiB,OACLJ,EACAb,GAEA,OAAO5B,KAAKoB,cAAcyB,OAAUJ,EAAKb,EAC3C,CAEOkB,KAAAA,CACLL,EACAE,EACAf,GAEA,OAAO5B,KAAKoB,cAAc0B,MAASL,EAAKE,EAAMf,EAChD,EAGF,QAAmBX,C,gJCvFnB,MAAM8B,EAAa,CAAEC,MAAO,uBACtBC,EAAa,CAAED,MAAO,eACtBE,EAAa,CAAEF,MAAO,cACtBG,EAAa,CAAEH,MAAO,gBACtBI,EAAa,CAAEJ,MAAO,gBACtBK,EAAa,CAAEL,MAAO,cACtBM,EAAa,CAAEN,MAAO,cACtBO,EAAa,CAAEP,MAAO,cACtBQ,EAAa,CAAER,MAAO,iBACtBS,EAAc,CAClBC,IAAK,EACLV,MAAO,eAEHW,EAAc,CAClBD,IAAK,EACLV,MAAO,iBAEHY,EAAc,CAAEZ,MAAO,oBACvBa,EAAc,CAAEb,MAAO,cACvBc,EAAc,CAAEd,MAAO,mBACvBe,EAAc,CAAEf,MAAO,kBACvBgB,EAAc,CAClBN,IAAK,EACLV,MAAO,iBAEHiB,EAAc,CAAEjB,MAAO,gBACvBkB,EAAc,CAClBR,IAAK,EACLV,MAAO,mBAEHmB,EAAc,CAClBT,IAAK,EACLV,MAAO,iBAEHoB,EAAc,CAAEpB,MAAO,mBAU7B,OAA4BqB,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,gBACRC,KAAAA,CAAMC,GC4MR,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,GAAaC,EAAAA,EAAAA,IAAI,GACjBC,GAASD,EAAAA,EAAAA,KAAI,GACbE,GAAaF,EAAAA,EAAAA,KAAI,GACjBG,GAAcH,EAAAA,EAAAA,IAAW,IACzBI,GAAeJ,EAAAA,EAAAA,IAAI,GAEnBK,GAAaC,EAAAA,EAAAA,IAAS,MAAQT,EAAMU,OAAOC,IAE3CC,GAAaC,EAAAA,EAAAA,IAA0B,CAC3CC,YAAa,GACbC,aAAc,YACdC,SAAU,GACVC,aAAc,GACdC,QAAS,CACPC,OAAQ,GACRC,OAAQ,SAKNC,EAAsE,CAC1E,YAAa,CACX,CAACC,MAAO,eAAgB7F,MAAO,gBAC/B,CAAC6F,MAAO,SAAU7F,MAAO,UACzB,CAAC6F,MAAO,MAAO7F,MAAO,OACtB,CAAC6F,MAAO,QAAS7F,MAAO,2BACxB,CAAC6F,MAAO,YAAa7F,MAAO,aAC5B,CAAC6F,MAAO,YAAa7F,MAAO,aAC5B,CAAC6F,MAAO,YAAa7F,MAAO,oCAC5B,CAAC6F,MAAO,YAAa7F,MAAO,oCAC5B,CAAC6F,MAAO,eAAgB7F,MAAO,oCAC/B,CACE6F,MAAO,sBACP7F,MAAO,+CAGX,YAAa,CACX,CAAC6F,MAAO,YAAa7F,MAAO,gBAC5B,CAAC6F,MAAO,OAAQ7F,MAAO,QACvB,CAAC6F,MAAO,gBAAiB7F,MAAO,iBAChC,CAAC6F,MAAO,eAAgB7F,MAAO,gBAC/B,CAAC6F,MAAO,UAAW7F,MAAO,YAE5B,YAAa,CACX,CAAC6F,MAAO,YAAa7F,MAAO,gBAC5B,CAAC6F,MAAO,iBAAkB7F,MAAO,qBACjC,CAAC6F,MAAO,eAAgB7F,MAAO,gBAC/B,CAAC6F,MAAO,gBAAiB7F,MAAO,iBAChC,CAAC6F,MAAO,UAAW7F,MAAO,WAC1B,CAAC6F,MAAO,aAAc7F,MAAO,cAC7B,CAAC6F,MAAO,QAAS7F,MAAO,UAE1B,WAAY,CACV,CAAC6F,MAAO,YAAa7F,MAAO,gBAC5B,CAAC6F,MAAO,aAAc7F,MAAO,cAC7B,CAAC6F,MAAO,YAAa7F,MAAO,aAC5B,CAAC6F,MAAO,WAAY7F,MAAO,aAE7B8F,MAAO,CACL,CAACD,MAAO,YAAa7F,MAAO,gBAC5B,CAAC6F,MAAO,QAAS7F,MAAO,SACxB,CAAC6F,MAAO,eAAgB7F,MAAO,gBAC/B,CAAC6F,MAAO,UAAW7F,MAAO,WAC1B,CAAC6F,MAAO,SAAU7F,MAAO,UACzB,CAAC6F,MAAO,WAAY7F,MAAO,YAC3B,CAAC6F,MAAO,YAAa7F,MAAO,cAE9B,YAAa,CACX,CAAC6F,MAAO,YAAa7F,MAAO,gBAC5B,CAAC6F,MAAO,iBAAkB7F,MAAO,qBACjC,CAAC6F,MAAO,UAAW7F,MAAO,WAC1B,CAAC6F,MAAO,WAAY7F,MAAO,YAC3B,CAAC6F,MAAO,YAAa7F,MAAO,aAC5B,CAAC6F,MAAO,aAAc7F,MAAO,gBAI3B+F,GAAkBf,EAAAA,EAAAA,IAAS,IACxBY,EAAaT,EAAWG,cAAgB,cAAgB,IAG3DU,EAAyBA,KAE7Bb,EAAWK,aAAe,GAC1BL,EAAWI,SAAW,GACtBJ,EAAWM,QAAU,CAACC,OAAQ,GAAIC,OAAQ,OAC1Cd,EAAY7E,MAAQ,GACpB8E,EAAa9E,MAAQ,GAGjBiG,EAAcA,KAClBd,EAAWI,UAAUW,KAAK,CACxBR,OAAQ,GACRS,UAAW,IACXC,QAAS,MAIPC,EAAkBC,IACtBnB,EAAWI,UAAUgB,OAAOD,EAAO,IAG/BE,EAAWA,KACf,GAAyB,IAArB/B,EAAWzE,MAAa,CAC1B,IAAKmF,EAAWE,YAEd,YADAoB,EAAAA,GAAUC,QAAQ,6BAGpB,IAAKvB,EAAWG,aAEd,YADAmB,EAAAA,GAAUC,QAAQ,6B,CAKG,IAArBjC,EAAWzE,OACRmF,EAAWK,cAAmD,IAAnCL,EAAWK,aAAamB,OAMtDlC,EAAWzE,MAAQ,GACrByE,EAAWzE,QANTyG,EAAAA,GAAUC,QAAQ,8CAUlBE,EAAWA,KACXnC,EAAWzE,MAAQ,GACrByE,EAAWzE,SAIT6G,EAAgBC,UACpB,GAAK3B,EAAWG,aAAhB,CAKAV,EAAW5E,OAAQ,EACnB,IACE,MAAM+B,QAAiBgF,EAAAA,EAAcC,SAAS,CAC5C1B,aAAcH,EAAWG,aACzBC,SAAUJ,EAAWI,SACrBC,aAAcL,EAAWK,aACzBC,QAASN,EAAWM,QACpBwB,KAAM,EACNC,MAAO,KAGTrC,EAAY7E,MAAQ+B,EAASQ,KAC7BuC,EAAa9E,MAAQ+B,EAASoF,MAC9BV,EAAAA,GAAUW,QAAQ,YAAYrF,EAASoF,gB,CACvC,MAAOE,GACP1G,QAAQd,MAAM,2BAA4BwH,GAC1CZ,EAAAA,GAAU5G,MAAM,kC,CAChB,QACA+E,EAAW5E,OAAQ,C,OAtBnByG,EAAAA,GAAUC,QAAQ,+BA0BhBY,EAAaR,UACjB,GAAK3B,EAAWE,YAIhB,GAAKF,EAAWG,aAAhB,CAKAX,EAAO3E,OAAQ,EACf,IACM+E,EAAW/E,aACP+G,EAAAA,EAAcQ,OAAOhD,EAAMU,OAAOC,GAAcC,GACtDsB,EAAAA,GAAUW,QAAQ,uCAEZL,EAAAA,EAAc7F,OAAOiE,GAC3BsB,EAAAA,GAAUW,QAAQ,2BAEpB/C,EAAO6B,KAAK,W,CACZ,MAAOmB,GACP1G,QAAQd,MAAM,uBAAwBwH,GACtCZ,EAAAA,GAAU5G,MAAMwH,EAAItF,UAAUQ,MAAMiF,KAAO,wB,CAC3C,QACA7C,EAAO3E,OAAQ,C,OAlBfyG,EAAAA,GAAUC,QAAQ,mCAJlBD,EAAAA,GAAUC,QAAQ,8BA0BhBe,EAAeA,KACnBpD,EAAO6B,KAAK,aAGRwB,EAAiBC,IACrB,MAAMC,EAAQ7B,EAAgB/F,MAAMN,KAAMmI,GAAMA,EAAE7H,QAAU2H,GAC5D,OAAOC,EAAQA,EAAM/B,MAAQ8B,GAGzBG,EAAmB9H,GACT,OAAVA,QAA4B+H,IAAV/H,EAA4B,IAC7B,kBAAVA,EACLA,EAAMgI,IAAYhI,EAAMgI,IACxBhI,EAAMiI,cAAsBjI,EAAMiI,cAClCjI,EAAMkI,QAAUlI,EAAMgI,IAAY,GAAGhI,EAAMkI,UAAUlI,EAAMgI,MACxDG,KAAKC,UAAUpI,GAEH,mBAAVA,EAA4BA,EAAQ,KAAO,QAC/CqI,OAAOrI,GDrLhB,OCyLAsI,EAAAA,EAAAA,IAAUxB,UACR,GAAI/B,EAAW/E,MACb,IACE,MAAMuI,QAAexB,EAAAA,EAAcyB,QAAQjE,EAAMU,OAAOC,IACxDC,EAAWE,YAAckD,EAAOlD,YAChCF,EAAWG,aAAeiD,EAAOjD,aACjCH,EAAWI,SAAWgD,EAAOhD,UAAY,GACzCJ,EAAWK,aAAe+C,EAAO/C,cAAgB,GACjDL,EAAWM,QAAU8C,EAAO9C,SAAW,CAACC,OAAQ,GAAIC,OAAQ,M,CAC5D,MAAO0B,GACP1G,QAAQd,MAAM,wBAAyBwH,GACvCZ,EAAAA,GAAU5G,MAAM,yBAChBwE,EAAO6B,KAAK,W,IDrMX,CAACuC,EAAUC,KAChB,MAAMC,GAAuBC,EAAAA,EAAAA,IAAkB,aACzCC,GAAqBD,EAAAA,EAAAA,IAAkB,WACvCE,GAAsBF,EAAAA,EAAAA,IAAkB,YACxCG,GAAsBH,EAAAA,EAAAA,IAAkB,YACxCI,GAA0BJ,EAAAA,EAAAA,IAAkB,gBAC5CK,GAAuBL,EAAAA,EAAAA,IAAkB,aACzCM,GAAuBN,EAAAA,EAAAA,IAAkB,aACzCO,GAAqBP,EAAAA,EAAAA,IAAkB,WACvCQ,GAAyBR,EAAAA,EAAAA,IAAkB,eAC3CS,GAA+BT,EAAAA,EAAAA,IAAkB,qBACjDU,GAAoBV,EAAAA,EAAAA,IAAkB,UACtCW,GAAoBX,EAAAA,EAAAA,IAAkB,UACtCY,IAAqBZ,EAAAA,EAAAA,IAAkB,WACvCa,IAAsBb,EAAAA,EAAAA,IAAkB,YACxCc,IAA4Bd,EAAAA,EAAAA,IAAkB,kBAC9Ce,IAAwBf,EAAAA,EAAAA,IAAkB,cAC1CgB,IAA6BhB,EAAAA,EAAAA,IAAkB,mBAC/CiB,IAAsBjB,EAAAA,EAAAA,IAAkB,YACxCkB,IAAqBlB,EAAAA,EAAAA,IAAkB,WAE7C,OAAQmB,EAAAA,EAAAA,OC7SRC,EAAAA,EAAAA,IAiPM,MAjPNrH,EAiPM,EA/OJsH,EAAAA,EAAAA,IAUM,MAVNpH,EAUM,EATJoH,EAAAA,EAAAA,IAEK,KAFLnH,GAEKoH,EAAAA,EAAAA,IADAnF,EAAA/E,MAAa,oBAAsB,mBAAzB,IAEfiK,EAAAA,EAAAA,IAKM,MALNlH,EAKM,EAJJoH,EAAAA,EAAAA,IAAgDxB,EAAA,CAApCyB,QAAO3C,GAAY,CD2S7B4C,SAASC,EAAAA,EAAAA,IC3SsB,IAAG,IAAA5B,EAAA,KAAAA,EAAA,KD4ShC6B,EAAAA,EAAAA,IC5S6B,OAAG,OD8SlCC,EAAG,KC7SLL,EAAAA,EAAAA,IAEYxB,EAAA,CAFD8B,KAAK,UAAWC,QAAS/F,EAAA3E,MAASoK,QAAO9C,GDmTjD,CACD+C,SAASC,EAAAA,EAAAA,ICnTT,IAA6C,EDoT3CC,EAAAA,EAAAA,KAAiBL,EAAAA,EAAAA,ICpThBnF,EAAA/E,MAAa,WAAa,eAAhB,KDsTbwK,EAAG,GACF,EAAG,CAAC,iBClTXL,EAAAA,EAAAA,IAkOUX,GAAA,CAlODmB,OAAO,SAAO,CDsTrBN,SAASC,EAAAA,EAAAA,ICpTT,IASW,EATXH,EAAAA,EAAAA,IASWrB,EAAA,CARR8B,OAAQnG,EAAAzE,MACT,gBAAc,UACd4C,MAAM,mBDsTH,CACDyH,SAASC,EAAAA,EAAAA,ICrTX,IAAoC,EAApCH,EAAAA,EAAAA,IAAoCtB,EAAA,CAA3BgC,MAAM,sBACfV,EAAAA,EAAAA,IAAqCtB,EAAA,CAA5BgC,MAAM,uBACfV,EAAAA,EAAAA,IAAoCtB,EAAA,CAA3BgC,MAAM,sBACfV,EAAAA,EAAAA,IAAuCtB,EAAA,CAA9BgC,MAAM,0BDwTbL,EAAG,GACF,EAAG,CAAC,YCrTTP,EAAAA,EAAAA,IAyMM,MAzMNjH,EAyMM,ED8GF8H,EAAAA,EAAAA,KCrTFb,EAAAA,EAAAA,IA+BM,MA/BNhH,EA+BM,EA9BJkH,EAAAA,EAAAA,IA6BUhB,EAAA,CA5BP4B,MAAO5F,EACR,cAAY,QACZ,iBAAe,QDsTZ,CACDkF,SAASC,EAAAA,EAAAA,ICrTX,IAOe,EAPfH,EAAAA,EAAAA,IAOenB,EAAA,CAPDnD,MAAM,cAAcmF,SAAA,IDyT3B,CACDX,SAASC,EAAAA,EAAAA,ICzTb,IAKE,EALFH,EAAAA,EAAAA,IAKEpB,EAAA,CDsTMkC,WC1TG9F,EAAWE,YD2Td,sBAAuBqD,EAAO,KAAOA,EAAO,GAAMwC,GC3T/C/F,EAAWE,YAAW6F,GAC/BC,YAAY,mBACZC,UAAU,MACV,sBD4TO,KAAM,EAAG,CAAC,iBAEfZ,EAAG,KC1TTL,EAAAA,EAAAA,IAcenB,EAAA,CAdDnD,MAAM,eAAemF,SAAA,ID+T5B,CACDX,SAASC,EAAAA,EAAAA,IC/Tb,IAYY,EAZZH,EAAAA,EAAAA,IAYYjB,EAAA,CDqTJ+B,WChUG9F,EAAWG,aDiUd,sBAAuBoD,EAAO,KAAOA,EAAO,GAAMwC,GCjU/C/F,EAAWG,aAAY4F,GAChCC,YAAY,oBACZE,MAAA,eACCC,SAAQtF,GDkUF,CACDqE,SAASC,EAAAA,EAAAA,ICjUf,IAAiD,EAAjDH,EAAAA,EAAAA,IAAiDlB,EAAA,CAAtCpD,MAAM,YAAY7F,MAAM,eACnCmK,EAAAA,EAAAA,IAAiDlB,EAAA,CAAtCpD,MAAM,YAAY7F,MAAM,eACnCmK,EAAAA,EAAAA,IAAiDlB,EAAA,CAAtCpD,MAAM,YAAY7F,MAAM,eACnCmK,EAAAA,EAAAA,IAA+ClB,EAAA,CAApCpD,MAAM,WAAW7F,MAAM,cAClCmK,EAAAA,EAAAA,IAAyClB,EAAA,CAA9BpD,MAAM,QAAQ7F,MAAM,WAC/BmK,EAAAA,EAAAA,IAAiDlB,EAAA,CAAtCpD,MAAM,YAAY7F,MAAM,gBDsV7BwK,EAAG,GACF,EAAG,CAAC,iBAETA,EAAG,MAGPA,EAAG,GACF,EAAG,CAAC,WACN,KAAM,CACP,CAACe,EAAAA,GC1XuB,IAAf9G,EAAAzE,UD4XX8K,EAAAA,EAAAA,KC1VFb,EAAAA,EAAAA,IAeM,MAfN/G,EAeM,CD4UFwF,EAAO,KAAOA,EAAO,IC1VvBuB,EAAAA,EAAAA,IAAiD,UAA7C,4CAAwC,KAC5CE,EAAAA,EAAAA,IAYoBd,EAAA,CD+UhB4B,WC1VO9F,EAAWK,aD2VlB,sBAAuBkD,EAAO,KAAOA,EAAO,GAAMwC,GC3V3C/F,EAAWK,aAAY0F,GAChCtI,MAAM,qBD4VH,CACDyH,SAASC,EAAAA,EAAAA,IC1VT,IAAgC,GD2V7BP,EAAAA,EAAAA,KAAW,IC5VhBC,EAAAA,EAAAA,IAOcwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANI1F,EAAA/F,MAAT2H,KD4VKoC,EAAAA,EAAAA,OC7Vd2B,EAAAA,EAAAA,IAOctC,EAAA,CALX9F,IAAKqE,EAAM3H,MACX6F,MAAO8B,EAAM3H,MACd2L,OAAA,ID6VO,CACDtB,SAASC,EAAAA,EAAAA,IC5Vf,IAAiB,ED6VTC,EAAAA,EAAAA,KAAiBL,EAAAA,EAAAA,IC7VtBvC,EAAM9B,OAAK,KD+VR2E,EAAG,GACF,KAAM,CAAC,YACR,QAENA,EAAG,GACF,EAAG,CAAC,gBACN,KAAM,CACP,CAACe,EAAAA,GClXuB,IAAf9G,EAAAzE,UDoXX8K,EAAAA,EAAAA,KClWFb,EAAAA,EAAAA,IAqEM,MArEN9G,EAqEM,EApEJ8G,EAAAA,EAAAA,IAKM,MALN7G,EAKM,CD8VFsF,EAAO,KAAOA,EAAO,IClWvBuB,EAAAA,EAAAA,IAAyB,UAArB,oBAAgB,KACpBE,EAAAA,EAAAA,IAEYxB,EAAA,CAFD8B,KAAK,UAAWmB,MAAMC,EAAAA,EAAAA,IAAAC,EAAAA,MAAO1B,QAAOnE,GDsW1C,CACDoE,SAASC,EAAAA,EAAAA,ICvW+C,IAE5D,IAAA5B,EAAA,KAAAA,EAAA,KDsWM6B,EAAAA,EAAAA,ICxWsD,mBAE5D,ODwWIC,EAAG,GACF,EAAG,CAAC,WCtW+B,IAA/BrF,EAAWI,SAASoB,SDyWxBoD,EAAAA,EAAAA,OCzWPC,EAAAA,EAAAA,IAEM,MAFN3G,EAEM,IAAAqF,EAAA,KAAAA,EAAA,KADJuB,EAAAA,EAAAA,IAAiE,SAA9D,8DAA0D,UD2WxDF,EAAAA,EAAAA,OCxWPC,EAAAA,EAAAA,IAwDM,MAxDNzG,EAwDM,GDiTGwG,EAAAA,EAAAA,KAAW,ICxWlBC,EAAAA,EAAAA,IAsDUwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArDoBtG,EAAWI,SAAQ,CAAvCwG,EAAUzF,MDwWJyD,EAAAA,EAAAA,OCzWhB2B,EAAAA,EAAAA,IAsDUlC,GAAA,CApDPlG,IAAKgD,EACN1D,MAAM,gBACN+H,OAAO,SDyWE,CACDN,SAASC,EAAAA,EAAAA,ICxWjB,IA+CM,EA/CNL,EAAAA,EAAAA,IA+CM,MA/CNzG,EA+CM,EA9CJ2G,EAAAA,EAAAA,IA6CSZ,EAAA,CA7CAyC,OAAQ,IAAE,CD0WP3B,SAASC,EAAAA,EAAAA,ICzWnB,IAaS,EAbTH,EAAAA,EAAAA,IAaSb,EAAA,CAbA2C,KAAM,GAAC,CD2WF5B,SAASC,EAAAA,EAAAA,IC1WrB,IAWY,EAXZH,EAAAA,EAAAA,IAWYjB,EAAA,CDiWI+B,WC3WLc,EAASrG,OD4WJ,sBAAwBwF,GC5W7Ba,EAASrG,OAAMwF,EACxBC,YAAY,cACZE,MAAA,gBD6We,CACDhB,SAASC,EAAAA,EAAAA,IC3WrB,IAAgC,GD4WjBP,EAAAA,EAAAA,KAAW,IC7W5BC,EAAAA,EAAAA,IAKEwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgB1F,EAAA/F,MAAT2H,KD6WiBoC,EAAAA,EAAAA,OC9W1B2B,EAAAA,EAAAA,IAKEzC,EAAA,CAHC3F,IAAKqE,EAAM3H,MACX6F,MAAO8B,EAAM9B,MACb7F,MAAO2H,EAAM3H,OD8WK,KAAM,EAAG,CAAC,QAAS,YACpB,QAENwK,EAAG,GACF,EAAG,CAAC,aAAc,0BAEvBA,EAAG,GACF,OCjXfL,EAAAA,EAAAA,IAeSb,EAAA,CAfA2C,KAAM,GAAC,CDmXF5B,SAASC,EAAAA,EAAAA,IClXrB,IAaY,EAbZH,EAAAA,EAAAA,IAaYjB,EAAA,CDuWI+B,WCnXLc,EAAS5F,UDoXJ,sBAAwB+E,GCpX7Ba,EAAS5F,UAAS+E,EAC3BC,YAAY,YACZE,MAAA,gBDqXe,CACDhB,SAASC,EAAAA,EAAAA,ICpXvB,IAAwC,EAAxCH,EAAAA,EAAAA,IAAwClB,EAAA,CAA7BpD,MAAM,WAAW7F,MAAM,OAClCmK,EAAAA,EAAAA,IAA0ClB,EAAA,CAA/BpD,MAAM,YAAY7F,MAAM,QACnCmK,EAAAA,EAAAA,IAA2ClB,EAAA,CAAhCpD,MAAM,cAAc7F,MAAM,OACrCmK,EAAAA,EAAAA,IAA2ClB,EAAA,CAAhCpD,MAAM,cAAc7F,MAAM,OACrCmK,EAAAA,EAAAA,IAAuDlB,EAAA,CAA5CpD,MAAM,yBAAyB7F,MAAM,QAChDmK,EAAAA,EAAAA,IAAuDlB,EAAA,CAA5CpD,MAAM,yBAAyB7F,MAAM,QAChDmK,EAAAA,EAAAA,IAA8ClB,EAAA,CAAnCpD,MAAM,cAAc7F,MAAM,UACrCmK,EAAAA,EAAAA,IAA2ClB,EAAA,CAAhCpD,MAAM,aAAa7F,MAAM,SD+YtBwK,EAAG,GACF,EAAG,CAAC,aAAc,0BAEvBA,EAAG,GACF,OChZfL,EAAAA,EAAAA,IAKSb,EAAA,CALA2C,KAAM,IAAE,CDkZH5B,SAASC,EAAAA,EAAAA,ICjZrB,IAGE,EAHFH,EAAAA,EAAAA,IAGEpB,EAAA,CDgZckC,WClZLc,EAAS3F,QDmZJ,sBAAwB8E,GCnZ7Ba,EAAS3F,QAAO8E,EACzBC,YAAY,WDoZG,KAAM,EAAG,CAAC,aAAc,0BAE7BX,EAAG,GACF,OCpZfL,EAAAA,EAAAA,IAOSb,EAAA,CAPA2C,KAAM,GAAC,CDsZF5B,SAASC,EAAAA,EAAAA,ICrZrB,IAKE,EALFH,EAAAA,EAAAA,IAKExB,EAAA,CAJA8B,KAAK,SACJmB,MAAMC,EAAAA,EAAAA,IAAAK,EAAAA,QACPC,OAAA,GACC/B,QAAKc,GAAE7E,EAAeC,IDuZR,KAAM,EAAG,CAAC,OAAQ,cAEvBkE,EAAG,GACF,QAELA,EAAG,GACF,UAGPA,EAAG,GACF,QACD,UAET,KAAM,CACP,CAACe,EAAAA,GCneuB,IAAf9G,EAAAzE,UDqeX8K,EAAAA,EAAAA,KC7ZFb,EAAAA,EAAAA,IA0EM,MA1ENxG,EA0EM,CDoVFiF,EAAO,MAAQA,EAAO,KC7ZxBuB,EAAAA,EAAAA,IAA0B,UAAtB,qBAAiB,KACrBE,EAAAA,EAAAA,IA2BUhB,EAAA,CA1BP4B,MAAO5F,EACR,cAAY,QACZ,iBAAe,QD8ZZ,CACDkF,SAASC,EAAAA,EAAAA,IC7ZX,IAce,EAdfH,EAAAA,EAAAA,IAcenB,EAAA,CAdDnD,MAAM,gBAAc,CD+Z5BwE,SAASC,EAAAA,EAAAA,IC9Zb,IAYY,EAZZH,EAAAA,EAAAA,IAYYjB,EAAA,CDoZJ+B,WC/ZG9F,EAAWM,QAAQC,ODgatB,sBAAuBgD,EAAO,KAAOA,EAAO,GAAMwC,GCha/C/F,EAAWM,QAAQC,OAAMwF,GAClCC,YAAY,sBACZiB,UAAA,GACAf,MAAA,gBDiaO,CACDhB,SAASC,EAAAA,EAAAA,IC/Zb,IAAgC,GDgazBP,EAAAA,EAAAA,KAAW,ICjapBC,EAAAA,EAAAA,IAKEwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJgB1F,EAAA/F,MAAT2H,KDiaSoC,EAAAA,EAAAA,OClalB2B,EAAAA,EAAAA,IAKEzC,EAAA,CAHC3F,IAAKqE,EAAM3H,MACX6F,MAAO8B,EAAM9B,MACb7F,MAAO2H,EAAM3H,ODkaH,KAAM,EAAG,CAAC,QAAS,YACpB,QAENwK,EAAG,GACF,EAAG,CAAC,iBAETA,EAAG,KCnaTL,EAAAA,EAAAA,IAKenB,EAAA,CALDnD,MAAM,UAAQ,CDsatBwE,SAASC,EAAAA,EAAAA,ICrab,IAGiB,EAHjBH,EAAAA,EAAAA,IAGiBT,GAAA,CDoaTuB,WCvaiB9F,EAAWM,QAAQE,ODwapC,sBAAuB+C,EAAO,KAAOA,EAAO,GAAMwC,GCxajC/F,EAAWM,QAAQE,OAAMuF,IDyazC,CACDb,SAASC,EAAAA,EAAAA,ICzaf,IAAyC,EAAzCH,EAAAA,EAAAA,IAAyCV,GAAA,CAA/B5D,MAAM,OAAK,CD2aXwE,SAASC,EAAAA,EAAAA,IC3aG,IAAQ,IAAA5B,EAAA,MAAAA,EAAA,MD4alB6B,EAAAA,EAAAA,IC5aU,YAAQ,OD8apBC,EAAG,KC7abL,EAAAA,EAAAA,IAA0CV,GAAA,CAAhC5D,MAAM,QAAM,CDgbZwE,SAASC,EAAAA,EAAAA,IChbI,IAAQ,IAAA5B,EAAA,MAAAA,EAAA,MDibnB6B,EAAAA,EAAAA,ICjbW,YAAQ,ODmbrBC,EAAG,MAGPA,EAAG,GACF,EAAG,CAAC,iBAETA,EAAG,MAGPA,EAAG,GACF,EAAG,CAAC,WCxbTL,EAAAA,EAAAA,IAAcR,KAEdM,EAAAA,EAAAA,IAwCM,MAxCNvG,EAwCM,EAvCJuG,EAAAA,EAAAA,IASM,MATNtG,EASM,CDgbF+E,EAAO,MAAQA,EAAO,KCxbxBuB,EAAAA,EAAAA,IAA0B,UAAtB,qBAAiB,KACrBE,EAAAA,EAAAA,IAMYxB,EAAA,CALV8B,KAAK,UACJC,QAAS9F,EAAA5E,MACToK,QAAOvD,GDybL,CACDwD,SAASC,EAAAA,EAAAA,ICzbZ,IAED,IAAA5B,EAAA,MAAAA,EAAA,MDwbM6B,EAAAA,EAAAA,IC1bL,mBAED,OD0bIC,EAAG,GACF,EAAG,CAAC,cCxbA3F,EAAA7E,MAAY2G,OAAS,ID2bzBoD,EAAAA,EAAAA,OC3bPC,EAAAA,EAAAA,IAmBM,MAnBNpG,EAmBM,EAlBJuG,EAAAA,EAAAA,IAYWN,GAAA,CAZAtH,KAAMsC,EAAA7E,MAAaqM,OAAA,GAAOV,OAAA,GAAO,aAAW,ODgc9C,CACDtB,SAASC,EAAAA,EAAAA,IC/bb,IAAsC,GDgc/BP,EAAAA,EAAAA,KAAW,ICjcpBC,EAAAA,EAAAA,IAUkBwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATFtG,EAAWK,aAAlB8G,KDicSvC,EAAAA,EAAAA,OClclB2B,EAAAA,EAAAA,IAUkB9B,GAAA,CARftG,IAAKgJ,EACLC,KAAMD,EACNzG,MAAO6B,EAAc4E,GACtB,YAAU,ODkcC,CChcAjC,SAAOC,EAAAA,EAAAA,IAChB,EADmBkC,SAAG,EDkcZjC,EAAAA,EAAAA,KAAiBL,EAAAA,EAAAA,ICjcxBpC,EAAgB0E,EAAIF,KAAG,KDmclB9B,EAAG,GACF,KAAM,CAAC,OAAQ,YAChB,QAENA,EAAG,GACF,EAAG,CAAC,UCpcbP,EAAAA,EAAAA,IAIM,MAJNpG,EAIM,EAHJsG,EAAAA,EAAAA,IAEUL,GAAA,CAFDW,KAAK,QAAM,CDscZJ,SAASC,EAAAA,EAAAA,ICtcI,IACV,EDscDC,EAAAA,EAAAA,ICvcW,cACVL,EAAAA,EAAAA,IAAGrF,EAAA7E,MAAY2G,QAAS,OAAGuD,EAAAA,EAAAA,IAAGpF,EAAA9E,OAAe,YACxD,KDucQwK,EAAG,SCncC5F,EAAA5E,QDwcP+J,EAAAA,EAAAA,OCxcTC,EAAAA,EAAAA,IAEM,MAFNlG,EAEM,EADJqG,EAAAA,EAAAA,IAAsCL,GAAA,MDyc5BO,SAASC,EAAAA,EAAAA,ICzcV,IAAmB,IAAA5B,EAAA,MAAAA,EAAA,MD0chB6B,EAAAA,EAAAA,IC1cH,uBAAmB,OD4clBC,EAAG,SAGNT,EAAAA,EAAAA,OC5cTC,EAAAA,EAAAA,IAEM,MAFNjG,EAEM,EADJoG,EAAAA,EAAAA,IAAkEL,GAAA,CAAzDW,KAAK,QAAM,CD6cVJ,SAASC,EAAAA,EAAAA,IC7cE,IAAmC,IAAA5B,EAAA,MAAAA,EAAA,MD8c5C6B,EAAAA,EAAAA,IC9cS,uCAAmC,ODgd9CC,EAAG,UAId,KAAM,CACP,CAACe,EAAAA,GC5hBuB,IAAf9G,EAAAzE,YA8EfiK,EAAAA,EAAAA,IAOM,MAPNjG,EAOM,CANaS,EAAAzE,MAAa,IDkdvB+J,EAAAA,EAAAA,OCldP2B,EAAAA,EAAAA,IAEY/C,EAAA,CDidJrF,IAAK,ECndqB8G,QAAOxD,GDqdhC,CACDyD,SAASC,EAAAA,EAAAA,ICtdkC,IAEnD,IAAA5B,EAAA,MAAAA,EAAA,MDqdU6B,EAAAA,EAAAA,ICvdyC,cAEnD,ODudQC,EAAG,MAELiC,EAAAA,EAAAA,IAAoB,IAAI,GCxdbhI,EAAAzE,MAAa,ID0dvB+J,EAAAA,EAAAA,OC1dP2B,EAAAA,EAAAA,IAEY/C,EAAA,CDydJrF,IAAK,EC3doBmH,KAAK,UAAWL,QAAO5D,GD8d/C,CACD6D,SAASC,EAAAA,EAAAA,IC/diD,IAElE,IAAA5B,EAAA,MAAAA,EAAA,MD8dU6B,EAAAA,EAAAA,IChewD,eAElE,ODgeQC,EAAG,MAELiC,EAAAA,EAAAA,IAAoB,IAAI,OAGhCjC,EAAG,MAIT,I,UEltBA,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,+CCCA,MAAMC,EAAa7L,WAAAA,IAAAC,EAAAA,EAAAA,GAAA,gBACW,WAAU,CAEtC,YAAM6L,CACJ3H,GAEA,MAAMlD,QAAiB8K,EAAAA,EAAIzK,IAA+BxC,KAAKkN,SAAU,CACvE7H,WAEF,OAAOlD,EAASQ,IAClB,CAEA,aAAMiG,CAAQtD,GACZ,MAAMnD,QAAiB8K,EAAAA,EAAIzK,IAAY,GAAGxC,KAAKkN,YAAY5H,KAC3D,OAAOnD,EAASQ,IAClB,CAEA,YAAMrB,CAAOqB,GACX,MAAMR,QAAiB8K,EAAAA,EAAIvK,KAAa1C,KAAKkN,SAAUvK,GACvD,OAAOR,EAASQ,IAClB,CAEA,YAAMgF,CAAOrC,EAAY3C,GACvB,MAAMR,QAAiB8K,EAAAA,EAAIrK,IAAY,GAAG5C,KAAKkN,YAAY5H,IAAM3C,GACjE,OAAOR,EAASQ,IAClB,CAEA,YAAME,CAAOyC,SACL2H,EAAAA,EAAIpK,OAAO,GAAG7C,KAAKkN,YAAY5H,IACvC,CAEA,cAAM8B,CAASzE,GACb,MAAMR,QAAiB8K,EAAAA,EAAIvK,KACzB,GAAG1C,KAAKkN,oBACRvK,GAEF,OAAOR,EAASQ,IAClB,CAEAwK,YAAAA,CAAa7H,GACX,MAAMzD,EAAQC,aAAaC,QAAQ,SACnC,MAAO,4BAA4B/B,KAAKkN,mBAAmB5H,WAAYzD,GACzE,CAEAuL,cAAAA,CAAe9H,GACb,MAAM7C,EAAMzC,KAAKmN,aAAa7H,GACxB+H,EAAOC,SAASC,cAAc,KACpCF,EAAK9K,KAAOE,EACZ4K,EAAKG,SAAW,UAAUlI,QAC1BgI,SAASG,KAAKC,YAAYL,GAC1BA,EAAKM,QACLL,SAASG,KAAKG,YAAYP,EAC5B,EAGF,QAAmBN,C,uBC/DnB,IAAI/N,EAAI,EAAQ,MACZ6O,EAAW,EAAQ,MACnBC,EAAoB,EAAQ,MAC5BC,EAAiB,EAAQ,MACzBC,EAA2B,EAAQ,MACnCC,EAAQ,EAAQ,MAEhBC,EAAsBD,EAAM,WAC9B,OAAoD,aAA7C,GAAG3H,KAAKrH,KAAK,CAAE8H,OAAQ,YAAe,EAC/C,GAIIoH,EAAiC,WACnC,IAEEC,OAAOC,eAAe,GAAI,SAAU,CAAEC,UAAU,IAAShI,MAC3D,CAAE,MAAOrG,GACP,OAAOA,aAAiBR,SAC1B,CACF,EAEI8O,EAASL,IAAwBC,IAIrCnP,EAAE,CAAEU,OAAQ,QAASC,OAAO,EAAM6O,MAAO,EAAG3O,OAAQ0O,GAAU,CAE5DjI,KAAM,SAAcmI,GAClB,IAAIC,EAAIb,EAAS7N,MACb2O,EAAMb,EAAkBY,GACxBE,EAAWC,UAAU9H,OACzBiH,EAAyBW,EAAMC,GAC/B,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAAUE,IAC5BJ,EAAEC,GAAOE,UAAUC,GACnBH,IAGF,OADAZ,EAAeW,EAAGC,GACXA,CACT,G,uBCvCF,IAAII,EAAU,EAAQ,MAKtBC,EAAOC,QAAUC,MAAMC,SAAW,SAAiBC,GACjD,MAA6B,UAAtBL,EAAQK,EACjB,C,uBCPA,IAAIC,EAAc,EAAQ,MACtBF,EAAU,EAAQ,MAElBG,EAAa7P,UAEb8P,EAA2BnB,OAAOmB,yBAGlCC,EAAoCH,IAAgB,WAEtD,QAAalH,IAATnI,KAAoB,OAAO,EAC/B,IAEEoO,OAAOC,eAAe,GAAI,SAAU,CAAEC,UAAU,IAASvH,OAAS,CACpE,CAAE,MAAO9G,GACP,OAAOA,aAAiBR,SAC1B,CACF,CATwD,GAWxDuP,EAAOC,QAAUO,EAAoC,SAAUd,EAAG3H,GAChE,GAAIoI,EAAQT,KAAOa,EAAyBb,EAAG,UAAUJ,SACvD,MAAM,IAAIgB,EAAW,gCACrB,OAAOZ,EAAE3H,OAASA,CACtB,EAAI,SAAU2H,EAAG3H,GACf,OAAO2H,EAAE3H,OAASA,CACpB,C,mBCzBA,IAAIuI,EAAa7P,UACbgQ,EAAmB,iBAEvBT,EAAOC,QAAU,SAAUS,GACzB,GAAIA,EAAKD,EAAkB,MAAMH,EAAW,kCAC5C,OAAOI,CACT,C","sources":["webpack://HungHutech/./node_modules/core-js/modules/es.iterator.find.js","webpack://HungHutech/./src/services/api.ts","webpack://HungHutech/./src/pages/ReportBuilder.vue?31d3","webpack://HungHutech/./src/pages/ReportBuilder.vue","webpack://HungHutech/./src/pages/ReportBuilder.vue?48c8","webpack://HungHutech/./src/services/reportService.ts","webpack://HungHutech/./node_modules/core-js/modules/es.array.push.js","webpack://HungHutech/./node_modules/core-js/internals/is-array.js","webpack://HungHutech/./node_modules/core-js/internals/array-set-length.js","webpack://HungHutech/./node_modules/core-js/internals/does-not-exceed-safe-integer.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar findWithoutClosingOnEarlyError = iteratorHelperWithoutClosingOnEarlyError('find', TypeError);\n\n// `Iterator.prototype.find` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.find\n$({ target: 'Iterator', proto: true, real: true, forced: findWithoutClosingOnEarlyError }, {\n  find: function find(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (findWithoutClosingOnEarlyError) return call(findWithoutClosingOnEarlyError, this, predicate);\n\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop(value);\n    }, { IS_RECORD: true, INTERRUPTED: true }).result;\n  }\n});\n","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse} from 'axios';\n\n// Base URL config via server-injected window.appGlobal or env\nconst runtimeBase =\n  (window as any)?.appGlobal?.baseUrl &&\n  `${(window as any).appGlobal.baseUrl}/api`;\nconst API_BASE_URL =\n  runtimeBase || process.env.VUE_APP_API_BASE_URL || 'http://localhost:5000/api';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nclass ApiService {\n  private axiosInstance: AxiosInstance;\n\n  constructor() {\n    this.axiosInstance = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Request interceptor - Add token to requests\n    this.axiosInstance.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      },\n    );\n\n    // Response interceptor - Handle errors\n    this.axiosInstance.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          window.location.href = '/login';\n        }\n        return Promise.reject(error);\n      },\n    );\n  }\n\n  public get<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.get<T>(url, config);\n  }\n\n  public post<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.post<T>(url, data, config);\n  }\n\n  public put<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.put<T>(url, data, config);\n  }\n\n  public delete<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.delete<T>(url, config);\n  }\n\n  public patch<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.patch<T>(url, data, config);\n  }\n}\n\nexport default new ApiService();\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, unref as _unref, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"report-builder-page\" }\nconst _hoisted_2 = { class: \"page-header\" }\nconst _hoisted_3 = { class: \"page-title\" }\nconst _hoisted_4 = { class: \"page-actions\" }\nconst _hoisted_5 = { class: \"step-content\" }\nconst _hoisted_6 = { class: \"step-panel\" }\nconst _hoisted_7 = { class: \"step-panel\" }\nconst _hoisted_8 = { class: \"step-panel\" }\nconst _hoisted_9 = { class: \"filter-header\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"empty-state\"\n}\nconst _hoisted_11 = {\n  key: 1,\n  class: \"criteria-list\"\n}\nconst _hoisted_12 = { class: \"criteria-content\" }\nconst _hoisted_13 = { class: \"step-panel\" }\nconst _hoisted_14 = { class: \"preview-section\" }\nconst _hoisted_15 = { class: \"preview-header\" }\nconst _hoisted_16 = {\n  key: 0,\n  class: \"preview-table\"\n}\nconst _hoisted_17 = { class: \"preview-info\" }\nconst _hoisted_18 = {\n  key: 1,\n  class: \"preview-loading\"\n}\nconst _hoisted_19 = {\n  key: 2,\n  class: \"preview-empty\"\n}\nconst _hoisted_20 = { class: \"step-navigation\" }\n\nimport {ref, reactive, onMounted, computed} from 'vue';\nimport {useRouter, useRoute} from 'vue-router';\nimport {Plus, Delete} from '@element-plus/icons-vue';\nimport {ElMessage} from 'element-plus';\nimport reportService from '@/services/reportService';\nimport {Report, ReportCriteria, ReportSort} from '@/types';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ReportBuilder',\n  setup(__props) {\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst activeStep = ref(0);\nconst saving = ref(false);\nconst previewing = ref(false);\nconst previewData = ref<any[]>([]);\nconst previewTotal = ref(0);\n\nconst isEditMode = computed(() => !!route.params.id);\n\nconst reportForm = reactive<Partial<Report>>({\n  ten_bao_cao: '',\n  loai_bao_cao: 'Nhan vien',\n  tieu_chi: [],\n  cot_hien_thi: [],\n  sap_xep: {\n    truong: '',\n    thu_tu: 'asc',\n  },\n});\n\n// Field configurations for each report type\nconst fieldConfigs: Record<string, Array<{label: string; value: string}>> = {\n  'Nhan vien': [\n    {label: 'Mã nhân viên', value: 'ma_nhan_vien'},\n    {label: 'Họ đệm', value: 'ho_dem'},\n    {label: 'Tên', value: 'ten'},\n    {label: 'Email', value: 'lien_he.email_cong_viec'},\n    {label: 'Ngày sinh', value: 'ngay_sinh'},\n    {label: 'Giới tính', value: 'gioi_tinh'},\n    {label: 'Phòng ban', value: 'thong_tin_cong_viec.phong_ban_id'},\n    {label: 'Chức danh', value: 'thong_tin_cong_viec.chuc_danh_id'},\n    {label: 'Ngày vào làm', value: 'thong_tin_cong_viec.ngay_vao_lam'},\n    {\n      label: 'Trạng thái lao động',\n      value: 'thong_tin_cong_viec.trang_thai_lao_dong_id',\n    },\n  ],\n  'Cham cong': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Ngày', value: 'ngay'},\n    {label: 'Thời gian vào', value: 'thoi_gian_vao'},\n    {label: 'Thời gian ra', value: 'thoi_gian_ra'},\n    {label: 'Ghi chú', value: 'ghi_chu'},\n  ],\n  'Nghi phep': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Loại ngày nghỉ', value: 'loai_ngay_nghi_id'},\n    {label: 'Ngày bắt đầu', value: 'ngay_bat_dau'},\n    {label: 'Ngày kết thúc', value: 'ngay_ket_thuc'},\n    {label: 'Số ngày', value: 'so_ngay'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n    {label: 'Lý do', value: 'ly_do'},\n  ],\n  'Boi hoan': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n    {label: 'Tổng tiền', value: 'tong_tien'},\n    {label: 'Ngày tạo', value: 'ngay_tao'},\n  ],\n  Luong: [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Tháng', value: 'thang'},\n    {label: 'Lương cơ bản', value: 'luong_co_ban'},\n    {label: 'Phụ cấp', value: 'phu_cap'},\n    {label: 'Thưởng', value: 'thuong'},\n    {label: 'Khấu trừ', value: 'khau_tru'},\n    {label: 'Thực lãnh', value: 'thuc_lanh'},\n  ],\n  'Hieu suat': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Người đánh giá', value: 'nguoi_danh_gia_id'},\n    {label: 'Từ ngày', value: 'tu_ngay'},\n    {label: 'Đến ngày', value: 'den_ngay'},\n    {label: 'Điểm tổng', value: 'diem_tong'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n  ],\n};\n\nconst availableFields = computed(() => {\n  return fieldConfigs[reportForm.loai_bao_cao || 'Nhan vien'] || [];\n});\n\nconst handleReportTypeChange = () => {\n  // Reset columns and criteria when report type changes\n  reportForm.cot_hien_thi = [];\n  reportForm.tieu_chi = [];\n  reportForm.sap_xep = {truong: '', thu_tu: 'asc'};\n  previewData.value = [];\n  previewTotal.value = 0;\n};\n\nconst addCriteria = () => {\n  reportForm.tieu_chi?.push({\n    truong: '',\n    dieu_kien: '=',\n    gia_tri: '',\n  });\n};\n\nconst removeCriteria = (index: number) => {\n  reportForm.tieu_chi?.splice(index, 1);\n};\n\nconst nextStep = () => {\n  if (activeStep.value === 0) {\n    if (!reportForm.ten_bao_cao) {\n      ElMessage.warning('Vui lòng nhập tên báo cáo');\n      return;\n    }\n    if (!reportForm.loai_bao_cao) {\n      ElMessage.warning('Vui lòng chọn loại báo cáo');\n      return;\n    }\n  }\n\n  if (activeStep.value === 1) {\n    if (!reportForm.cot_hien_thi || reportForm.cot_hien_thi.length === 0) {\n      ElMessage.warning('Vui lòng chọn ít nhất một cột để hiển thị');\n      return;\n    }\n  }\n\n  if (activeStep.value < 3) {\n    activeStep.value++;\n  }\n};\n\nconst prevStep = () => {\n  if (activeStep.value > 0) {\n    activeStep.value--;\n  }\n};\n\nconst handlePreview = async () => {\n  if (!reportForm.loai_bao_cao) {\n    ElMessage.warning('Vui lòng chọn loại báo cáo');\n    return;\n  }\n\n  previewing.value = true;\n  try {\n    const response = await reportService.generate({\n      loai_bao_cao: reportForm.loai_bao_cao as any,\n      tieu_chi: reportForm.tieu_chi as any,\n      cot_hien_thi: reportForm.cot_hien_thi,\n      sap_xep: reportForm.sap_xep as ReportSort,\n      page: 1,\n      limit: 10,\n    });\n\n    previewData.value = response.data;\n    previewTotal.value = response.total;\n    ElMessage.success(`Tìm thấy ${response.total} bản ghi`);\n  } catch (err: any) {\n    console.error('Error previewing report:', err);\n    ElMessage.error('Không thể tạo xem trước báo cáo');\n  } finally {\n    previewing.value = false;\n  }\n};\n\nconst handleSave = async () => {\n  if (!reportForm.ten_bao_cao) {\n    ElMessage.warning('Vui lòng nhập tên báo cáo');\n    return;\n  }\n  if (!reportForm.loai_bao_cao) {\n    ElMessage.warning('Vui lòng chọn loại báo cáo');\n    return;\n  }\n\n  saving.value = true;\n  try {\n    if (isEditMode.value) {\n      await reportService.update(route.params.id as string, reportForm);\n      ElMessage.success('Cập nhật báo cáo thành công');\n    } else {\n      await reportService.create(reportForm);\n      ElMessage.success('Tạo báo cáo thành công');\n    }\n    router.push('/bao-cao');\n  } catch (err: any) {\n    console.error('Error saving report:', err);\n    ElMessage.error(err.response?.data?.msg || 'Không thể lưu báo cáo');\n  } finally {\n    saving.value = false;\n  }\n};\n\nconst handleCancel = () => {\n  router.push('/bao-cao');\n};\n\nconst getFieldLabel = (field: string): string => {\n  const found = availableFields.value.find((f) => f.value === field);\n  return found ? found.label : field;\n};\n\nconst formatCellValue = (value: any): string => {\n  if (value === null || value === undefined) return '-';\n  if (typeof value === 'object') {\n    if (value.ten) return value.ten;\n    if (value.ten_chuc_danh) return value.ten_chuc_danh;\n    if (value.ho_dem && value.ten) return `${value.ho_dem} ${value.ten}`;\n    return JSON.stringify(value);\n  }\n  if (typeof value === 'boolean') return value ? 'Có' : 'Không';\n  return String(value);\n};\n\n// Load existing report if editing\nonMounted(async () => {\n  if (isEditMode.value) {\n    try {\n      const report = await reportService.getById(route.params.id as string);\n      reportForm.ten_bao_cao = report.ten_bao_cao;\n      reportForm.loai_bao_cao = report.loai_bao_cao;\n      reportForm.tieu_chi = report.tieu_chi || [];\n      reportForm.cot_hien_thi = report.cot_hien_thi || [];\n      reportForm.sap_xep = report.sap_xep || {truong: '', thu_tu: 'asc'};\n    } catch (err: any) {\n      console.error('Error loading report:', err);\n      ElMessage.error('Không thể tải báo cáo');\n      router.push('/bao-cao');\n    }\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_step = _resolveComponent(\"el-step\")!\n  const _component_el_steps = _resolveComponent(\"el-steps\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_radio = _resolveComponent(\"el-radio\")!\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_text = _resolveComponent(\"el-text\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"h1\", _hoisted_3, _toDisplayString(isEditMode.value ? 'Chỉnh sửa Báo cáo' : 'Tạo Báo cáo mới'), 1),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_el_button, { onClick: handleCancel }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [\n            _createTextVNode(\"Hủy\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          loading: saving.value,\n          onClick: handleSave\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(isEditMode.value ? 'Cập nhật' : 'Lưu báo cáo'), 1)\n          ]),\n          _: 1\n        }, 8, [\"loading\"])\n      ])\n    ]),\n    _createVNode(_component_el_card, { shadow: \"never\" }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_steps, {\n          active: activeStep.value,\n          \"finish-status\": \"success\",\n          class: \"steps-container\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_step, { title: \"Thông tin cơ bản\" }),\n            _createVNode(_component_el_step, { title: \"Chọn cột hiển thị\" }),\n            _createVNode(_component_el_step, { title: \"Thiết lập bộ lọc\" }),\n            _createVNode(_component_el_step, { title: \"Sắp xếp & Xem trước\" })\n          ]),\n          _: 1\n        }, 8, [\"active\"]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _withDirectives(_createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_el_form, {\n              model: reportForm,\n              \"label-width\": \"150px\",\n              \"label-position\": \"left\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_form_item, {\n                  label: \"Tên báo cáo\",\n                  required: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_input, {\n                      modelValue: reportForm.ten_bao_cao,\n                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((reportForm.ten_bao_cao) = $event)),\n                      placeholder: \"Nhập tên báo cáo\",\n                      maxlength: \"100\",\n                      \"show-word-limit\": \"\"\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_form_item, {\n                  label: \"Loại báo cáo\",\n                  required: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_select, {\n                      modelValue: reportForm.loai_bao_cao,\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((reportForm.loai_bao_cao) = $event)),\n                      placeholder: \"Chọn loại báo cáo\",\n                      style: {\"width\":\"100%\"},\n                      onChange: handleReportTypeChange\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_option, {\n                          label: \"Nhân viên\",\n                          value: \"Nhan vien\"\n                        }),\n                        _createVNode(_component_el_option, {\n                          label: \"Chấm công\",\n                          value: \"Cham cong\"\n                        }),\n                        _createVNode(_component_el_option, {\n                          label: \"Nghỉ phép\",\n                          value: \"Nghi phep\"\n                        }),\n                        _createVNode(_component_el_option, {\n                          label: \"Bồi hoàn\",\n                          value: \"Boi hoan\"\n                        }),\n                        _createVNode(_component_el_option, {\n                          label: \"Lương\",\n                          value: \"Luong\"\n                        }),\n                        _createVNode(_component_el_option, {\n                          label: \"Hiệu suất\",\n                          value: \"Hieu suat\"\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"model\"])\n          ], 512), [\n            [_vShow, activeStep.value === 0]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_7, [\n            _cache[6] || (_cache[6] = _createElementVNode(\"h3\", null, \"Chọn các cột muốn hiển thị trong báo cáo\", -1)),\n            _createVNode(_component_el_checkbox_group, {\n              modelValue: reportForm.cot_hien_thi,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((reportForm.cot_hien_thi) = $event)),\n              class: \"column-checkboxes\"\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableFields.value, (field) => {\n                  return (_openBlock(), _createBlock(_component_el_checkbox, {\n                    key: field.value,\n                    label: field.value,\n                    border: \"\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(field.label), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"label\"]))\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ], 512), [\n            [_vShow, activeStep.value === 1]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", _hoisted_9, [\n              _cache[8] || (_cache[8] = _createElementVNode(\"h3\", null, \"Thiết lập bộ lọc\", -1)),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                icon: _unref(Plus),\n                onClick: addCriteria\n              }, {\n                default: _withCtx(() => [...(_cache[7] || (_cache[7] = [\n                  _createTextVNode(\" Thêm tiêu chí \", -1)\n                ]))]),\n                _: 1\n              }, 8, [\"icon\"])\n            ]),\n            (reportForm.tieu_chi.length === 0)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [...(_cache[9] || (_cache[9] = [\n                  _createElementVNode(\"p\", null, \"Chưa có tiêu chí lọc nào. Nhấn \\\"Thêm tiêu chí\\\" để bắt đầu.\", -1)\n                ]))]))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(reportForm.tieu_chi, (criteria, index) => {\n                    return (_openBlock(), _createBlock(_component_el_card, {\n                      key: index,\n                      class: \"criteria-card\",\n                      shadow: \"hover\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_12, [\n                          _createVNode(_component_el_row, { gutter: 16 }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_el_col, { span: 7 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_el_select, {\n                                    modelValue: criteria.truong,\n                                    \"onUpdate:modelValue\": ($event: any) => ((criteria.truong) = $event),\n                                    placeholder: \"Chọn trường\",\n                                    style: {\"width\":\"100%\"}\n                                  }, {\n                                    default: _withCtx(() => [\n                                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableFields.value, (field) => {\n                                        return (_openBlock(), _createBlock(_component_el_option, {\n                                          key: field.value,\n                                          label: field.label,\n                                          value: field.value\n                                        }, null, 8, [\"label\", \"value\"]))\n                                      }), 128))\n                                    ]),\n                                    _: 1\n                                  }, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_el_col, { span: 5 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_el_select, {\n                                    modelValue: criteria.dieu_kien,\n                                    \"onUpdate:modelValue\": ($event: any) => ((criteria.dieu_kien) = $event),\n                                    placeholder: \"Điều kiện\",\n                                    style: {\"width\":\"100%\"}\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_el_option, {\n                                        label: \"Bằng (=)\",\n                                        value: \"=\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Khác (!=)\",\n                                        value: \"!=\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Lớn hơn (>)\",\n                                        value: \">\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Nhỏ hơn (<)\",\n                                        value: \"<\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Lớn hơn hoặc bằng (>=)\",\n                                        value: \">=\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Nhỏ hơn hoặc bằng (<=)\",\n                                        value: \"<=\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Chứa (LIKE)\",\n                                        value: \"LIKE\"\n                                      }),\n                                      _createVNode(_component_el_option, {\n                                        label: \"Trong (IN)\",\n                                        value: \"IN\"\n                                      })\n                                    ]),\n                                    _: 1\n                                  }, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_el_col, { span: 10 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_el_input, {\n                                    modelValue: criteria.gia_tri,\n                                    \"onUpdate:modelValue\": ($event: any) => ((criteria.gia_tri) = $event),\n                                    placeholder: \"Giá trị\"\n                                  }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"])\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_el_col, { span: 2 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_el_button, {\n                                    type: \"danger\",\n                                    icon: _unref(Delete),\n                                    circle: \"\",\n                                    onClick: ($event: any) => (removeCriteria(index))\n                                  }, null, 8, [\"icon\", \"onClick\"])\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1024)\n                        ])\n                      ]),\n                      _: 2\n                    }, 1024))\n                  }), 128))\n                ]))\n          ], 512), [\n            [_vShow, activeStep.value === 2]\n          ]),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_13, [\n            _cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"Thiết lập sắp xếp\", -1)),\n            _createVNode(_component_el_form, {\n              model: reportForm,\n              \"label-width\": \"150px\",\n              \"label-position\": \"left\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_form_item, { label: \"Sắp xếp theo\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_select, {\n                      modelValue: reportForm.sap_xep.truong,\n                      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((reportForm.sap_xep.truong) = $event)),\n                      placeholder: \"Chọn trường sắp xếp\",\n                      clearable: \"\",\n                      style: {\"width\":\"100%\"}\n                    }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(availableFields.value, (field) => {\n                          return (_openBlock(), _createBlock(_component_el_option, {\n                            key: field.value,\n                            label: field.label,\n                            value: field.value\n                          }, null, 8, [\"label\", \"value\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_el_form_item, { label: \"Thứ tự\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_radio_group, {\n                      modelValue: reportForm.sap_xep.thu_tu,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((reportForm.sap_xep.thu_tu) = $event))\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_radio, { label: \"asc\" }, {\n                          default: _withCtx(() => [...(_cache[10] || (_cache[10] = [\n                            _createTextVNode(\"Tăng dần\", -1)\n                          ]))]),\n                          _: 1\n                        }),\n                        _createVNode(_component_el_radio, { label: \"desc\" }, {\n                          default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n                            _createTextVNode(\"Giảm dần\", -1)\n                          ]))]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"model\"]),\n            _createVNode(_component_el_divider),\n            _createElementVNode(\"div\", _hoisted_14, [\n              _createElementVNode(\"div\", _hoisted_15, [\n                _cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"Xem trước kết quả\", -1)),\n                _createVNode(_component_el_button, {\n                  type: \"primary\",\n                  loading: previewing.value,\n                  onClick: handlePreview\n                }, {\n                  default: _withCtx(() => [...(_cache[12] || (_cache[12] = [\n                    _createTextVNode(\" Tạo xem trước \", -1)\n                  ]))]),\n                  _: 1\n                }, 8, [\"loading\"])\n              ]),\n              (previewData.value.length > 0)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                    _createVNode(_component_el_table, {\n                      data: previewData.value,\n                      stripe: \"\",\n                      border: \"\",\n                      \"max-height\": \"400\"\n                    }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(reportForm.cot_hien_thi, (col) => {\n                          return (_openBlock(), _createBlock(_component_el_table_column, {\n                            key: col,\n                            prop: col,\n                            label: getFieldLabel(col),\n                            \"min-width\": \"120\"\n                          }, {\n                            default: _withCtx(({row}) => [\n                              _createTextVNode(_toDisplayString(formatCellValue(row[col])), 1)\n                            ]),\n                            _: 2\n                          }, 1032, [\"prop\", \"label\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    }, 8, [\"data\"]),\n                    _createElementVNode(\"div\", _hoisted_17, [\n                      _createVNode(_component_el_text, { type: \"info\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\" Hiển thị \" + _toDisplayString(previewData.value.length) + \" / \" + _toDisplayString(previewTotal.value) + \" bản ghi \", 1)\n                        ]),\n                        _: 1\n                      })\n                    ])\n                  ]))\n                : (previewing.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                      _createVNode(_component_el_text, null, {\n                        default: _withCtx(() => [...(_cache[14] || (_cache[14] = [\n                          _createTextVNode(\"Đang tải dữ liệu...\", -1)\n                        ]))]),\n                        _: 1\n                      })\n                    ]))\n                  : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                      _createVNode(_component_el_text, { type: \"info\" }, {\n                        default: _withCtx(() => [...(_cache[15] || (_cache[15] = [\n                          _createTextVNode(\"Nhấn \\\"Tạo xem trước\\\" để xem kết quả\", -1)\n                        ]))]),\n                        _: 1\n                      })\n                    ]))\n            ])\n          ], 512), [\n            [_vShow, activeStep.value === 3]\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_20, [\n          (activeStep.value > 0)\n            ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 0,\n                onClick: prevStep\n              }, {\n                default: _withCtx(() => [...(_cache[17] || (_cache[17] = [\n                  _createTextVNode(\" Quay lại \", -1)\n                ]))]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (activeStep.value < 3)\n            ? (_openBlock(), _createBlock(_component_el_button, {\n                key: 1,\n                type: \"primary\",\n                onClick: nextStep\n              }, {\n                default: _withCtx(() => [...(_cache[18] || (_cache[18] = [\n                  _createTextVNode(\" Tiếp theo \", -1)\n                ]))]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true)\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"report-builder-page\">\n    <!-- Page Header -->\n    <div class=\"page-header\">\n      <h1 class=\"page-title\">\n        {{ isEditMode ? 'Chỉnh sửa Báo cáo' : 'Tạo Báo cáo mới' }}\n      </h1>\n      <div class=\"page-actions\">\n        <el-button @click=\"handleCancel\">Hủy</el-button>\n        <el-button type=\"primary\" :loading=\"saving\" @click=\"handleSave\">\n          {{ isEditMode ? 'Cập nhật' : 'Lưu báo cáo' }}\n        </el-button>\n      </div>\n    </div>\n\n    <el-card shadow=\"never\">\n      <!-- Steps -->\n      <el-steps\n        :active=\"activeStep\"\n        finish-status=\"success\"\n        class=\"steps-container\"\n      >\n        <el-step title=\"Thông tin cơ bản\" />\n        <el-step title=\"Chọn cột hiển thị\" />\n        <el-step title=\"Thiết lập bộ lọc\" />\n        <el-step title=\"Sắp xếp & Xem trước\" />\n      </el-steps>\n\n      <!-- Step Content -->\n      <div class=\"step-content\">\n        <!-- Step 1: Basic Info -->\n        <div v-show=\"activeStep === 0\" class=\"step-panel\">\n          <el-form\n            :model=\"reportForm\"\n            label-width=\"150px\"\n            label-position=\"left\"\n          >\n            <el-form-item label=\"Tên báo cáo\" required>\n              <el-input\n                v-model=\"reportForm.ten_bao_cao\"\n                placeholder=\"Nhập tên báo cáo\"\n                maxlength=\"100\"\n                show-word-limit\n              />\n            </el-form-item>\n\n            <el-form-item label=\"Loại báo cáo\" required>\n              <el-select\n                v-model=\"reportForm.loai_bao_cao\"\n                placeholder=\"Chọn loại báo cáo\"\n                style=\"width: 100%\"\n                @change=\"handleReportTypeChange\"\n              >\n                <el-option label=\"Nhân viên\" value=\"Nhan vien\" />\n                <el-option label=\"Chấm công\" value=\"Cham cong\" />\n                <el-option label=\"Nghỉ phép\" value=\"Nghi phep\" />\n                <el-option label=\"Bồi hoàn\" value=\"Boi hoan\" />\n                <el-option label=\"Lương\" value=\"Luong\" />\n                <el-option label=\"Hiệu suất\" value=\"Hieu suat\" />\n              </el-select>\n            </el-form-item>\n          </el-form>\n        </div>\n\n        <!-- Step 2: Select Columns -->\n        <div v-show=\"activeStep === 1\" class=\"step-panel\">\n          <h3>Chọn các cột muốn hiển thị trong báo cáo</h3>\n          <el-checkbox-group\n            v-model=\"reportForm.cot_hien_thi\"\n            class=\"column-checkboxes\"\n          >\n            <el-checkbox\n              v-for=\"field in availableFields\"\n              :key=\"field.value\"\n              :label=\"field.value\"\n              border\n            >\n              {{ field.label }}\n            </el-checkbox>\n          </el-checkbox-group>\n        </div>\n\n        <!-- Step 3: Filters -->\n        <div v-show=\"activeStep === 2\" class=\"step-panel\">\n          <div class=\"filter-header\">\n            <h3>Thiết lập bộ lọc</h3>\n            <el-button type=\"primary\" :icon=\"Plus\" @click=\"addCriteria\">\n              Thêm tiêu chí\n            </el-button>\n          </div>\n\n          <div v-if=\"reportForm.tieu_chi.length === 0\" class=\"empty-state\">\n            <p>Chưa có tiêu chí lọc nào. Nhấn \"Thêm tiêu chí\" để bắt đầu.</p>\n          </div>\n\n          <div v-else class=\"criteria-list\">\n            <el-card\n              v-for=\"(criteria, index) in reportForm.tieu_chi\"\n              :key=\"index\"\n              class=\"criteria-card\"\n              shadow=\"hover\"\n            >\n              <div class=\"criteria-content\">\n                <el-row :gutter=\"16\">\n                  <el-col :span=\"7\">\n                    <el-select\n                      v-model=\"criteria.truong\"\n                      placeholder=\"Chọn trường\"\n                      style=\"width: 100%\"\n                    >\n                      <el-option\n                        v-for=\"field in availableFields\"\n                        :key=\"field.value\"\n                        :label=\"field.label\"\n                        :value=\"field.value\"\n                      />\n                    </el-select>\n                  </el-col>\n                  <el-col :span=\"5\">\n                    <el-select\n                      v-model=\"criteria.dieu_kien\"\n                      placeholder=\"Điều kiện\"\n                      style=\"width: 100%\"\n                    >\n                      <el-option label=\"Bằng (=)\" value=\"=\" />\n                      <el-option label=\"Khác (!=)\" value=\"!=\" />\n                      <el-option label=\"Lớn hơn (>)\" value=\">\" />\n                      <el-option label=\"Nhỏ hơn (<)\" value=\"<\" />\n                      <el-option label=\"Lớn hơn hoặc bằng (>=)\" value=\">=\" />\n                      <el-option label=\"Nhỏ hơn hoặc bằng (<=)\" value=\"<=\" />\n                      <el-option label=\"Chứa (LIKE)\" value=\"LIKE\" />\n                      <el-option label=\"Trong (IN)\" value=\"IN\" />\n                    </el-select>\n                  </el-col>\n                  <el-col :span=\"10\">\n                    <el-input\n                      v-model=\"criteria.gia_tri\"\n                      placeholder=\"Giá trị\"\n                    />\n                  </el-col>\n                  <el-col :span=\"2\">\n                    <el-button\n                      type=\"danger\"\n                      :icon=\"Delete\"\n                      circle\n                      @click=\"removeCriteria(index)\"\n                    />\n                  </el-col>\n                </el-row>\n              </div>\n            </el-card>\n          </div>\n        </div>\n\n        <!-- Step 4: Sorting & Preview -->\n        <div v-show=\"activeStep === 3\" class=\"step-panel\">\n          <h3>Thiết lập sắp xếp</h3>\n          <el-form\n            :model=\"reportForm\"\n            label-width=\"150px\"\n            label-position=\"left\"\n          >\n            <el-form-item label=\"Sắp xếp theo\">\n              <el-select\n                v-model=\"reportForm.sap_xep.truong\"\n                placeholder=\"Chọn trường sắp xếp\"\n                clearable\n                style=\"width: 100%\"\n              >\n                <el-option\n                  v-for=\"field in availableFields\"\n                  :key=\"field.value\"\n                  :label=\"field.label\"\n                  :value=\"field.value\"\n                />\n              </el-select>\n            </el-form-item>\n\n            <el-form-item label=\"Thứ tự\">\n              <el-radio-group v-model=\"reportForm.sap_xep.thu_tu\">\n                <el-radio label=\"asc\">Tăng dần</el-radio>\n                <el-radio label=\"desc\">Giảm dần</el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-form>\n\n          <el-divider />\n\n          <div class=\"preview-section\">\n            <div class=\"preview-header\">\n              <h3>Xem trước kết quả</h3>\n              <el-button\n                type=\"primary\"\n                :loading=\"previewing\"\n                @click=\"handlePreview\"\n              >\n                Tạo xem trước\n              </el-button>\n            </div>\n\n            <div v-if=\"previewData.length > 0\" class=\"preview-table\">\n              <el-table :data=\"previewData\" stripe border max-height=\"400\">\n                <el-table-column\n                  v-for=\"col in reportForm.cot_hien_thi\"\n                  :key=\"col\"\n                  :prop=\"col\"\n                  :label=\"getFieldLabel(col)\"\n                  min-width=\"120\"\n                >\n                  <template #default=\"{row}\">\n                    {{ formatCellValue(row[col]) }}\n                  </template>\n                </el-table-column>\n              </el-table>\n              <div class=\"preview-info\">\n                <el-text type=\"info\">\n                  Hiển thị {{ previewData.length }} / {{ previewTotal }} bản ghi\n                </el-text>\n              </div>\n            </div>\n\n            <div v-else-if=\"previewing\" class=\"preview-loading\">\n              <el-text>Đang tải dữ liệu...</el-text>\n            </div>\n\n            <div v-else class=\"preview-empty\">\n              <el-text type=\"info\">Nhấn \"Tạo xem trước\" để xem kết quả</el-text>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Navigation Buttons -->\n      <div class=\"step-navigation\">\n        <el-button v-if=\"activeStep > 0\" @click=\"prevStep\">\n          Quay lại\n        </el-button>\n        <el-button v-if=\"activeStep < 3\" type=\"primary\" @click=\"nextStep\">\n          Tiếp theo\n        </el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, reactive, onMounted, computed} from 'vue';\nimport {useRouter, useRoute} from 'vue-router';\nimport {Plus, Delete} from '@element-plus/icons-vue';\nimport {ElMessage} from 'element-plus';\nimport reportService from '@/services/reportService';\nimport {Report, ReportCriteria, ReportSort} from '@/types';\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst activeStep = ref(0);\nconst saving = ref(false);\nconst previewing = ref(false);\nconst previewData = ref<any[]>([]);\nconst previewTotal = ref(0);\n\nconst isEditMode = computed(() => !!route.params.id);\n\nconst reportForm = reactive<Partial<Report>>({\n  ten_bao_cao: '',\n  loai_bao_cao: 'Nhan vien',\n  tieu_chi: [],\n  cot_hien_thi: [],\n  sap_xep: {\n    truong: '',\n    thu_tu: 'asc',\n  },\n});\n\n// Field configurations for each report type\nconst fieldConfigs: Record<string, Array<{label: string; value: string}>> = {\n  'Nhan vien': [\n    {label: 'Mã nhân viên', value: 'ma_nhan_vien'},\n    {label: 'Họ đệm', value: 'ho_dem'},\n    {label: 'Tên', value: 'ten'},\n    {label: 'Email', value: 'lien_he.email_cong_viec'},\n    {label: 'Ngày sinh', value: 'ngay_sinh'},\n    {label: 'Giới tính', value: 'gioi_tinh'},\n    {label: 'Phòng ban', value: 'thong_tin_cong_viec.phong_ban_id'},\n    {label: 'Chức danh', value: 'thong_tin_cong_viec.chuc_danh_id'},\n    {label: 'Ngày vào làm', value: 'thong_tin_cong_viec.ngay_vao_lam'},\n    {\n      label: 'Trạng thái lao động',\n      value: 'thong_tin_cong_viec.trang_thai_lao_dong_id',\n    },\n  ],\n  'Cham cong': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Ngày', value: 'ngay'},\n    {label: 'Thời gian vào', value: 'thoi_gian_vao'},\n    {label: 'Thời gian ra', value: 'thoi_gian_ra'},\n    {label: 'Ghi chú', value: 'ghi_chu'},\n  ],\n  'Nghi phep': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Loại ngày nghỉ', value: 'loai_ngay_nghi_id'},\n    {label: 'Ngày bắt đầu', value: 'ngay_bat_dau'},\n    {label: 'Ngày kết thúc', value: 'ngay_ket_thuc'},\n    {label: 'Số ngày', value: 'so_ngay'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n    {label: 'Lý do', value: 'ly_do'},\n  ],\n  'Boi hoan': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n    {label: 'Tổng tiền', value: 'tong_tien'},\n    {label: 'Ngày tạo', value: 'ngay_tao'},\n  ],\n  Luong: [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Tháng', value: 'thang'},\n    {label: 'Lương cơ bản', value: 'luong_co_ban'},\n    {label: 'Phụ cấp', value: 'phu_cap'},\n    {label: 'Thưởng', value: 'thuong'},\n    {label: 'Khấu trừ', value: 'khau_tru'},\n    {label: 'Thực lãnh', value: 'thuc_lanh'},\n  ],\n  'Hieu suat': [\n    {label: 'Nhân viên', value: 'nhan_vien_id'},\n    {label: 'Người đánh giá', value: 'nguoi_danh_gia_id'},\n    {label: 'Từ ngày', value: 'tu_ngay'},\n    {label: 'Đến ngày', value: 'den_ngay'},\n    {label: 'Điểm tổng', value: 'diem_tong'},\n    {label: 'Trạng thái', value: 'trang_thai'},\n  ],\n};\n\nconst availableFields = computed(() => {\n  return fieldConfigs[reportForm.loai_bao_cao || 'Nhan vien'] || [];\n});\n\nconst handleReportTypeChange = () => {\n  // Reset columns and criteria when report type changes\n  reportForm.cot_hien_thi = [];\n  reportForm.tieu_chi = [];\n  reportForm.sap_xep = {truong: '', thu_tu: 'asc'};\n  previewData.value = [];\n  previewTotal.value = 0;\n};\n\nconst addCriteria = () => {\n  reportForm.tieu_chi?.push({\n    truong: '',\n    dieu_kien: '=',\n    gia_tri: '',\n  });\n};\n\nconst removeCriteria = (index: number) => {\n  reportForm.tieu_chi?.splice(index, 1);\n};\n\nconst nextStep = () => {\n  if (activeStep.value === 0) {\n    if (!reportForm.ten_bao_cao) {\n      ElMessage.warning('Vui lòng nhập tên báo cáo');\n      return;\n    }\n    if (!reportForm.loai_bao_cao) {\n      ElMessage.warning('Vui lòng chọn loại báo cáo');\n      return;\n    }\n  }\n\n  if (activeStep.value === 1) {\n    if (!reportForm.cot_hien_thi || reportForm.cot_hien_thi.length === 0) {\n      ElMessage.warning('Vui lòng chọn ít nhất một cột để hiển thị');\n      return;\n    }\n  }\n\n  if (activeStep.value < 3) {\n    activeStep.value++;\n  }\n};\n\nconst prevStep = () => {\n  if (activeStep.value > 0) {\n    activeStep.value--;\n  }\n};\n\nconst handlePreview = async () => {\n  if (!reportForm.loai_bao_cao) {\n    ElMessage.warning('Vui lòng chọn loại báo cáo');\n    return;\n  }\n\n  previewing.value = true;\n  try {\n    const response = await reportService.generate({\n      loai_bao_cao: reportForm.loai_bao_cao as any,\n      tieu_chi: reportForm.tieu_chi as any,\n      cot_hien_thi: reportForm.cot_hien_thi,\n      sap_xep: reportForm.sap_xep as ReportSort,\n      page: 1,\n      limit: 10,\n    });\n\n    previewData.value = response.data;\n    previewTotal.value = response.total;\n    ElMessage.success(`Tìm thấy ${response.total} bản ghi`);\n  } catch (err: any) {\n    console.error('Error previewing report:', err);\n    ElMessage.error('Không thể tạo xem trước báo cáo');\n  } finally {\n    previewing.value = false;\n  }\n};\n\nconst handleSave = async () => {\n  if (!reportForm.ten_bao_cao) {\n    ElMessage.warning('Vui lòng nhập tên báo cáo');\n    return;\n  }\n  if (!reportForm.loai_bao_cao) {\n    ElMessage.warning('Vui lòng chọn loại báo cáo');\n    return;\n  }\n\n  saving.value = true;\n  try {\n    if (isEditMode.value) {\n      await reportService.update(route.params.id as string, reportForm);\n      ElMessage.success('Cập nhật báo cáo thành công');\n    } else {\n      await reportService.create(reportForm);\n      ElMessage.success('Tạo báo cáo thành công');\n    }\n    router.push('/bao-cao');\n  } catch (err: any) {\n    console.error('Error saving report:', err);\n    ElMessage.error(err.response?.data?.msg || 'Không thể lưu báo cáo');\n  } finally {\n    saving.value = false;\n  }\n};\n\nconst handleCancel = () => {\n  router.push('/bao-cao');\n};\n\nconst getFieldLabel = (field: string): string => {\n  const found = availableFields.value.find((f) => f.value === field);\n  return found ? found.label : field;\n};\n\nconst formatCellValue = (value: any): string => {\n  if (value === null || value === undefined) return '-';\n  if (typeof value === 'object') {\n    if (value.ten) return value.ten;\n    if (value.ten_chuc_danh) return value.ten_chuc_danh;\n    if (value.ho_dem && value.ten) return `${value.ho_dem} ${value.ten}`;\n    return JSON.stringify(value);\n  }\n  if (typeof value === 'boolean') return value ? 'Có' : 'Không';\n  return String(value);\n};\n\n// Load existing report if editing\nonMounted(async () => {\n  if (isEditMode.value) {\n    try {\n      const report = await reportService.getById(route.params.id as string);\n      reportForm.ten_bao_cao = report.ten_bao_cao;\n      reportForm.loai_bao_cao = report.loai_bao_cao;\n      reportForm.tieu_chi = report.tieu_chi || [];\n      reportForm.cot_hien_thi = report.cot_hien_thi || [];\n      reportForm.sap_xep = report.sap_xep || {truong: '', thu_tu: 'asc'};\n    } catch (err: any) {\n      console.error('Error loading report:', err);\n      ElMessage.error('Không thể tải báo cáo');\n      router.push('/bao-cao');\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.report-builder-page {\n  width: 100%;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.page-title {\n  font-size: 24px;\n  font-weight: 600;\n  color: #303133;\n  margin: 0;\n}\n\n.page-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.steps-container {\n  margin-bottom: 32px;\n}\n\n.step-content {\n  min-height: 400px;\n  padding: 24px 0;\n}\n\n.step-panel {\n  h3 {\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 24px;\n    color: #303133;\n  }\n}\n\n.column-checkboxes {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 12px;\n\n  .el-checkbox {\n    margin: 0;\n  }\n}\n\n.filter-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n\n  h3 {\n    margin: 0;\n  }\n}\n\n.empty-state {\n  text-align: center;\n  padding: 48px 0;\n  color: #909399;\n}\n\n.criteria-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.criteria-card {\n  .criteria-content {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.preview-section {\n  margin-top: 24px;\n}\n\n.preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n\n  h3 {\n    margin: 0;\n  }\n}\n\n.preview-table {\n  margin-top: 16px;\n}\n\n.preview-info {\n  margin-top: 12px;\n  text-align: right;\n}\n\n.preview-loading,\n.preview-empty {\n  text-align: center;\n  padding: 48px 0;\n  color: #909399;\n}\n\n.step-navigation {\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n  margin-top: 32px;\n  padding-top: 24px;\n  border-top: 1px solid #ebeef5;\n}\n\n@media (max-width: 768px) {\n  .page-header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .page-actions {\n    width: 100%;\n\n    .el-button {\n      flex: 1;\n    }\n  }\n\n  .column-checkboxes {\n    grid-template-columns: 1fr;\n  }\n\n  .filter-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n\n  .preview-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n}\n</style>\n","import script from \"./ReportBuilder.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ReportBuilder.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ReportBuilder.vue?vue&type=style&index=0&id=e40d300c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e40d300c\"]])\n\nexport default __exports__","import api from './api';\nimport {\n  Report,\n  GenerateReportRequest,\n  GenerateReportResponse,\n  PaginatedResponse,\n  PaginationParams,\n} from '@/types';\n\nclass ReportService {\n  private readonly BASE_URL = '/reports';\n\n  async getAll(\n    params?: PaginationParams & {loai_bao_cao?: string},\n  ): Promise<PaginatedResponse<Report>> {\n    const response = await api.get<PaginatedResponse<Report>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<Report> {\n    const response = await api.get<Report>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<Report>): Promise<Report> {\n    const response = await api.post<Report>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<Report>): Promise<Report> {\n    const response = await api.put<Report>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n\n  async generate(data: GenerateReportRequest): Promise<GenerateReportResponse> {\n    const response = await api.post<GenerateReportResponse>(\n      `${this.BASE_URL}/generate`,\n      data,\n    );\n    return response.data;\n  }\n\n  getExportUrl(id: string): string {\n    const token = localStorage.getItem('token');\n    return `http://localhost:5000/api${this.BASE_URL}/export/${id}?token=${token}`;\n  }\n\n  downloadExport(id: string): void {\n    const url = this.getExportUrl(id);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `report-${id}.csv`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\n\nexport default new ReportService();\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n"],"names":["$","call","iterate","aCallable","anObject","getIteratorDirect","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","findWithoutClosingOnEarlyError","TypeError","target","proto","real","forced","find","predicate","this","error","record","counter","value","stop","IS_RECORD","INTERRUPTED","result","runtimeBase","window","appGlobal","baseUrl","API_BASE_URL","process","console","log","ApiService","constructor","_defineProperty","axiosInstance","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","Promise","reject","response","status","removeItem","location","href","get","url","post","data","put","delete","patch","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","key","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_defineComponent","__name","setup","__props","router","useRouter","route","useRoute","activeStep","ref","saving","previewing","previewData","previewTotal","isEditMode","computed","params","id","reportForm","reactive","ten_bao_cao","loai_bao_cao","tieu_chi","cot_hien_thi","sap_xep","truong","thu_tu","fieldConfigs","label","Luong","availableFields","handleReportTypeChange","addCriteria","push","dieu_kien","gia_tri","removeCriteria","index","splice","nextStep","ElMessage","warning","length","prevStep","handlePreview","async","reportService","generate","page","limit","total","success","err","handleSave","update","msg","handleCancel","getFieldLabel","field","found","f","formatCellValue","undefined","ten","ten_chuc_danh","ho_dem","JSON","stringify","String","onMounted","report","getById","_ctx","_cache","_component_el_button","_resolveComponent","_component_el_step","_component_el_steps","_component_el_input","_component_el_form_item","_component_el_option","_component_el_select","_component_el_form","_component_el_checkbox","_component_el_checkbox_group","_component_el_col","_component_el_row","_component_el_card","_component_el_radio","_component_el_radio_group","_component_el_divider","_component_el_table_column","_component_el_table","_component_el_text","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_createVNode","onClick","default","_withCtx","_createTextVNode","_","type","loading","shadow","active","title","_withDirectives","model","required","modelValue","$event","placeholder","maxlength","style","onChange","_vShow","_Fragment","_renderList","_createBlock","border","icon","_unref","Plus","criteria","gutter","span","Delete","circle","clearable","stripe","col","prop","row","_createCommentVNode","__exports__","ReportService","getAll","api","BASE_URL","getExportUrl","downloadExport","link","document","createElement","download","body","appendChild","click","removeChild","toObject","lengthOfArrayLike","setArrayLength","doesNotExceedSafeInteger","fails","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","Object","defineProperty","writable","FORCED","arity","item","O","len","argCount","arguments","i","classof","module","exports","Array","isArray","argument","DESCRIPTORS","$TypeError","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","MAX_SAFE_INTEGER","it"],"sourceRoot":""}