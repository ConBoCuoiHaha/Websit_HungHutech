{"version":3,"file":"js/5231.60903578.js","mappings":"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","sources":["webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://HungHutech/./src/services/api.ts","webpack://HungHutech/./src/services/userService.ts","webpack://HungHutech/./src/pages/UserList.vue?b50a","webpack://HungHutech/./src/pages/UserList.vue","webpack://HungHutech/./src/pages/UserList.vue?3690","webpack://HungHutech/./node_modules/vue-loader/dist/exportHelper.js","webpack://HungHutech/./src/services/nhanVienService.ts"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse} from 'axios';\n\n// Base URL config via server-injected window.appGlobal or env\nconst runtimeBase =\n  (window as any)?.appGlobal?.baseUrl &&\n  `${(window as any).appGlobal.baseUrl}/api`;\nconst API_BASE_URL =\n  runtimeBase || process.env.VUE_APP_API_BASE_URL || 'http://localhost:5000/api';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nclass ApiService {\n  private axiosInstance: AxiosInstance;\n\n  constructor() {\n    this.axiosInstance = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Request interceptor - Add token to requests\n    this.axiosInstance.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      },\n    );\n\n    // Response interceptor - Handle errors\n    this.axiosInstance.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          window.location.href = '/login';\n        }\n        return Promise.reject(error);\n      },\n    );\n  }\n\n  public get<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.get<T>(url, config);\n  }\n\n  public post<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.post<T>(url, data, config);\n  }\n\n  public put<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.put<T>(url, data, config);\n  }\n\n  public delete<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.delete<T>(url, config);\n  }\n\n  public patch<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.patch<T>(url, data, config);\n  }\n}\n\nexport default new ApiService();\r\n","import api from './api';\nimport {PaginatedResponse, PaginationParams} from '@/types';\n\nexport interface User {\n  _id: string;\n  username: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: 'admin' | 'manager' | 'employee';\n  employee_id?: string | any;\n  isActive: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\nclass UserService {\n  private readonly BASE_URL = '/users';\n\n  async getAll(\n    params?: PaginationParams & {role?: string},\n  ): Promise<PaginatedResponse<User>> {\n    const response = await api.get<PaginatedResponse<User>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<User> {\n    const response = await api.get<User>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<User> & {password: string}): Promise<User> {\n    const response = await api.post<User>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<User>): Promise<User> {\n    const response = await api.put<User>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n\n  async changePassword(\n    id: string,\n    oldPassword: string,\n    newPassword: string,\n  ): Promise<void> {\n    await api.put(`${this.BASE_URL}/${id}/change-password`, {\n      oldPassword,\n      newPassword,\n    });\n  }\n}\n\nexport default new UserService();\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"orangehrm-user-list\" }\nconst _hoisted_2 = { class: \"orangehrm-card-header\" }\nconst _hoisted_3 = { class: \"orangehrm-filter-section\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { class: \"orangehrm-pagination\" }\n\nimport {ref, reactive, onMounted} from 'vue';\nimport {Plus, Edit, Search} from '@element-plus/icons-vue';\nimport {ElMessage, ElMessageBox, FormInstance, FormRules} from 'element-plus';\nimport userService from '@/services/userService';\nimport nhanVienService from '@/services/nhanVienService';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'UserList',\n  setup(__props) {\n\nconst formRef = ref<FormInstance>();\nconst loading = ref(false);\nconst saving = ref(false);\nconst dialogVisible = ref(false);\nconst editMode = ref(false);\n\nconst searchQuery = ref('');\nconst filterRole = ref('');\nconst currentPage = ref(1);\nconst pageSize = ref(10);\nconst total = ref(0);\n\nconst userList = ref<any[]>([]);\nconst employees = ref<any[]>([]);\n\nconst form = reactive({\n  email: '',\n  role: 'employee',\n  password: '',\n  confirmPassword: '',\n  nhan_vien_id: '',\n  active: true,\n  _id: '',\n});\n\nconst validatePassword = (rule: any, value: any, callback: any) => {\n  if (!editMode.value && !value) {\n    callback(new Error('Vui lòng nhập mật khẩu'));\n  } else if (!editMode.value && value.length < 6) {\n    callback(new Error('Mật khẩu phải có ít nhất 6 ký tự'));\n  } else {\n    callback();\n  }\n};\n\nconst validateConfirmPassword = (rule: any, value: any, callback: any) => {\n  if (!editMode.value && !value) {\n    callback(new Error('Vui lòng xác nhận mật khẩu'));\n  } else if (!editMode.value && value !== form.password) {\n    callback(new Error('Mật khẩu không khớp'));\n  } else {\n    callback();\n  }\n};\n\nconst formRules: FormRules = {\n  email: [\n    {required: true, message: 'Vui lòng nhập email', trigger: 'blur'},\n    {type: 'email', message: 'Email không hợp lệ', trigger: 'blur'},\n  ],\n  role: [{required: true, message: 'Vui lòng chọn vai trò', trigger: 'change'}],\n  password: [{validator: validatePassword, trigger: 'blur'}],\n  confirmPassword: [{validator: validateConfirmPassword, trigger: 'blur'}],\n};\n\nconst loadUsers = async () => {\n  loading.value = true;\n  try {\n    const params: any = {\n      page: currentPage.value,\n      limit: pageSize.value,\n      q: searchQuery.value,\n    };\n\n    if (filterRole.value) {\n      params.role = filterRole.value;\n    }\n\n    const response = await userService.getAll(params);\n    userList.value = response.data || [];\n    total.value = response.pagination?.total || 0;\n  } catch (err: any) {\n    console.error('Error loading users:', err);\n    ElMessage.error(\n      err.response?.data?.msg || 'Không thể tải danh sách người dùng',\n    );\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst loadEmployees = async () => {\n  try {\n    const response = await nhanVienService.getAll({limit: 1000});\n    employees.value = response.data || [];\n  } catch (err: any) {\n    console.error('Error loading employees:', err);\n  }\n};\n\nconst getRoleType = (role: string) => {\n  const roleMap: Record<string, string> = {\n    admin: 'danger',\n    manager: 'warning',\n    employee: 'info',\n  };\n  return roleMap[role] || 'info';\n};\n\nconst getRoleLabel = (role: string) => {\n  const roleMap: Record<string, string> = {\n    admin: 'Admin',\n    manager: 'Quản lý',\n    employee: 'Nhân viên',\n  };\n  return roleMap[role] || role;\n};\n\nconst handleAdd = () => {\n  editMode.value = false;\n  form.email = '';\n  form.role = 'employee';\n  form.password = '';\n  form.confirmPassword = '';\n  form.nhan_vien_id = '';\n  form.active = true;\n  form._id = '';\n  dialogVisible.value = true;\n};\n\nconst handleEdit = (row: any) => {\n  editMode.value = true;\n  form.email = row.email || '';\n  form.role = row.role || 'employee';\n  form.nhan_vien_id = row.nhan_vien_id?._id || row.nhan_vien_id || '';\n  form.active = row.active !== undefined ? row.active : true;\n  form._id = row._id;\n  dialogVisible.value = true;\n};\n\nconst handleToggleStatus = async (row: any) => {\n  try {\n    const employeeName = row.nhan_vien_id\n      ? `${row.nhan_vien_id.ho_dem} ${row.nhan_vien_id.ten}`\n      : row.email;\n    await ElMessageBox.confirm(\n      `Bạn có chắc chắn muốn ${\n        row.active ? 'khóa' : 'mở khóa'\n      } người dùng \"${employeeName}\"?`,\n      'Xác nhận',\n      {\n        confirmButtonText: 'Xác nhận',\n        cancelButtonText: 'Hủy',\n        type: 'warning',\n      },\n    );\n\n    await userService.update(row._id, {active: !row.active});\n    ElMessage.success(\n      `${row.active ? 'Khóa' : 'Mở khóa'} người dùng thành công`,\n    );\n    loadUsers();\n  } catch (err: any) {\n    if (err !== 'cancel') {\n      ElMessage.error(\n        err.response?.data?.msg || 'Không thể cập nhật trạng thái',\n      );\n    }\n  }\n};\n\nconst handleSave = async () => {\n  if (!formRef.value) return;\n\n  try {\n    const valid = await formRef.value.validate();\n    if (!valid) return;\n\n    saving.value = true;\n\n    const data: any = {\n      email: form.email,\n      role: form.role,\n      nhan_vien_id: form.nhan_vien_id || undefined,\n      active: form.active,\n    };\n\n    if (!editMode.value) {\n      data.password = form.password;\n    }\n\n    if (editMode.value) {\n      await userService.update(form._id, data);\n      ElMessage.success('Cập nhật người dùng thành công');\n    } else {\n      await userService.create(data);\n      ElMessage.success('Thêm người dùng mới thành công');\n    }\n\n    dialogVisible.value = false;\n    loadUsers();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể lưu người dùng');\n  } finally {\n    saving.value = false;\n  }\n};\n\nconst handleSearch = () => {\n  currentPage.value = 1;\n  loadUsers();\n};\n\nconst handleSizeChange = () => {\n  currentPage.value = 1;\n  loadUsers();\n};\n\nconst handleCurrentChange = () => {\n  loadUsers();\n};\n\nonMounted(() => {\n  loadUsers();\n  loadEmployees();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_pagination = _resolveComponent(\"el-pagination\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_switch = _resolveComponent(\"el-switch\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_card, { shadow: \"never\" }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _cache[13] || (_cache[13] = _createElementVNode(\"h2\", { class: \"orangehrm-card-title\" }, \"Quản lý Người dùng\", -1)),\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            icon: _unref(Plus),\n            onClick: handleAdd\n          }, {\n            default: _withCtx(() => [...(_cache[12] || (_cache[12] = [\n              _createTextVNode(\" Thêm Người dùng \", -1)\n            ]))]),\n            _: 1\n          }, 8, [\"icon\"])\n        ])\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_component_el_row, { gutter: 20 }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_col, { span: 6 }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_input, {\n                    modelValue: searchQuery.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchQuery).value = $event)),\n                    placeholder: \"Tìm kiếm người dùng...\",\n                    \"prefix-icon\": _unref(Search),\n                    clearable: \"\",\n                    onClear: handleSearch,\n                    onKeyup: _withKeys(handleSearch, [\"enter\"])\n                  }, null, 8, [\"modelValue\", \"prefix-icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_col, { span: 6 }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_select, {\n                    modelValue: filterRole.value,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((filterRole).value = $event)),\n                    placeholder: \"Lọc theo vai trò\",\n                    clearable: \"\",\n                    style: {\"width\":\"100%\"},\n                    onChange: handleSearch\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_option, {\n                        label: \"Admin\",\n                        value: \"admin\"\n                      }),\n                      _createVNode(_component_el_option, {\n                        label: \"Quản lý\",\n                        value: \"manager\"\n                      }),\n                      _createVNode(_component_el_option, {\n                        label: \"Nhân viên\",\n                        value: \"employee\"\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_col, { span: 4 }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_button, {\n                    type: \"primary\",\n                    icon: _unref(Search),\n                    onClick: handleSearch\n                  }, {\n                    default: _withCtx(() => [...(_cache[14] || (_cache[14] = [\n                      _createTextVNode(\" Tìm kiếm \", -1)\n                    ]))]),\n                    _: 1\n                  }, 8, [\"icon\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n          data: userList.value,\n          border: \"\",\n          class: \"orangehrm-table\",\n          style: {\"margin-top\":\"20px\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_table_column, {\n              prop: \"email\",\n              label: \"Email\",\n              \"min-width\": \"200\"\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Nhân viên liên kết\",\n              \"min-width\": \"180\"\n            }, {\n              default: _withCtx((scope) => [\n                (scope.row.nhan_vien_id)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(scope.row.nhan_vien_id.ho_dem) + \" \" + _toDisplayString(scope.row.nhan_vien_id.ten), 1))\n                  : (_openBlock(), _createBlock(_component_el_tag, {\n                      key: 1,\n                      type: \"info\",\n                      size: \"small\"\n                    }, {\n                      default: _withCtx(() => [...(_cache[15] || (_cache[15] = [\n                        _createTextVNode(\"Chưa liên kết\", -1)\n                      ]))]),\n                      _: 1\n                    }))\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Vai trò\",\n              width: \"120\"\n            }, {\n              default: _withCtx((scope) => [\n                _createVNode(_component_el_tag, {\n                  type: getRoleType(scope.row.role)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(getRoleLabel(scope.row.role)), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Trạng thái\",\n              width: \"120\"\n            }, {\n              default: _withCtx((scope) => [\n                _createVNode(_component_el_tag, {\n                  type: scope.row.active ? 'success' : 'danger'\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(scope.row.active ? 'Hoạt động' : 'Khóa'), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Thao tác\",\n              width: \"200\",\n              align: \"center\"\n            }, {\n              default: _withCtx((scope) => [\n                _createVNode(_component_el_button, {\n                  size: \"small\",\n                  icon: _unref(Edit),\n                  onClick: ($event: any) => (handleEdit(scope.row))\n                }, {\n                  default: _withCtx(() => [...(_cache[16] || (_cache[16] = [\n                    _createTextVNode(\" Sửa \", -1)\n                  ]))]),\n                  _: 1\n                }, 8, [\"icon\", \"onClick\"]),\n                _createVNode(_component_el_button, {\n                  size: \"small\",\n                  type: scope.row.active ? 'warning' : 'success',\n                  onClick: ($event: any) => (handleToggleStatus(scope.row))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(scope.row.active ? 'Khóa' : 'Mở'), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\", \"onClick\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"])), [\n          [_directive_loading, loading.value]\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createVNode(_component_el_pagination, {\n            \"current-page\": currentPage.value,\n            \"onUpdate:currentPage\": _cache[2] || (_cache[2] = ($event: any) => ((currentPage).value = $event)),\n            \"page-size\": pageSize.value,\n            \"onUpdate:pageSize\": _cache[3] || (_cache[3] = ($event: any) => ((pageSize).value = $event)),\n            \"page-sizes\": [10, 20, 50, 100],\n            total: total.value,\n            layout: \"total, sizes, prev, pager, next, jumper\",\n            onSizeChange: handleSizeChange,\n            onCurrentChange: handleCurrentChange\n          }, null, 8, [\"current-page\", \"page-size\", \"total\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_dialog, {\n      modelValue: dialogVisible.value,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((dialogVisible).value = $event)),\n      title: editMode.value ? 'Chỉnh sửa người dùng' : 'Thêm người dùng mới',\n      width: \"600px\"\n    }, {\n      footer: _withCtx(() => [\n        _createVNode(_component_el_button, {\n          onClick: _cache[10] || (_cache[10] = ($event: any) => (dialogVisible.value = false))\n        }, {\n          default: _withCtx(() => [...(_cache[17] || (_cache[17] = [\n            _createTextVNode(\"Hủy\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          loading: saving.value,\n          onClick: handleSave\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(editMode.value ? 'Cập nhật' : 'Thêm mới'), 1)\n          ]),\n          _: 1\n        }, 8, [\"loading\"])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, {\n          ref_key: \"formRef\",\n          ref: formRef,\n          model: form,\n          rules: formRules,\n          \"label-width\": \"140px\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, {\n              label: \"Email\",\n              prop: \"email\",\n              required: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: form.email,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((form.email) = $event)),\n                  type: \"email\",\n                  placeholder: \"user@company.com\",\n                  disabled: editMode.value\n                }, null, 8, [\"modelValue\", \"disabled\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"Vai trò\",\n              prop: \"role\",\n              required: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: form.role,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((form.role) = $event)),\n                  placeholder: \"Chọn vai trò\",\n                  style: {\"width\":\"100%\"}\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_option, {\n                      label: \"Admin\",\n                      value: \"admin\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Quản lý\",\n                      value: \"manager\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Nhân viên\",\n                      value: \"employee\"\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            (!editMode.value)\n              ? (_openBlock(), _createBlock(_component_el_form_item, {\n                  key: 0,\n                  label: \"Mật khẩu\",\n                  prop: \"password\",\n                  required: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_input, {\n                      modelValue: form.password,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((form.password) = $event)),\n                      type: \"password\",\n                      placeholder: \"Mật khẩu\",\n                      \"show-password\": \"\"\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            (!editMode.value)\n              ? (_openBlock(), _createBlock(_component_el_form_item, {\n                  key: 1,\n                  label: \"Xác nhận MK\",\n                  prop: \"confirmPassword\",\n                  required: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_input, {\n                      modelValue: form.confirmPassword,\n                      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((form.confirmPassword) = $event)),\n                      type: \"password\",\n                      placeholder: \"Nhập lại mật khẩu\",\n                      \"show-password\": \"\"\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_component_el_form_item, {\n              label: \"Nhân viên\",\n              prop: \"nhan_vien_id\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: form.nhan_vien_id,\n                  \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((form.nhan_vien_id) = $event)),\n                  placeholder: \"Liên kết với nhân viên\",\n                  filterable: \"\",\n                  clearable: \"\",\n                  style: {\"width\":\"100%\"}\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(employees.value, (emp) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: emp._id,\n                        label: `${emp.ho_dem} ${emp.ten} (${emp.ma_nhan_vien})`,\n                        value: emp._id\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"Trạng thái\",\n              prop: \"active\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_switch, {\n                  modelValue: form.active,\n                  \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((form.active) = $event)),\n                  \"active-text\": \"Hoạt động\",\n                  \"inactive-text\": \"Khóa\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\"])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\", \"title\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"orangehrm-user-list\">\n    <el-card shadow=\"never\">\n      <template #header>\n        <div class=\"orangehrm-card-header\">\n          <h2 class=\"orangehrm-card-title\">Quản lý Người dùng</h2>\n          <el-button type=\"primary\" :icon=\"Plus\" @click=\"handleAdd\">\n            Thêm Người dùng\n          </el-button>\n        </div>\n      </template>\n\n      <!-- Search and Filter -->\n      <div class=\"orangehrm-filter-section\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"6\">\n            <el-input\n              v-model=\"searchQuery\"\n              placeholder=\"Tìm kiếm người dùng...\"\n              :prefix-icon=\"Search\"\n              clearable\n              @clear=\"handleSearch\"\n              @keyup.enter=\"handleSearch\"\n            />\n          </el-col>\n          <el-col :span=\"6\">\n            <el-select\n              v-model=\"filterRole\"\n              placeholder=\"Lọc theo vai trò\"\n              clearable\n              style=\"width: 100%\"\n              @change=\"handleSearch\"\n            >\n              <el-option label=\"Admin\" value=\"admin\" />\n              <el-option label=\"Quản lý\" value=\"manager\" />\n              <el-option label=\"Nhân viên\" value=\"employee\" />\n            </el-select>\n          </el-col>\n          <el-col :span=\"4\">\n            <el-button type=\"primary\" :icon=\"Search\" @click=\"handleSearch\">\n              Tìm kiếm\n            </el-button>\n          </el-col>\n        </el-row>\n      </div>\n\n      <!-- Users Table -->\n      <el-table\n        v-loading=\"loading\"\n        :data=\"userList\"\n        border\n        class=\"orangehrm-table\"\n        style=\"margin-top: 20px\"\n      >\n        <el-table-column prop=\"email\" label=\"Email\" min-width=\"200\" />\n        <el-table-column label=\"Nhân viên liên kết\" min-width=\"180\">\n          <template #default=\"scope\">\n            <span v-if=\"scope.row.nhan_vien_id\">\n              {{ scope.row.nhan_vien_id.ho_dem }}\n              {{ scope.row.nhan_vien_id.ten }}\n            </span>\n            <el-tag v-else type=\"info\" size=\"small\">Chưa liên kết</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Vai trò\" width=\"120\">\n          <template #default=\"scope\">\n            <el-tag :type=\"getRoleType(scope.row.role)\">\n              {{ getRoleLabel(scope.row.role) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Trạng thái\" width=\"120\">\n          <template #default=\"scope\">\n            <el-tag :type=\"scope.row.active ? 'success' : 'danger'\">\n              {{ scope.row.active ? 'Hoạt động' : 'Khóa' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Thao tác\" width=\"200\" align=\"center\">\n          <template #default=\"scope\">\n            <el-button size=\"small\" :icon=\"Edit\" @click=\"handleEdit(scope.row)\">\n              Sửa\n            </el-button>\n            <el-button\n              size=\"small\"\n              :type=\"scope.row.active ? 'warning' : 'success'\"\n              @click=\"handleToggleStatus(scope.row)\"\n            >\n              {{ scope.row.active ? 'Khóa' : 'Mở' }}\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- Pagination -->\n      <div class=\"orangehrm-pagination\">\n        <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :total=\"total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n\n    <!-- Add/Edit Dialog -->\n    <el-dialog\n      v-model=\"dialogVisible\"\n      :title=\"editMode ? 'Chỉnh sửa người dùng' : 'Thêm người dùng mới'\"\n      width=\"600px\"\n    >\n      <el-form\n        ref=\"formRef\"\n        :model=\"form\"\n        :rules=\"formRules\"\n        label-width=\"140px\"\n      >\n        <el-form-item label=\"Email\" prop=\"email\" required>\n          <el-input\n            v-model=\"form.email\"\n            type=\"email\"\n            placeholder=\"user@company.com\"\n            :disabled=\"editMode\"\n          />\n        </el-form-item>\n\n        <el-form-item label=\"Vai trò\" prop=\"role\" required>\n          <el-select\n            v-model=\"form.role\"\n            placeholder=\"Chọn vai trò\"\n            style=\"width: 100%\"\n          >\n            <el-option label=\"Admin\" value=\"admin\" />\n            <el-option label=\"Quản lý\" value=\"manager\" />\n            <el-option label=\"Nhân viên\" value=\"employee\" />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item\n          v-if=\"!editMode\"\n          label=\"Mật khẩu\"\n          prop=\"password\"\n          required\n        >\n          <el-input\n            v-model=\"form.password\"\n            type=\"password\"\n            placeholder=\"Mật khẩu\"\n            show-password\n          />\n        </el-form-item>\n\n        <el-form-item\n          v-if=\"!editMode\"\n          label=\"Xác nhận MK\"\n          prop=\"confirmPassword\"\n          required\n        >\n          <el-input\n            v-model=\"form.confirmPassword\"\n            type=\"password\"\n            placeholder=\"Nhập lại mật khẩu\"\n            show-password\n          />\n        </el-form-item>\n\n        <el-form-item label=\"Nhân viên\" prop=\"nhan_vien_id\">\n          <el-select\n            v-model=\"form.nhan_vien_id\"\n            placeholder=\"Liên kết với nhân viên\"\n            filterable\n            clearable\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"emp in employees\"\n              :key=\"emp._id\"\n              :label=\"`${emp.ho_dem} ${emp.ten} (${emp.ma_nhan_vien})`\"\n              :value=\"emp._id\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"Trạng thái\" prop=\"active\">\n          <el-switch\n            v-model=\"form.active\"\n            active-text=\"Hoạt động\"\n            inactive-text=\"Khóa\"\n          />\n        </el-form-item>\n      </el-form>\n\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">Hủy</el-button>\n        <el-button type=\"primary\" :loading=\"saving\" @click=\"handleSave\">\n          {{ editMode ? 'Cập nhật' : 'Thêm mới' }}\n        </el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, reactive, onMounted} from 'vue';\nimport {Plus, Edit, Search} from '@element-plus/icons-vue';\nimport {ElMessage, ElMessageBox, FormInstance, FormRules} from 'element-plus';\nimport userService from '@/services/userService';\nimport nhanVienService from '@/services/nhanVienService';\n\nconst formRef = ref<FormInstance>();\nconst loading = ref(false);\nconst saving = ref(false);\nconst dialogVisible = ref(false);\nconst editMode = ref(false);\n\nconst searchQuery = ref('');\nconst filterRole = ref('');\nconst currentPage = ref(1);\nconst pageSize = ref(10);\nconst total = ref(0);\n\nconst userList = ref<any[]>([]);\nconst employees = ref<any[]>([]);\n\nconst form = reactive({\n  email: '',\n  role: 'employee',\n  password: '',\n  confirmPassword: '',\n  nhan_vien_id: '',\n  active: true,\n  _id: '',\n});\n\nconst validatePassword = (rule: any, value: any, callback: any) => {\n  if (!editMode.value && !value) {\n    callback(new Error('Vui lòng nhập mật khẩu'));\n  } else if (!editMode.value && value.length < 6) {\n    callback(new Error('Mật khẩu phải có ít nhất 6 ký tự'));\n  } else {\n    callback();\n  }\n};\n\nconst validateConfirmPassword = (rule: any, value: any, callback: any) => {\n  if (!editMode.value && !value) {\n    callback(new Error('Vui lòng xác nhận mật khẩu'));\n  } else if (!editMode.value && value !== form.password) {\n    callback(new Error('Mật khẩu không khớp'));\n  } else {\n    callback();\n  }\n};\n\nconst formRules: FormRules = {\n  email: [\n    {required: true, message: 'Vui lòng nhập email', trigger: 'blur'},\n    {type: 'email', message: 'Email không hợp lệ', trigger: 'blur'},\n  ],\n  role: [{required: true, message: 'Vui lòng chọn vai trò', trigger: 'change'}],\n  password: [{validator: validatePassword, trigger: 'blur'}],\n  confirmPassword: [{validator: validateConfirmPassword, trigger: 'blur'}],\n};\n\nconst loadUsers = async () => {\n  loading.value = true;\n  try {\n    const params: any = {\n      page: currentPage.value,\n      limit: pageSize.value,\n      q: searchQuery.value,\n    };\n\n    if (filterRole.value) {\n      params.role = filterRole.value;\n    }\n\n    const response = await userService.getAll(params);\n    userList.value = response.data || [];\n    total.value = response.pagination?.total || 0;\n  } catch (err: any) {\n    console.error('Error loading users:', err);\n    ElMessage.error(\n      err.response?.data?.msg || 'Không thể tải danh sách người dùng',\n    );\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst loadEmployees = async () => {\n  try {\n    const response = await nhanVienService.getAll({limit: 1000});\n    employees.value = response.data || [];\n  } catch (err: any) {\n    console.error('Error loading employees:', err);\n  }\n};\n\nconst getRoleType = (role: string) => {\n  const roleMap: Record<string, string> = {\n    admin: 'danger',\n    manager: 'warning',\n    employee: 'info',\n  };\n  return roleMap[role] || 'info';\n};\n\nconst getRoleLabel = (role: string) => {\n  const roleMap: Record<string, string> = {\n    admin: 'Admin',\n    manager: 'Quản lý',\n    employee: 'Nhân viên',\n  };\n  return roleMap[role] || role;\n};\n\nconst handleAdd = () => {\n  editMode.value = false;\n  form.email = '';\n  form.role = 'employee';\n  form.password = '';\n  form.confirmPassword = '';\n  form.nhan_vien_id = '';\n  form.active = true;\n  form._id = '';\n  dialogVisible.value = true;\n};\n\nconst handleEdit = (row: any) => {\n  editMode.value = true;\n  form.email = row.email || '';\n  form.role = row.role || 'employee';\n  form.nhan_vien_id = row.nhan_vien_id?._id || row.nhan_vien_id || '';\n  form.active = row.active !== undefined ? row.active : true;\n  form._id = row._id;\n  dialogVisible.value = true;\n};\n\nconst handleToggleStatus = async (row: any) => {\n  try {\n    const employeeName = row.nhan_vien_id\n      ? `${row.nhan_vien_id.ho_dem} ${row.nhan_vien_id.ten}`\n      : row.email;\n    await ElMessageBox.confirm(\n      `Bạn có chắc chắn muốn ${\n        row.active ? 'khóa' : 'mở khóa'\n      } người dùng \"${employeeName}\"?`,\n      'Xác nhận',\n      {\n        confirmButtonText: 'Xác nhận',\n        cancelButtonText: 'Hủy',\n        type: 'warning',\n      },\n    );\n\n    await userService.update(row._id, {active: !row.active});\n    ElMessage.success(\n      `${row.active ? 'Khóa' : 'Mở khóa'} người dùng thành công`,\n    );\n    loadUsers();\n  } catch (err: any) {\n    if (err !== 'cancel') {\n      ElMessage.error(\n        err.response?.data?.msg || 'Không thể cập nhật trạng thái',\n      );\n    }\n  }\n};\n\nconst handleSave = async () => {\n  if (!formRef.value) return;\n\n  try {\n    const valid = await formRef.value.validate();\n    if (!valid) return;\n\n    saving.value = true;\n\n    const data: any = {\n      email: form.email,\n      role: form.role,\n      nhan_vien_id: form.nhan_vien_id || undefined,\n      active: form.active,\n    };\n\n    if (!editMode.value) {\n      data.password = form.password;\n    }\n\n    if (editMode.value) {\n      await userService.update(form._id, data);\n      ElMessage.success('Cập nhật người dùng thành công');\n    } else {\n      await userService.create(data);\n      ElMessage.success('Thêm người dùng mới thành công');\n    }\n\n    dialogVisible.value = false;\n    loadUsers();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể lưu người dùng');\n  } finally {\n    saving.value = false;\n  }\n};\n\nconst handleSearch = () => {\n  currentPage.value = 1;\n  loadUsers();\n};\n\nconst handleSizeChange = () => {\n  currentPage.value = 1;\n  loadUsers();\n};\n\nconst handleCurrentChange = () => {\n  loadUsers();\n};\n\nonMounted(() => {\n  loadUsers();\n  loadEmployees();\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n\n.orangehrm-user-list {\n  padding: $spacing-xl;\n}\n\n.orangehrm-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.orangehrm-card-title {\n  font-size: $font-size-xl;\n  font-weight: $font-weight-bold;\n  color: $text-primary;\n  margin: 0;\n}\n\n.orangehrm-filter-section {\n  margin-top: $spacing-lg;\n}\n\n.orangehrm-table {\n  width: 100%;\n}\n\n.orangehrm-pagination {\n  margin-top: $spacing-xl;\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n","import script from \"./UserList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./UserList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./UserList.vue?vue&type=style&index=0&id=14d2d620&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-14d2d620\"]])\n\nexport default __exports__","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import api from './api';\nimport {NhanVien, PaginatedResponse, PaginationParams} from '@/types';\n\nclass NhanVienService {\n  private readonly BASE_URL = '/nhanvien';\n\n  async getAll(\n    params?: PaginationParams,\n  ): Promise<PaginatedResponse<NhanVien>> {\n    const response = await api.get<PaginatedResponse<NhanVien>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<NhanVien> {\n    const response = await api.get<NhanVien>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.post<NhanVien>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.put<NhanVien>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n}\n\nexport default new NhanVienService();\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPrimitive","t","r","e","i","call","TypeError","String","Number","toPropertyKey","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","runtimeBase","window","appGlobal","baseUrl","API_BASE_URL","process","console","log","ApiService","this","axiosInstance","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","removeItem","location","href","get","url","post","data","put","delete","patch","UserService","getAll","params","api","BASE_URL","getById","id","update","changePassword","oldPassword","newPassword","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","key","_hoisted_5","_defineComponent","__name","setup","__props","formRef","ref","loading","saving","dialogVisible","editMode","searchQuery","filterRole","currentPage","pageSize","total","userList","employees","form","reactive","email","role","password","confirmPassword","nhan_vien_id","active","_id","validatePassword","rule","callback","length","Error","validateConfirmPassword","formRules","required","message","trigger","type","validator","loadUsers","async","page","limit","q","userService","pagination","err","ElMessage","msg","loadEmployees","nhanVienService","getRoleType","roleMap","admin","manager","employee","getRoleLabel","handleAdd","handleEdit","row","undefined","handleToggleStatus","employeeName","ho_dem","ten","ElMessageBox","confirm","confirmButtonText","cancelButtonText","success","handleSave","valid","validate","handleSearch","handleSizeChange","handleCurrentChange","onMounted","_ctx","_cache","_component_el_button","_resolveComponent","_component_el_input","_component_el_col","_component_el_option","_component_el_select","_component_el_row","_component_el_table_column","_component_el_tag","_component_el_table","_component_el_pagination","_component_el_card","_component_el_form_item","_component_el_switch","_component_el_form","_component_el_dialog","_directive_loading","_resolveDirective","_openBlock","_createElementBlock","_createVNode","shadow","header","_withCtx","_createElementVNode","icon","_unref","Plus","onClick","default","_createTextVNode","_","gutter","span","modelValue","$event","placeholder","Search","clearable","onClear","onKeyup","_withKeys","style","onChange","label","_withDirectives","_createBlock","border","prop","scope","_toDisplayString","size","width","align","Edit","layout","onSizeChange","onCurrentChange","title","footer","ref_key","model","rules","disabled","_createCommentVNode","filterable","_Fragment","_renderList","emp","ma_nhan_vien","__exports__","exports","sfc","props","target","__vccOpts","val","NhanVienService"],"sourceRoot":""}