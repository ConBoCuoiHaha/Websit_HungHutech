"use strict";(self["webpackChunkHungHutech"]=self["webpackChunkHungHutech"]||[]).push([[8118],{1526:function(e,a,t){var n=t(1114),l=t(4335);const i=window?.appGlobal?.baseUrl&&`${window.appGlobal.baseUrl}/api`,u=i||"http://192.168.88.50:5000/api";console.log("API Base URL:",u);class o{constructor(){(0,n.A)(this,"axiosInstance",void 0),this.axiosInstance=l.A.create({baseURL:u,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}get(e,a){return this.axiosInstance.get(e,a)}post(e,a,t){return this.axiosInstance.post(e,a,t)}put(e,a,t){return this.axiosInstance.put(e,a,t)}delete(e,a){return this.axiosInstance.delete(e,a)}patch(e,a,t){return this.axiosInstance.patch(e,a,t)}}a.A=new o},1663:function(e,a,t){var n=t(1114),l=t(1526);class i{constructor(){(0,n.A)(this,"BASE_URL","/performance/trackers")}async getAll(e){const a=await l.A.get(this.BASE_URL,{params:e});return a.data}async getById(e){const a=await l.A.get(`${this.BASE_URL}/${e}`);return a.data}async create(e){const a=await l.A.post(this.BASE_URL,e);return a.data}async update(e,a){const t=await l.A.put(`${this.BASE_URL}/${e}`,a);return t.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}async addGoal(e,a){const t=await l.A.post(`${this.BASE_URL}/${e}/goals`,a);return t.data}async updateGoal(e,a){const t=await l.A.put(`${this.BASE_URL}/goals/${e}`,a);return t.data}async deleteGoal(e){const a=await l.A.delete(`${this.BASE_URL}/goals/${e}`);return a.data}async updateOverallReview(e,a){const t=await l.A.put(`${this.BASE_URL}/${e}/overall-review`,a);return t.data}async getStatistics(e){const a=await l.A.get(`${this.BASE_URL}/statistics`,{params:e});return a.data}}a.A=new i},4114:function(e,a,t){var n=t(6518),l=t(8981),i=t(6198),u=t(4527),o=t(6837),r=t(9039),h=r(function(){return 4294967297!==[].push.call({length:4294967296},1)}),d=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},c=h||!d();n({target:"Array",proto:!0,arity:1,forced:c},{push:function(e){var a=l(this),t=i(a),n=arguments.length;o(t+n);for(var r=0;r<n;r++)a[t]=arguments[r],t++;return u(a,t),t}})},4376:function(e,a,t){var n=t(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4527:function(e,a,t){var n=t(3724),l=t(4376),i=TypeError,u=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,a){if(l(e)&&!u(e,"length").writable)throw new i("Cannot set read only .length");return e.length=a}:function(e,a){return e.length=a}},6604:function(e,a,t){var n=t(1114),l=t(1526);class i{constructor(){(0,n.A)(this,"BASE_URL","/nhanvien")}async getAll(e){const a=await l.A.get(this.BASE_URL,{params:e});return a.data}async getById(e){const a=await l.A.get(`${this.BASE_URL}/${e}`);return a.data}async create(e){const a=await l.A.post(this.BASE_URL,e);return a.data}async update(e,a){const t=await l.A.put(`${this.BASE_URL}/${e}`,a);return t.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}}a.A=new i},6837:function(e){var a=TypeError,t=9007199254740991;e.exports=function(e){if(e>t)throw a("Maximum allowed index exceeded");return e}},7588:function(e,a,t){var n=t(6518),l=t(9565),i=t(2652),u=t(9306),o=t(8551),r=t(1767),h=t(9539),d=t(4549),c=d("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:c},{forEach:function(e){o(this);try{u(e)}catch(n){h(this,"throw",n)}if(c)return l(c,this,e);var a=r(this),t=0;i(a,function(a){e(a,t++)},{IS_RECORD:!0})}})},8118:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});t(4114),t(8111),t(7588),t(8237);var n=t(1431),l=t(5220),i=t(8548),u=t(163),o=t(7918),r=t(1663),h=t(6604);const d={class:"orangehrm-tracker-form-page"},c={class:"orangehrm-page-header"},_={class:"header-left"},s={class:"orangehrm-page-title"},g={key:0,class:"orangehrm-page-actions"},m={class:"progress-label"},p={class:"score-label"},b={class:"goals-section"},k={class:"goals-header"},f={key:0,class:"empty-state"},v={key:1,class:"goals-list"},y={class:"goal-header"},F={class:"goal-title"},w={class:"goal-number"},V={key:0,class:"goal-actions"},C={class:"goal-content"},x={class:"goal-info-item"},L={class:"goal-info-item"},A={class:"goal-info-item"},U={class:"goal-info-item"},E={class:"goal-info-item"},R={key:0,class:"goal-description"},Y={key:1,class:"goal-comment"};var T=(0,n.pM)({__name:"PerformanceTrackerForm",setup(e){const a=(0,l.rd)(),t=(0,l.lq)(),T=(0,n.EW)(()=>t.params.id),$=(0,n.EW)(()=>"view"===t.query.mode),D=(0,n.KR)("info"),M=(0,n.KR)(!1),S=(0,n.KR)(!1),B=(0,n.KR)(!1),q=(0,n.KR)(null),I=(0,n.KR)([]),X=(0,n.KR)(),K=(0,n.KR)(),N=(0,n.KR)(),W=(0,n.Kh)({ten_tracker:"",nhan_vien_id:"",nguoi_danh_gia_id:"",ky_danh_gia:{tu_ngay:"",den_ngay:""},muc_tieu:[],danh_gia_chung:{diem_manh:[],diem_yeu:[]},trang_thai:"Nháp",ghi_chu:""}),Q=(0,n.Kh)({ten_muc_tieu:"",mo_ta:"",trong_so:0,trang_thai:"Chưa bắt đầu",tien_do:0,diem_danh_gia:0,ngay_bat_dau:"",han_hoan_thanh:"",ngay_hoan_thanh:"",nhan_xet:""}),H={ten_tracker:[{required:!0,message:"Vui lòng nhập tên tracker",trigger:"blur"}],nhan_vien_id:[{required:!0,message:"Vui lòng chọn nhân viên",trigger:"change"}],nguoi_danh_gia_id:[{required:!0,message:"Vui lòng chọn người đánh giá",trigger:"change"}],"ky_danh_gia.tu_ngay":[{required:!0,message:"Vui lòng chọn ngày bắt đầu",trigger:"change"}],"ky_danh_gia.den_ngay":[{required:!0,message:"Vui lòng chọn ngày kết thúc",trigger:"change"}],trang_thai:[{required:!0,message:"Vui lòng chọn trạng thái",trigger:"change"}]},j={ten_muc_tieu:[{required:!0,message:"Vui lòng nhập tên mục tiêu",trigger:"blur"}],trang_thai:[{required:!0,message:"Vui lòng chọn trạng thái",trigger:"change"}]},G=async()=>{if(T.value){M.value=!0;try{const e=await r.A.getById(T.value);W.ten_tracker=e.ten_tracker,W.nhan_vien_id="object"===typeof e.nhan_vien_id?e.nhan_vien_id._id:e.nhan_vien_id,W.nguoi_danh_gia_id="object"===typeof e.nguoi_danh_gia_id?e.nguoi_danh_gia_id._id:e.nguoi_danh_gia_id,W.ky_danh_gia=e.ky_danh_gia,W.muc_tieu=e.muc_tieu||[],W.danh_gia_chung=e.danh_gia_chung||{diem_manh:[],diem_yeu:[]},W.trang_thai=e.trang_thai,W.ghi_chu=e.ghi_chu||""}catch(e){console.error("Error loading tracker:",e),u.nk.error(e.response?.data?.msg||"Không thể tải thông tin tracker"),ie()}finally{M.value=!1}}},O=async()=>{try{const e=await h.A.getAll({limit:1e3});I.value=e.data||[]}catch(e){console.error("Error loading employees:",e)}},P=()=>{if(0===W.muc_tieu.length)return 0;let e=0,a=0;return W.muc_tieu.forEach(t=>{const n=t.trong_so||0,l=t.tien_do||0;e+=l*n,a+=n}),0===a?W.muc_tieu.reduce((e,a)=>e+(a.tien_do||0),0)/W.muc_tieu.length:Math.round(e/a)},z=()=>{if(0===W.muc_tieu.length)return 0;let e=0,a=0;return W.muc_tieu.forEach(t=>{const n=t.trong_so||0,l=t.diem_danh_gia||0;e+=l*n,a+=n}),0===a?W.muc_tieu.reduce((e,a)=>e+(a.diem_danh_gia||0),0)/W.muc_tieu.length:e/a},J=()=>{q.value=null,ne(),B.value=!0},Z=e=>{q.value=e;const a=W.muc_tieu[e];Object.assign(Q,a),B.value=!0},ee=async()=>{N.value&&await N.value.validate(e=>{if(!e)return;const a={...Q};null!==q.value?(W.muc_tieu[q.value]=a,u.nk.success("Cập nhật mục tiêu thành công")):(W.muc_tieu.push(a),u.nk.success("Thêm mục tiêu thành công")),te()})},ae=async e=>{try{await o.s.confirm("Bạn có chắc chắn muốn xóa mục tiêu này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"}),W.muc_tieu.splice(e,1),u.nk.success("Xóa mục tiêu thành công")}catch(a){}},te=()=>{B.value=!1,q.value=null,ne(),N.value&&N.value.resetFields()},ne=()=>{Q.ten_muc_tieu="",Q.mo_ta="",Q.trong_so=0,Q.trang_thai="Chưa bắt đầu",Q.tien_do=0,Q.diem_danh_gia=0,Q.ngay_bat_dau="",Q.han_hoan_thanh="",Q.ngay_hoan_thanh="",Q.nhan_xet=""},le=async()=>{X.value&&await X.value.validate(async e=>{if(e){S.value=!0;try{const e={ten_tracker:W.ten_tracker,nhan_vien_id:W.nhan_vien_id,nguoi_danh_gia_id:W.nguoi_danh_gia_id,ky_danh_gia:W.ky_danh_gia,muc_tieu:W.muc_tieu,danh_gia_chung:W.danh_gia_chung,trang_thai:W.trang_thai,ghi_chu:W.ghi_chu,tien_do_tong:P(),diem_trung_binh:z()};T.value?(await r.A.update(T.value,e),u.nk.success("Cập nhật tracker thành công")):(await r.A.create(e),u.nk.success("Tạo tracker thành công")),ie()}catch(a){console.error("Error saving tracker:",a),u.nk.error(a.response?.data?.msg||"Không thể lưu tracker")}finally{S.value=!1}}})},ie=()=>{a.push({name:"performance-tracker-list"})},ue=e=>{if(!e)return"-";const a=new Date(e);return a.toLocaleDateString("vi-VN")},oe=e=>{const a={"Chưa bắt đầu":"info","Đang thực hiện":"warning","Hoàn thành":"success","Quá hạn":"danger","Đã hủy":"info"};return a[e]||"info"},re=e=>e>=4?"success":e>=3?"warning":"danger",he=e=>e>=80?"#67c23a":e>=50?"#e6a23c":"#f56c6c";return(0,n.sV)(()=>{O(),T.value&&G()}),(e,a)=>{const t=(0,n.g2)("el-button"),l=(0,n.g2)("el-input"),u=(0,n.g2)("el-form-item"),o=(0,n.g2)("el-col"),r=(0,n.g2)("el-row"),h=(0,n.g2)("el-option"),G=(0,n.g2)("el-select"),O=(0,n.g2)("el-date-picker"),ne=(0,n.g2)("el-divider"),de=(0,n.g2)("el-progress"),ce=(0,n.g2)("el-tag"),_e=(0,n.g2)("el-form"),se=(0,n.g2)("el-tab-pane"),ge=(0,n.g2)("el-badge"),me=(0,n.g2)("el-empty"),pe=(0,n.g2)("el-rate"),be=(0,n.g2)("el-card"),ke=(0,n.g2)("el-input-number"),fe=(0,n.g2)("el-tabs"),ve=(0,n.g2)("el-slider"),ye=(0,n.g2)("el-dialog"),Fe=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",c,[(0,n.Lk)("div",_,[(0,n.bF)(t,{icon:(0,n.R1)(i.ArrowLeft),onClick:ie},{default:(0,n.k6)(()=>[...a[25]||(a[25]=[(0,n.eW)("Quay lại",-1)])]),_:1},8,["icon"]),(0,n.Lk)("h1",s,(0,n.v_)($.value?"Chi tiết":T.value?"Chỉnh sửa":"Tạo mới")+" Tracker ",1)]),$.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",g,[(0,n.bF)(t,{onClick:ie},{default:(0,n.k6)(()=>[...a[26]||(a[26]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(t,{type:"primary",loading:S.value,icon:(0,n.R1)(i.Check),onClick:le},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(T.value?"Cập nhật":"Tạo mới"),1)]),_:1},8,["loading","icon"])]))]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(be,{class:"orangehrm-form-card",shadow:"never"},{default:(0,n.k6)(()=>[(0,n.bF)(fe,{modelValue:D.value,"onUpdate:modelValue":a[13]||(a[13]=e=>D.value=e),type:"border-card"},{default:(0,n.k6)(()=>[(0,n.bF)(se,{label:"Thông tin chung",name:"info"},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{ref_key:"formRef",ref:X,model:W,rules:H,"label-width":"160px","label-position":"left",disabled:$.value},{default:(0,n.k6)(()=>[(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:24},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Tên tracker",prop:"ten_tracker",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:W.ten_tracker,"onUpdate:modelValue":a[0]||(a[0]=e=>W.ten_tracker=e),placeholder:"Nhập tên tracker...",maxlength:"200"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Nhân viên",prop:"nhan_vien_id",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.nhan_vien_id,"onUpdate:modelValue":a[1]||(a[1]=e=>W.nhan_vien_id=e),placeholder:"Chọn nhân viên...",filterable:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(I.value,e=>((0,n.uX)(),(0,n.Wv)(h,{key:e._id,label:`${e.ma_nhan_vien} - ${e.ho_dem} ${e.ten}`,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Người đánh giá",prop:"nguoi_danh_gia_id",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.nguoi_danh_gia_id,"onUpdate:modelValue":a[2]||(a[2]=e=>W.nguoi_danh_gia_id=e),placeholder:"Chọn người đánh giá...",filterable:"",style:{width:"100%"}},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(I.value,e=>((0,n.uX)(),(0,n.Wv)(h,{key:e._id,label:`${e.ma_nhan_vien} - ${e.ho_dem} ${e.ten}`,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Từ ngày",prop:"ky_danh_gia.tu_ngay",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(O,{modelValue:W.ky_danh_gia.tu_ngay,"onUpdate:modelValue":a[3]||(a[3]=e=>W.ky_danh_gia.tu_ngay=e),type:"date",placeholder:"Chọn ngày bắt đầu...",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Đến ngày",prop:"ky_danh_gia.den_ngay",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(O,{modelValue:W.ky_danh_gia.den_ngay,"onUpdate:modelValue":a[4]||(a[4]=e=>W.ky_danh_gia.den_ngay=e),type:"date",placeholder:"Chọn ngày kết thúc...",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Trạng thái",prop:"trang_thai",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.trang_thai,"onUpdate:modelValue":a[5]||(a[5]=e=>W.trang_thai=e),placeholder:"Chọn trạng thái...",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"Nháp",value:"Nháp"}),(0,n.bF)(h,{label:"Đang theo dõi",value:"Đang theo dõi"}),(0,n.bF)(h,{label:"Đã hoàn thành",value:"Đã hoàn thành"}),(0,n.bF)(h,{label:"Đã hủy",value:"Đã hủy"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Ghi chú"},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:W.ghi_chu,"onUpdate:modelValue":a[6]||(a[6]=e=>W.ghi_chu=e),placeholder:"Nhập ghi chú...",maxlength:"500"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(ne,null,{default:(0,n.k6)(()=>[...a[27]||(a[27]=[(0,n.eW)("Tổng quan",-1)])]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Tiến độ tổng thể"},{default:(0,n.k6)(()=>[(0,n.bF)(de,{percentage:P(),color:he(P())},null,8,["percentage","color"]),(0,n.Lk)("span",m,(0,n.v_)(P())+"%",1)]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Điểm trung bình"},{default:(0,n.k6)(()=>[(0,n.bF)(ce,{type:re(z()),size:"large"},{default:(0,n.k6)(()=>[(0,n.Lk)("strong",null,(0,n.v_)(z().toFixed(1))+"/5.0",1)]),_:1},8,["type"]),(0,n.Lk)("span",p,"("+(0,n.v_)(W.muc_tieu.length)+" mục tiêu)",1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","disabled"])]),_:1}),(0,n.bF)(se,{name:"goals"},{label:(0,n.k6)(()=>[(0,n.Lk)("span",null,[a[28]||(a[28]=(0,n.eW)(" Mục tiêu ",-1)),(0,n.bF)(ge,{value:W.muc_tieu.length,class:"tab-badge"},null,8,["value"])])]),default:(0,n.k6)(()=>[(0,n.Lk)("div",b,[(0,n.Lk)("div",k,[a[30]||(a[30]=(0,n.Lk)("h3",null,"Danh sách mục tiêu",-1)),$.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(t,{key:0,type:"primary",icon:(0,n.R1)(i.Plus),size:"small",onClick:J},{default:(0,n.k6)(()=>[...a[29]||(a[29]=[(0,n.eW)(" Thêm mục tiêu ",-1)])]),_:1},8,["icon"]))]),0===W.muc_tieu.length?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(me,{description:"Chưa có mục tiêu nào"},{default:(0,n.k6)(()=>[$.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(t,{key:0,type:"primary",onClick:J},{default:(0,n.k6)(()=>[...a[31]||(a[31]=[(0,n.eW)(" Thêm mục tiêu đầu tiên ",-1)])]),_:1}))]),_:1})])):((0,n.uX)(),(0,n.CE)("div",v,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(W.muc_tieu,(e,l)=>((0,n.uX)(),(0,n.Wv)(be,{key:l,class:"goal-card",shadow:"hover"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",y,[(0,n.Lk)("div",F,[(0,n.Lk)("span",w,"#"+(0,n.v_)(l+1),1),(0,n.Lk)("strong",null,(0,n.v_)(e.ten_muc_tieu||"Mục tiêu chưa có tên"),1)]),$.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",V,[(0,n.bF)(t,{size:"small",icon:(0,n.R1)(i.Edit),circle:"",onClick:e=>Z(l)},null,8,["icon","onClick"]),(0,n.bF)(t,{size:"small",type:"danger",icon:(0,n.R1)(i.Delete),circle:"",onClick:e=>ae(l)},null,8,["icon","onClick"])]))]),(0,n.Lk)("div",C,[(0,n.bF)(r,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",x,[a[32]||(a[32]=(0,n.Lk)("label",null,"Trạng thái:",-1)),(0,n.bF)(ce,{type:oe(e.trang_thai),size:"small"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.trang_thai),1)]),_:2},1032,["type"])])]),_:2},1024),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",L,[a[33]||(a[33]=(0,n.Lk)("label",null,"Trọng số:",-1)),(0,n.Lk)("span",null,(0,n.v_)(e.trong_so||0)+"%",1)])]),_:2},1024)]),_:2},1024),(0,n.bF)(r,{gutter:16,style:{"margin-top":"12px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:24},{default:(0,n.k6)(()=>[(0,n.Lk)("div",A,[a[34]||(a[34]=(0,n.Lk)("label",null,"Tiến độ:",-1)),(0,n.bF)(de,{percentage:e.tien_do||0,color:he(e.tien_do||0)},null,8,["percentage","color"])])]),_:2},1024)]),_:2},1024),(0,n.bF)(r,{gutter:16,style:{"margin-top":"12px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",U,[a[35]||(a[35]=(0,n.Lk)("label",null,"Điểm đánh giá:",-1)),(0,n.bF)(pe,{modelValue:e.diem_danh_gia,"onUpdate:modelValue":a=>e.diem_danh_gia=a,max:5,disabled:"","show-score":"","score-template":"{value}"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",E,[a[36]||(a[36]=(0,n.Lk)("label",null,"Hạn hoàn thành:",-1)),(0,n.Lk)("span",null,(0,n.v_)(ue(e.han_hoan_thanh)),1)])]),_:2},1024)]),_:2},1024),e.mo_ta?((0,n.uX)(),(0,n.CE)("div",R,[a[37]||(a[37]=(0,n.Lk)("label",null,"Mô tả:",-1)),(0,n.Lk)("p",null,(0,n.v_)(e.mo_ta),1)])):(0,n.Q3)("",!0),e.nhan_xet?((0,n.uX)(),(0,n.CE)("div",Y,[a[38]||(a[38]=(0,n.Lk)("label",null,"Nhận xét:",-1)),(0,n.Lk)("p",null,(0,n.v_)(e.nhan_xet),1)])):(0,n.Q3)("",!0)])]),_:2},1024))),128))]))])]),_:1}),(0,n.bF)(se,{label:"Đánh giá chung",name:"review"},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{ref_key:"reviewFormRef",ref:K,model:W.danh_gia_chung,"label-width":"180px","label-position":"left",disabled:$.value},{default:(0,n.k6)(()=>[(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Điểm tổng"},{default:(0,n.k6)(()=>[(0,n.bF)(ke,{modelValue:W.danh_gia_chung.diem_tong,"onUpdate:modelValue":a[7]||(a[7]=e=>W.danh_gia_chung.diem_tong=e),min:0,max:5,precision:1,step:.1,style:{width:"100%"}},null,8,["modelValue"]),a[39]||(a[39]=(0,n.Lk)("div",{class:"form-hint"},"Điểm từ 0 đến 5",-1))]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Xếp loại"},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.danh_gia_chung.xep_loai,"onUpdate:modelValue":a[8]||(a[8]=e=>W.danh_gia_chung.xep_loai=e),placeholder:"Chọn xếp loại...",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"Xuất sắc",value:"Xuất sắc"}),(0,n.bF)(h,{label:"Tốt",value:"Tốt"}),(0,n.bF)(h,{label:"Khá",value:"Khá"}),(0,n.bF)(h,{label:"Trung bình",value:"Trung bình"}),(0,n.bF)(h,{label:"Yếu",value:"Yếu"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(u,{label:"Nhận xét chung"},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:W.danh_gia_chung.nhan_xet,"onUpdate:modelValue":a[9]||(a[9]=e=>W.danh_gia_chung.nhan_xet=e),type:"textarea",rows:4,placeholder:"Nhập nhận xét chung về hiệu suất...",maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,n.bF)(u,{label:"Điểm mạnh"},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.danh_gia_chung.diem_manh,"onUpdate:modelValue":a[10]||(a[10]=e=>W.danh_gia_chung.diem_manh=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Nhập các điểm mạnh...",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"Chủ động trong công việc",value:"Chủ động trong công việc"}),(0,n.bF)(h,{label:"Kỹ năng giao tiếp tốt",value:"Kỹ năng giao tiếp tốt"}),(0,n.bF)(h,{label:"Làm việc nhóm hiệu quả",value:"Làm việc nhóm hiệu quả"}),(0,n.bF)(h,{label:"Giải quyết vấn đề tốt",value:"Giải quyết vấn đề tốt"}),(0,n.bF)(h,{label:"Quản lý thời gian tốt",value:"Quản lý thời gian tốt"}),(0,n.bF)(h,{label:"Sáng tạo và đổi mới",value:"Sáng tạo và đổi mới"})]),_:1},8,["modelValue"]),a[40]||(a[40]=(0,n.Lk)("div",{class:"form-hint"},"Có thể chọn nhiều hoặc nhập tự do",-1))]),_:1}),(0,n.bF)(u,{label:"Điểm yếu"},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:W.danh_gia_chung.diem_yeu,"onUpdate:modelValue":a[11]||(a[11]=e=>W.danh_gia_chung.diem_yeu=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Nhập các điểm yếu cần cải thiện...",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"Cần cải thiện kỹ năng giao tiếp",value:"Cần cải thiện kỹ năng giao tiếp"}),(0,n.bF)(h,{label:"Quản lý thời gian chưa tốt",value:"Quản lý thời gian chưa tốt"}),(0,n.bF)(h,{label:"Thiếu chủ động",value:"Thiếu chủ động"}),(0,n.bF)(h,{label:"Cần nâng cao kỹ năng chuyên môn",value:"Cần nâng cao kỹ năng chuyên môn"}),(0,n.bF)(h,{label:"Chưa tự tin khi làm việc nhóm",value:"Chưa tự tin khi làm việc nhóm"})]),_:1},8,["modelValue"]),a[41]||(a[41]=(0,n.Lk)("div",{class:"form-hint"},"Có thể chọn nhiều hoặc nhập tự do",-1))]),_:1}),(0,n.bF)(u,{label:"Kế hoạch phát triển"},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:W.danh_gia_chung.ke_hoach_phat_trien,"onUpdate:modelValue":a[12]||(a[12]=e=>W.danh_gia_chung.ke_hoach_phat_trien=e),type:"textarea",rows:4,placeholder:"Nhập kế hoạch phát triển cho nhân viên...",maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","disabled"])]),_:1})]),_:1},8,["modelValue"])]),_:1})),[[Fe,M.value]]),(0,n.bF)(ye,{modelValue:B.value,"onUpdate:modelValue":a[24]||(a[24]=e=>B.value=e),title:null!==q.value?"Chỉnh sửa mục tiêu":"Thêm mục tiêu mới",width:"700px","close-on-click-modal":!1},{footer:(0,n.k6)(()=>[(0,n.bF)(t,{onClick:te},{default:(0,n.k6)(()=>[...a[42]||(a[42]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(t,{type:"primary",onClick:ee},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(null!==q.value?"Cập nhật":"Thêm"),1)]),_:1})]),default:(0,n.k6)(()=>[(0,n.bF)(_e,{ref_key:"goalFormRef",ref:N,model:Q,rules:j,"label-width":"160px","label-position":"left"},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Tên mục tiêu",prop:"ten_muc_tieu",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:Q.ten_muc_tieu,"onUpdate:modelValue":a[14]||(a[14]=e=>Q.ten_muc_tieu=e),placeholder:"Nhập tên mục tiêu...",maxlength:"200"},null,8,["modelValue"])]),_:1}),(0,n.bF)(u,{label:"Mô tả"},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:Q.mo_ta,"onUpdate:modelValue":a[15]||(a[15]=e=>Q.mo_ta=e),type:"textarea",rows:3,placeholder:"Nhập mô tả chi tiết...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Trọng số (%)",prop:"trong_so"},{default:(0,n.k6)(()=>[(0,n.bF)(ke,{modelValue:Q.trong_so,"onUpdate:modelValue":a[16]||(a[16]=e=>Q.trong_so=e),min:0,max:100,precision:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Trạng thái",prop:"trang_thai",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(G,{modelValue:Q.trang_thai,"onUpdate:modelValue":a[17]||(a[17]=e=>Q.trang_thai=e),style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(h,{label:"Chưa bắt đầu",value:"Chưa bắt đầu"}),(0,n.bF)(h,{label:"Đang thực hiện",value:"Đang thực hiện"}),(0,n.bF)(h,{label:"Hoàn thành",value:"Hoàn thành"}),(0,n.bF)(h,{label:"Quá hạn",value:"Quá hạn"}),(0,n.bF)(h,{label:"Đã hủy",value:"Đã hủy"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Tiến độ (%)"},{default:(0,n.k6)(()=>[(0,n.bF)(ve,{modelValue:Q.tien_do,"onUpdate:modelValue":a[18]||(a[18]=e=>Q.tien_do=e),min:0,max:100,"show-input":""},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Điểm đánh giá"},{default:(0,n.k6)(()=>[(0,n.bF)(pe,{modelValue:Q.diem_danh_gia,"onUpdate:modelValue":a[19]||(a[19]=e=>Q.diem_danh_gia=e),max:5,"allow-half":"","show-score":"","score-template":"{value}"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(r,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Ngày bắt đầu"},{default:(0,n.k6)(()=>[(0,n.bF)(O,{modelValue:Q.ngay_bat_dau,"onUpdate:modelValue":a[20]||(a[20]=e=>Q.ngay_bat_dau=e),type:"date",placeholder:"Chọn ngày...",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(o,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(u,{label:"Hạn hoàn thành"},{default:(0,n.k6)(()=>[(0,n.bF)(O,{modelValue:Q.han_hoan_thanh,"onUpdate:modelValue":a[21]||(a[21]=e=>Q.han_hoan_thanh=e),type:"date",placeholder:"Chọn ngày...",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(u,{label:"Ngày hoàn thành"},{default:(0,n.k6)(()=>[(0,n.bF)(O,{modelValue:Q.ngay_hoan_thanh,"onUpdate:modelValue":a[22]||(a[22]=e=>Q.ngay_hoan_thanh=e),type:"date",placeholder:"Chọn ngày hoàn thành...",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),(0,n.bF)(u,{label:"Nhận xét"},{default:(0,n.k6)(()=>[(0,n.bF)(l,{modelValue:Q.nhan_xet,"onUpdate:modelValue":a[23]||(a[23]=e=>Q.nhan_xet=e),type:"textarea",rows:3,placeholder:"Nhập nhận xét về mục tiêu...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),$=t(6262);const D=(0,$.A)(T,[["__scopeId","data-v-225fad6e"]]);var M=D},8237:function(e,a,t){var n=t(6518),l=t(2652),i=t(9306),u=t(8551),o=t(1767),r=t(9539),h=t(4549),d=t(8745),c=t(9039),_=TypeError,s=c(function(){[].keys().reduce(function(){},void 0)}),g=!s&&h("reduce",_);n({target:"Iterator",proto:!0,real:!0,forced:s||g},{reduce:function(e){u(this);try{i(e)}catch(c){r(this,"throw",c)}var a=arguments.length<2,t=a?void 0:arguments[1];if(g)return d(g,this,a?[e]:[e,t]);var n=o(this),h=0;if(l(n,function(n){a?(a=!1,t=n):t=e(t,n,h),h++},{IS_RECORD:!0}),a)throw new _("Reduce of empty iterator with no initial value");return t}})},8745:function(e,a,t){var n=t(616),l=Function.prototype,i=l.apply,u=l.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?u.bind(i):function(){return u.apply(i,arguments)})}}]);
//# sourceMappingURL=8118.2a4cbd3f.js.map