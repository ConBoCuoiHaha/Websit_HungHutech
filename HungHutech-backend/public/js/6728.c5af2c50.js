"use strict";(self["webpackChunkHungHutech"]=self["webpackChunkHungHutech"]||[]).push([[6728],{1114:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:function(){return s}})},1526:function(e,t,r){var n=r(1114),o=r(4335);const a=window?.appGlobal?.baseUrl&&`${window.appGlobal.baseUrl}/api`,s=a||"http://192.168.88.50:5000/api";console.log("API Base URL:",s);class i{constructor(){(0,n.A)(this,"axiosInstance",void 0),this.axiosInstance=o.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}get(e,t){return this.axiosInstance.get(e,t)}post(e,t,r){return this.axiosInstance.post(e,t,r)}put(e,t,r){return this.axiosInstance.put(e,t,r)}delete(e,t){return this.axiosInstance.delete(e,t)}patch(e,t,r){return this.axiosInstance.patch(e,t,r)}}t.A=new i},4114:function(e,t,r){var n=r(6518),o=r(8981),a=r(6198),s=r(4527),i=r(6837),l=r(9039),u=l(function(){return 4294967297!==[].push.call({length:4294967296},1)}),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=u||!c();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=o(this),r=a(t),n=arguments.length;i(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return s(t,r),r}})},4376:function(e,t,r){var n=r(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4527:function(e,t,r){var n=r(3724),o=r(4376),a=TypeError,s=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(o(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6728:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});r(4114);var n=r(1431),o=r(5220),a=r(9395);const s={class:"login-page"},i={class:"login-card"},l={class:"form-group"},u=["disabled"],c={class:"form-group"},p=["disabled"],h=["disabled"],d={key:0},g={key:1},m={key:0,class:"error-message"};var f=(0,n.pM)({__name:"Login",setup(e){const t=(0,o.rd)(),r=(0,n.KR)("admin@company.com"),f=(0,n.KR)("123456"),v=(0,n.KR)(!1),y=(0,n.KR)(""),b=async()=>{v.value=!0,y.value="";try{await a.A.login({email:r.value,password:f.value}),t.push("/")}catch(e){console.error("Login error:",e),y.value=e.response?.data?.msg||"ÄÄƒng nháº­p tháº¥t báº¡i. Vui lÃ²ng thá»­ láº¡i."}finally{v.value=!1}};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",i,[t[4]||(t[4]=(0,n.Lk)("div",{class:"login-header"},[(0,n.Lk)("h1",{class:"logo"},"ðŸŽ“ Hung Hutech"),(0,n.Lk)("p",{class:"tagline"},"Há»‡ thá»‘ng Quáº£n lÃ½ NhÃ¢n sá»±")],-1)),t[5]||(t[5]=(0,n.Lk)("h2",{class:"login-title"},"ÄÄƒng nháº­p",-1)),(0,n.Lk)("form",{class:"login-form",onSubmit:(0,n.D$)(b,["prevent"])},[(0,n.Lk)("div",l,[t[2]||(t[2]=(0,n.Lk)("label",{for:"email"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),type:"email",placeholder:"admin@company.com",required:"",disabled:v.value},null,8,u),[[n.Jo,r.value]])]),(0,n.Lk)("div",c,[t[3]||(t[3]=(0,n.Lk)("label",{for:"password"},"Máº­t kháº©u",-1)),(0,n.bo)((0,n.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:"",disabled:v.value},null,8,p),[[n.Jo,f.value]])]),(0,n.Lk)("button",{type:"submit",class:"btn-submit",disabled:v.value},[v.value?((0,n.uX)(),(0,n.CE)("span",g,"â³ Äang Ä‘Äƒng nháº­p...")):((0,n.uX)(),(0,n.CE)("span",d,"ðŸ”“ ÄÄƒng nháº­p"))],8,h),y.value?((0,n.uX)(),(0,n.CE)("div",m,"âš ï¸ "+(0,n.v_)(y.value),1)):(0,n.Q3)("",!0)],32),t[6]||(t[6]=(0,n.Lk)("div",{class:"login-footer"},[(0,n.Lk)("p",{class:"hint"},[(0,n.eW)("ðŸ’¡ "),(0,n.Lk)("strong",null,"Demo:"),(0,n.eW)(" admin@company.com / 123456")])],-1))]),t[7]||(t[7]=(0,n.Lk)("div",{class:"background-pattern"},null,-1))]))}}),v=r(6262);const y=(0,v.A)(f,[["__scopeId","data-v-12b13870"]]);var b=y},6837:function(e){var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},9395:function(e,t,r){var n=r(1114),o=r(1526);class a{constructor(){(0,n.A)(this,"TOKEN_KEY","token"),(0,n.A)(this,"USER_KEY","user")}async login(e){const t=await o.A.post("/auth/login",e),{token:r,user:n}=t.data;return localStorage.setItem(this.TOKEN_KEY,r),localStorage.setItem(this.USER_KEY,JSON.stringify(n)),t.data}async register(e){const t=await o.A.post("/auth/register",e),{token:r,user:n}=t.data;return localStorage.setItem(this.TOKEN_KEY,r),localStorage.setItem(this.USER_KEY,JSON.stringify(n)),t.data}async getCurrentUser(){const e=await o.A.get("/auth/me");return e.data}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getUser(){const e=localStorage.getItem(this.USER_KEY);if(!e)return null;try{return JSON.parse(e)}catch{return null}}isAuthenticated(){return!!this.getToken()}hasRole(e){const t=this.getUser();return!!t&&(Array.isArray(e)?e.includes(t.role):t.role===e)}}t.A=new a}}]);
//# sourceMappingURL=6728.c5af2c50.js.map