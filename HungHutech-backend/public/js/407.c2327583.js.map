{"version":3,"file":"js/407.c2327583.js","mappings":"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","sources":["webpack://HungHutech/./src/pages/ContractList.vue?bdac","webpack://HungHutech/./src/pages/ContractList.vue","webpack://HungHutech/./src/pages/ContractList.vue?7423","webpack://HungHutech/./src/services/contractService.ts","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://HungHutech/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://HungHutech/./src/services/api.ts","webpack://HungHutech/./node_modules/vue-loader/dist/exportHelper.js","webpack://HungHutech/./src/services/nhanVienService.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withKeys as _withKeys, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"contract-page\" }\nconst _hoisted_2 = { class: \"page-header\" }\nconst _hoisted_3 = { class: \"emp-info\" }\nconst _hoisted_4 = { class: \"pagination\" }\n\nimport {ref, reactive, onMounted} from 'vue';\nimport {ElMessage, ElMessageBox, FormInstance, FormRules} from 'element-plus';\nimport {Plus, Search, Delete} from '@element-plus/icons-vue';\nimport contractService, {type Contract} from '@/services/contractService';\nimport nhanVienService from '@/services/nhanVienService';\nimport type {NhanVien} from '@/types';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ContractList',\n  setup(__props) {\n\nconst filters = reactive({\n  nhan_vien_id: '',\n  trang_thai: '',\n  q: '',\n});\n\nconst statusOptions = [\n  {label: 'Nháp', value: 'Draft'},\n  {label: 'Chờ duyệt', value: 'Cho_duyet'},\n  {label: 'Đã ký', value: 'Da_ky'},\n  {label: 'Đã hủy', value: 'Da_huy'},\n];\n\nconst contracts = ref<Contract[]>([]);\nconst employees = ref<NhanVien[]>([]);\nconst loading = ref(false);\nconst saving = ref(false);\nconst pagination = reactive({page: 1, limit: 10, total: 0});\nconst showDialog = ref(false);\nconst formRef = ref<FormInstance>();\nconst form = reactive({\n  so_hop_dong: '',\n  nhan_vien_id: '',\n  loai_hop_dong: 'Co_thoi_han',\n  dateRange: [] as string[] | [],\n  luong_co_ban: 0,\n  file_url: '',\n  ghi_chu: '',\n});\n\nconst formRules: FormRules = {\n  so_hop_dong: [{required: true, message: 'Nhập số hợp đồng', trigger: 'blur'}],\n  nhan_vien_id: [\n    {required: true, message: 'Chọn nhân viên', trigger: 'change'},\n  ],\n  luong_co_ban: [\n    {required: true, message: 'Nhập lương cơ bản', trigger: 'blur'},\n  ],\n};\n\nconst loadEmployees = async () => {\n  const res = await nhanVienService.getAll({page: 1, limit: 200});\n  employees.value = res.data || [];\n};\n\nconst loadContracts = async () => {\n  loading.value = true;\n  try {\n    const params = {\n      page: pagination.page,\n      limit: pagination.limit,\n      q: filters.q || undefined,\n      nhan_vien_id: filters.nhan_vien_id || undefined,\n      trang_thai: filters.trang_thai || undefined,\n    };\n    const res = await contractService.getAll(params);\n    contracts.value = res.data || [];\n    pagination.total = res.pagination?.total || 0;\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tải hợp đồng');\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst applyFilters = () => {\n  pagination.page = 1;\n  loadContracts();\n};\n\nconst resetFilters = () => {\n  filters.q = '';\n  filters.trang_thai = '';\n  filters.nhan_vien_id = '';\n  applyFilters();\n};\n\nconst handlePageChange = (page: number) => {\n  pagination.page = page;\n  loadContracts();\n};\n\nconst openDialog = () => {\n  showDialog.value = true;\n};\n\nconst closeDialog = () => {\n  showDialog.value = false;\n  form.so_hop_dong = '';\n  form.nhan_vien_id = '';\n  form.loai_hop_dong = 'Co_thoi_han';\n  form.dateRange = [];\n  form.luong_co_ban = 0;\n  form.file_url = '';\n  form.ghi_chu = '';\n};\n\nconst handleCreate = async () => {\n  if (!formRef.value) return;\n  await formRef.value.validate(async (valid) => {\n    if (!valid) return;\n    saving.value = true;\n    try {\n      await contractService.create({\n        so_hop_dong: form.so_hop_dong,\n        nhan_vien_id: form.nhan_vien_id,\n        loai_hop_dong: form.loai_hop_dong as Contract['loai_hop_dong'],\n        hieu_luc_tu: form.dateRange[0],\n        hieu_luc_den: form.dateRange[1],\n        luong_co_ban: form.luong_co_ban,\n        file_url: form.file_url,\n        ghi_chu: form.ghi_chu,\n      });\n      ElMessage.success('Đã tạo hợp đồng');\n      closeDialog();\n      loadContracts();\n    } catch (err: any) {\n      ElMessage.error(err.response?.data?.msg || 'Không thể tạo hợp đồng');\n    } finally {\n      saving.value = false;\n    }\n  });\n};\n\nconst changeStatus = async (\n  row: Contract,\n  trang_thai: Contract['trang_thai'],\n) => {\n  try {\n    await contractService.updateStatus(row._id, trang_thai);\n    ElMessage.success('Đã cập nhật trạng thái');\n    loadContracts();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể cập nhật trạng thái');\n  }\n};\n\nconst handleDelete = async (id: string) => {\n  try {\n    await ElMessageBox.confirm('Xóa hợp đồng này?', 'Xác nhận', {\n      type: 'warning',\n    });\n    await contractService.delete(id);\n    ElMessage.success('Đã xóa hợp đồng');\n    loadContracts();\n  } catch (err: any) {\n    if (err === 'cancel') return;\n    ElMessage.error(err.response?.data?.msg || 'Không thể xóa hợp đồng');\n  }\n};\n\nconst formatEmployee = (employee?: NhanVien | string) => {\n  if (!employee || typeof employee === 'string') return '';\n  return `${employee.ho_dem || ''} ${employee.ten || ''}`.trim();\n};\n\nconst formatDate = (date?: string) => {\n  if (!date) return '';\n  return new Date(date).toLocaleDateString('vi-VN');\n};\n\nconst formatCurrency = (value?: number) => {\n  if (!value) return '0 VND';\n  return `${value.toLocaleString('vi-VN')} VND`;\n};\n\nconst contractType = (type: string) => {\n  switch (type) {\n    case 'Thu_viec':\n      return 'Thử việc';\n    case 'Khong_thoi_han':\n      return 'Không thời hạn';\n    case 'Cong_tac':\n      return 'Công tác';\n    default:\n      return 'Có thời hạn';\n  }\n};\n\nconst statusLabel = (status: Contract['trang_thai']) => {\n  return statusOptions.find((opt) => opt.value === status)?.label || status;\n};\n\nconst statusTag = (status: Contract['trang_thai']) => {\n  if (status === 'Da_ky') return 'success';\n  if (status === 'Cho_duyet') return 'warning';\n  if (status === 'Da_huy') return 'danger';\n  return 'info';\n};\n\nonMounted(() => {\n  loadEmployees();\n  loadContracts();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_arrow_down = _resolveComponent(\"arrow-down\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\")!\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\")!\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\")!\n  const _component_el_space = _resolveComponent(\"el-space\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_pagination = _resolveComponent(\"el-pagination\")!\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n  const _component_el_input_number = _resolveComponent(\"el-input-number\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[12] || (_cache[12] = _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h1\", null, \"Quản lý hợp đồng\"),\n        _createElementVNode(\"p\", null, \" Theo dõi vòng đời hợp đồng lao động và tự động cập nhật lương cơ bản. \")\n      ], -1)),\n      _createVNode(_component_el_button, {\n        type: \"primary\",\n        icon: _unref(Plus),\n        onClick: openDialog\n      }, {\n        default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n          _createTextVNode(\"Tạo hợp đồng\", -1)\n        ]))]),\n        _: 1\n      }, 8, [\"icon\"])\n    ]),\n    _createVNode(_component_el_card, {\n      class: \"filter-card\",\n      shadow: \"never\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, { inline: \"\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, { label: \"Nhân viên\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: filters.nhan_vien_id,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((filters.nhan_vien_id) = $event)),\n                  placeholder: \"Tất cả\",\n                  filterable: \"\",\n                  style: {\"width\":\"220px\"}\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(employees.value, (emp) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: emp._id,\n                        label: `${emp.ma_nhan_vien} - ${emp.ho_dem} ${emp.ten}`,\n                        value: emp._id\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Trạng thái\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: filters.trang_thai,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((filters.trang_thai) = $event)),\n                  placeholder: \"Tất cả\",\n                  style: {\"width\":\"180px\"}\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(statusOptions, (opt) => {\n                      return _createVNode(_component_el_option, {\n                        key: opt.value,\n                        label: opt.label,\n                        value: opt.value\n                      }, null, 8, [\"label\", \"value\"])\n                    }), 64))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Từ khóa\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: filters.q,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((filters.q) = $event)),\n                  placeholder: \"Số HĐ, ghi chú...\",\n                  clearable: \"\",\n                  \"prefix-icon\": _unref(Search),\n                  onKeyup: _withKeys(applyFilters, [\"enter\",\"native\"])\n                }, null, 8, [\"modelValue\", \"prefix-icon\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_button, {\n                  type: \"primary\",\n                  onClick: applyFilters\n                }, {\n                  default: _withCtx(() => [...(_cache[13] || (_cache[13] = [\n                    _createTextVNode(\"Lọc\", -1)\n                  ]))]),\n                  _: 1\n                }),\n                _createVNode(_component_el_button, { onClick: resetFilters }, {\n                  default: _withCtx(() => [...(_cache[14] || (_cache[14] = [\n                    _createTextVNode(\"Xóa lọc\", -1)\n                  ]))]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_card, { shadow: \"never\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n          data: contracts.value,\n          stripe: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_table_column, {\n              label: \"Số HĐ\",\n              prop: \"so_hop_dong\",\n              \"min-width\": \"140\"\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Nhân viên\",\n              \"min-width\": \"200\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createElementVNode(\"strong\", null, _toDisplayString(row.nhan_vien_id?.ma_nhan_vien), 1),\n                  _createElementVNode(\"span\", null, _toDisplayString(formatEmployee(row.nhan_vien_id)), 1)\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Loại hợp đồng\",\n              \"min-width\": \"160\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createTextVNode(_toDisplayString(contractType(row.loai_hop_dong)), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Hiệu lực\",\n              \"min-width\": \"200\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createTextVNode(_toDisplayString(formatDate(row.hieu_luc_tu)) + \" - \" + _toDisplayString(formatDate(row.hieu_luc_den) || 'Không xác định'), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Lương cơ bản\",\n              width: \"150\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createTextVNode(_toDisplayString(formatCurrency(row.luong_co_ban)), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Trạng thái\",\n              width: \"140\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createVNode(_component_el_tag, {\n                  type: statusTag(row.trang_thai)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(statusLabel(row.trang_thai)), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Hành động\",\n              width: \"200\",\n              fixed: \"right\"\n            }, {\n              default: _withCtx(({row}) => [\n                _createVNode(_component_el_space, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_dropdown, {\n                      onCommand: (cmd) => changeStatus(row, cmd)\n                    }, {\n                      dropdown: _withCtx(() => [\n                        _createVNode(_component_el_dropdown_menu, null, {\n                          default: _withCtx(() => [\n                            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(statusOptions, (opt) => {\n                              return _createVNode(_component_el_dropdown_item, {\n                                key: opt.value,\n                                command: opt.value\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(opt.label), 1)\n                                ]),\n                                _: 2\n                              }, 1032, [\"command\"])\n                            }), 64))\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      default: _withCtx(() => [\n                        _createVNode(_component_el_button, { size: \"small\" }, {\n                          default: _withCtx(() => [\n                            _cache[15] || (_cache[15] = _createTextVNode(\" Trạng thái \", -1)),\n                            _createVNode(_component_el_icon, null, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_arrow_down)\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }, 8, [\"onCommand\"]),\n                    _createVNode(_component_el_button, {\n                      size: \"small\",\n                      icon: _unref(Delete),\n                      type: \"danger\",\n                      onClick: ($event: any) => (handleDelete(row._id))\n                    }, {\n                      default: _withCtx(() => [...(_cache[16] || (_cache[16] = [\n                        _createTextVNode(\" Xóa \", -1)\n                      ]))]),\n                      _: 1\n                    }, 8, [\"icon\", \"onClick\"])\n                  ]),\n                  _: 2\n                }, 1024)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"])), [\n          [_directive_loading, loading.value]\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_el_pagination, {\n            layout: \"total, prev, pager, next\",\n            total: pagination.total,\n            \"page-size\": pagination.limit,\n            \"current-page\": pagination.page,\n            onCurrentChange: handlePageChange\n          }, null, 8, [\"total\", \"page-size\", \"current-page\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_dialog, {\n      modelValue: showDialog.value,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((showDialog).value = $event)),\n      title: \"Tạo hợp đồng lao động\",\n      width: \"620px\",\n      \"close-on-click-modal\": false\n    }, {\n      footer: _withCtx(() => [\n        _createVNode(_component_el_button, { onClick: closeDialog }, {\n          default: _withCtx(() => [...(_cache[17] || (_cache[17] = [\n            _createTextVNode(\"Hủy\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          loading: saving.value,\n          onClick: handleCreate\n        }, {\n          default: _withCtx(() => [...(_cache[18] || (_cache[18] = [\n            _createTextVNode(\" Lưu hợp đồng \", -1)\n          ]))]),\n          _: 1\n        }, 8, [\"loading\"])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, {\n          ref_key: \"formRef\",\n          ref: formRef,\n          model: form,\n          rules: formRules,\n          \"label-width\": \"150px\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, {\n              label: \"Số hợp đồng\",\n              prop: \"so_hop_dong\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: form.so_hop_dong,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((form.so_hop_dong) = $event)),\n                  placeholder: \"VD: HD/2025/001\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"Nhân viên\",\n              prop: \"nhan_vien_id\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: form.nhan_vien_id,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((form.nhan_vien_id) = $event)),\n                  filterable: \"\",\n                  placeholder: \"Chọn nhân viên\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(employees.value, (emp) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: emp._id,\n                        label: `${emp.ma_nhan_vien} - ${emp.ho_dem} ${emp.ten}`,\n                        value: emp._id\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"Loại hợp đồng\",\n              prop: \"loai_hop_dong\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: form.loai_hop_dong,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((form.loai_hop_dong) = $event))\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_option, {\n                      label: \"Thử việc\",\n                      value: \"Thu_viec\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Có thời hạn\",\n                      value: \"Co_thoi_han\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Không thời hạn\",\n                      value: \"Khong_thoi_han\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Công tác\",\n                      value: \"Cong_tac\"\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Hiệu lực\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_date_picker, {\n                  modelValue: form.dateRange,\n                  \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((form.dateRange) = $event)),\n                  type: \"daterange\",\n                  \"value-format\": \"YYYY-MM-DD\",\n                  \"range-separator\": \"Đến\",\n                  \"start-placeholder\": \"Từ ngày\",\n                  \"end-placeholder\": \"Đến ngày\",\n                  style: {\"width\":\"100%\"}\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"Lương cơ bản\",\n              prop: \"luong_co_ban\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input_number, {\n                  modelValue: form.luong_co_ban,\n                  \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((form.luong_co_ban) = $event)),\n                  min: 0,\n                  step: 500000,\n                  controls: false,\n                  style: {\"width\":\"100%\"}\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Tập tin hợp đồng\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: form.file_url,\n                  \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((form.file_url) = $event)),\n                  placeholder: \"Đường dẫn file scan hoặc e-contract\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Ghi chú\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: form.ghi_chu,\n                  \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((form.ghi_chu) = $event)),\n                  type: \"textarea\",\n                  rows: \"3\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\"])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"contract-page\">\n    <div class=\"page-header\">\n      <div>\n        <h1>Quản lý hợp đồng</h1>\n        <p>\n          Theo dõi vòng đời hợp đồng lao động và tự động cập nhật lương cơ bản.\n        </p>\n      </div>\n      <el-button type=\"primary\" :icon=\"Plus\" @click=\"openDialog\"\n        >Tạo hợp đồng</el-button\n      >\n    </div>\n\n    <el-card class=\"filter-card\" shadow=\"never\">\n      <el-form inline>\n        <el-form-item label=\"Nhân viên\">\n          <el-select\n            v-model=\"filters.nhan_vien_id\"\n            placeholder=\"Tất cả\"\n            filterable\n            style=\"width: 220px\"\n          >\n            <el-option\n              v-for=\"emp in employees\"\n              :key=\"emp._id\"\n              :label=\"`${emp.ma_nhan_vien} - ${emp.ho_dem} ${emp.ten}`\"\n              :value=\"emp._id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Trạng thái\">\n          <el-select\n            v-model=\"filters.trang_thai\"\n            placeholder=\"Tất cả\"\n            style=\"width: 180px\"\n          >\n            <el-option\n              v-for=\"opt in statusOptions\"\n              :key=\"opt.value\"\n              :label=\"opt.label\"\n              :value=\"opt.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Từ khóa\">\n          <el-input\n            v-model=\"filters.q\"\n            placeholder=\"Số HĐ, ghi chú...\"\n            clearable\n            :prefix-icon=\"Search\"\n            @keyup.enter.native=\"applyFilters\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"applyFilters\">Lọc</el-button>\n          <el-button @click=\"resetFilters\">Xóa lọc</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <el-card shadow=\"never\">\n      <el-table v-loading=\"loading\" :data=\"contracts\" stripe>\n        <el-table-column label=\"Số HĐ\" prop=\"so_hop_dong\" min-width=\"140\" />\n        <el-table-column label=\"Nhân viên\" min-width=\"200\">\n          <template #default=\"{row}\">\n            <div class=\"emp-info\">\n              <strong>{{ row.nhan_vien_id?.ma_nhan_vien }}</strong>\n              <span>{{ formatEmployee(row.nhan_vien_id) }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Loại hợp đồng\" min-width=\"160\">\n          <template #default=\"{row}\">{{\n            contractType(row.loai_hop_dong)\n          }}</template>\n        </el-table-column>\n        <el-table-column label=\"Hiệu lực\" min-width=\"200\">\n          <template #default=\"{row}\">\n            {{ formatDate(row.hieu_luc_tu) }} -\n            {{ formatDate(row.hieu_luc_den) || 'Không xác định' }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Lương cơ bản\" width=\"150\">\n          <template #default=\"{row}\">\n            {{ formatCurrency(row.luong_co_ban) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Trạng thái\" width=\"140\">\n          <template #default=\"{row}\">\n            <el-tag :type=\"statusTag(row.trang_thai)\">\n              {{ statusLabel(row.trang_thai) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Hành động\" width=\"200\" fixed=\"right\">\n          <template #default=\"{row}\">\n            <el-space>\n              <el-dropdown @command=\"(cmd) => changeStatus(row, cmd)\">\n                <el-button size=\"small\">\n                  Trạng thái\n                  <el-icon><arrow-down /></el-icon>\n                </el-button>\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item\n                      v-for=\"opt in statusOptions\"\n                      :key=\"opt.value\"\n                      :command=\"opt.value\"\n                    >\n                      {{ opt.label }}\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n              <el-button\n                size=\"small\"\n                :icon=\"Delete\"\n                type=\"danger\"\n                @click=\"handleDelete(row._id)\"\n              >\n                Xóa\n              </el-button>\n            </el-space>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"pagination\">\n        <el-pagination\n          layout=\"total, prev, pager, next\"\n          :total=\"pagination.total\"\n          :page-size=\"pagination.limit\"\n          :current-page=\"pagination.page\"\n          @current-change=\"handlePageChange\"\n        />\n      </div>\n    </el-card>\n\n    <el-dialog\n      v-model=\"showDialog\"\n      title=\"Tạo hợp đồng lao động\"\n      width=\"620px\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form\n        ref=\"formRef\"\n        :model=\"form\"\n        :rules=\"formRules\"\n        label-width=\"150px\"\n      >\n        <el-form-item label=\"Số hợp đồng\" prop=\"so_hop_dong\">\n          <el-input v-model=\"form.so_hop_dong\" placeholder=\"VD: HD/2025/001\" />\n        </el-form-item>\n        <el-form-item label=\"Nhân viên\" prop=\"nhan_vien_id\">\n          <el-select\n            v-model=\"form.nhan_vien_id\"\n            filterable\n            placeholder=\"Chọn nhân viên\"\n          >\n            <el-option\n              v-for=\"emp in employees\"\n              :key=\"emp._id\"\n              :label=\"`${emp.ma_nhan_vien} - ${emp.ho_dem} ${emp.ten}`\"\n              :value=\"emp._id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Loại hợp đồng\" prop=\"loai_hop_dong\">\n          <el-select v-model=\"form.loai_hop_dong\">\n            <el-option label=\"Thử việc\" value=\"Thu_viec\" />\n            <el-option label=\"Có thời hạn\" value=\"Co_thoi_han\" />\n            <el-option label=\"Không thời hạn\" value=\"Khong_thoi_han\" />\n            <el-option label=\"Công tác\" value=\"Cong_tac\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Hiệu lực\">\n          <el-date-picker\n            v-model=\"form.dateRange\"\n            type=\"daterange\"\n            value-format=\"YYYY-MM-DD\"\n            range-separator=\"Đến\"\n            start-placeholder=\"Từ ngày\"\n            end-placeholder=\"Đến ngày\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n        <el-form-item label=\"Lương cơ bản\" prop=\"luong_co_ban\">\n          <el-input-number\n            v-model=\"form.luong_co_ban\"\n            :min=\"0\"\n            :step=\"500000\"\n            :controls=\"false\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n        <el-form-item label=\"Tập tin hợp đồng\">\n          <el-input\n            v-model=\"form.file_url\"\n            placeholder=\"Đường dẫn file scan hoặc e-contract\"\n          />\n        </el-form-item>\n        <el-form-item label=\"Ghi chú\">\n          <el-input v-model=\"form.ghi_chu\" type=\"textarea\" rows=\"3\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"closeDialog\">Hủy</el-button>\n        <el-button type=\"primary\" :loading=\"saving\" @click=\"handleCreate\">\n          Lưu hợp đồng\n        </el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, reactive, onMounted} from 'vue';\nimport {ElMessage, ElMessageBox, FormInstance, FormRules} from 'element-plus';\nimport {Plus, Search, Delete} from '@element-plus/icons-vue';\nimport contractService, {type Contract} from '@/services/contractService';\nimport nhanVienService from '@/services/nhanVienService';\nimport type {NhanVien} from '@/types';\n\nconst filters = reactive({\n  nhan_vien_id: '',\n  trang_thai: '',\n  q: '',\n});\n\nconst statusOptions = [\n  {label: 'Nháp', value: 'Draft'},\n  {label: 'Chờ duyệt', value: 'Cho_duyet'},\n  {label: 'Đã ký', value: 'Da_ky'},\n  {label: 'Đã hủy', value: 'Da_huy'},\n];\n\nconst contracts = ref<Contract[]>([]);\nconst employees = ref<NhanVien[]>([]);\nconst loading = ref(false);\nconst saving = ref(false);\nconst pagination = reactive({page: 1, limit: 10, total: 0});\nconst showDialog = ref(false);\nconst formRef = ref<FormInstance>();\nconst form = reactive({\n  so_hop_dong: '',\n  nhan_vien_id: '',\n  loai_hop_dong: 'Co_thoi_han',\n  dateRange: [] as string[] | [],\n  luong_co_ban: 0,\n  file_url: '',\n  ghi_chu: '',\n});\n\nconst formRules: FormRules = {\n  so_hop_dong: [{required: true, message: 'Nhập số hợp đồng', trigger: 'blur'}],\n  nhan_vien_id: [\n    {required: true, message: 'Chọn nhân viên', trigger: 'change'},\n  ],\n  luong_co_ban: [\n    {required: true, message: 'Nhập lương cơ bản', trigger: 'blur'},\n  ],\n};\n\nconst loadEmployees = async () => {\n  const res = await nhanVienService.getAll({page: 1, limit: 200});\n  employees.value = res.data || [];\n};\n\nconst loadContracts = async () => {\n  loading.value = true;\n  try {\n    const params = {\n      page: pagination.page,\n      limit: pagination.limit,\n      q: filters.q || undefined,\n      nhan_vien_id: filters.nhan_vien_id || undefined,\n      trang_thai: filters.trang_thai || undefined,\n    };\n    const res = await contractService.getAll(params);\n    contracts.value = res.data || [];\n    pagination.total = res.pagination?.total || 0;\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tải hợp đồng');\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst applyFilters = () => {\n  pagination.page = 1;\n  loadContracts();\n};\n\nconst resetFilters = () => {\n  filters.q = '';\n  filters.trang_thai = '';\n  filters.nhan_vien_id = '';\n  applyFilters();\n};\n\nconst handlePageChange = (page: number) => {\n  pagination.page = page;\n  loadContracts();\n};\n\nconst openDialog = () => {\n  showDialog.value = true;\n};\n\nconst closeDialog = () => {\n  showDialog.value = false;\n  form.so_hop_dong = '';\n  form.nhan_vien_id = '';\n  form.loai_hop_dong = 'Co_thoi_han';\n  form.dateRange = [];\n  form.luong_co_ban = 0;\n  form.file_url = '';\n  form.ghi_chu = '';\n};\n\nconst handleCreate = async () => {\n  if (!formRef.value) return;\n  await formRef.value.validate(async (valid) => {\n    if (!valid) return;\n    saving.value = true;\n    try {\n      await contractService.create({\n        so_hop_dong: form.so_hop_dong,\n        nhan_vien_id: form.nhan_vien_id,\n        loai_hop_dong: form.loai_hop_dong as Contract['loai_hop_dong'],\n        hieu_luc_tu: form.dateRange[0],\n        hieu_luc_den: form.dateRange[1],\n        luong_co_ban: form.luong_co_ban,\n        file_url: form.file_url,\n        ghi_chu: form.ghi_chu,\n      });\n      ElMessage.success('Đã tạo hợp đồng');\n      closeDialog();\n      loadContracts();\n    } catch (err: any) {\n      ElMessage.error(err.response?.data?.msg || 'Không thể tạo hợp đồng');\n    } finally {\n      saving.value = false;\n    }\n  });\n};\n\nconst changeStatus = async (\n  row: Contract,\n  trang_thai: Contract['trang_thai'],\n) => {\n  try {\n    await contractService.updateStatus(row._id, trang_thai);\n    ElMessage.success('Đã cập nhật trạng thái');\n    loadContracts();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể cập nhật trạng thái');\n  }\n};\n\nconst handleDelete = async (id: string) => {\n  try {\n    await ElMessageBox.confirm('Xóa hợp đồng này?', 'Xác nhận', {\n      type: 'warning',\n    });\n    await contractService.delete(id);\n    ElMessage.success('Đã xóa hợp đồng');\n    loadContracts();\n  } catch (err: any) {\n    if (err === 'cancel') return;\n    ElMessage.error(err.response?.data?.msg || 'Không thể xóa hợp đồng');\n  }\n};\n\nconst formatEmployee = (employee?: NhanVien | string) => {\n  if (!employee || typeof employee === 'string') return '';\n  return `${employee.ho_dem || ''} ${employee.ten || ''}`.trim();\n};\n\nconst formatDate = (date?: string) => {\n  if (!date) return '';\n  return new Date(date).toLocaleDateString('vi-VN');\n};\n\nconst formatCurrency = (value?: number) => {\n  if (!value) return '0 VND';\n  return `${value.toLocaleString('vi-VN')} VND`;\n};\n\nconst contractType = (type: string) => {\n  switch (type) {\n    case 'Thu_viec':\n      return 'Thử việc';\n    case 'Khong_thoi_han':\n      return 'Không thời hạn';\n    case 'Cong_tac':\n      return 'Công tác';\n    default:\n      return 'Có thời hạn';\n  }\n};\n\nconst statusLabel = (status: Contract['trang_thai']) => {\n  return statusOptions.find((opt) => opt.value === status)?.label || status;\n};\n\nconst statusTag = (status: Contract['trang_thai']) => {\n  if (status === 'Da_ky') return 'success';\n  if (status === 'Cho_duyet') return 'warning';\n  if (status === 'Da_huy') return 'danger';\n  return 'info';\n};\n\nonMounted(() => {\n  loadEmployees();\n  loadContracts();\n});\n</script>\n\n<style scoped lang=\"scss\">\n.contract-page {\n  width: 100%;\n}\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: $spacing-xl;\n\n  h1 {\n    margin: 0;\n    font-size: $font-size-xl;\n    font-weight: $font-weight-bold;\n  }\n}\n.filter-card {\n  margin-bottom: $spacing-lg;\n}\n.emp-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n\n  span {\n    color: $text-secondary;\n    font-size: $font-size-sm;\n  }\n}\n.pagination {\n  display: flex;\n  justify-content: flex-end;\n  padding-top: $spacing-md;\n}\n</style>\n","import script from \"./ContractList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ContractList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ContractList.vue?vue&type=style&index=0&id=090c6e41&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-090c6e41\"]])\n\nexport default __exports__","import api from './api';\nimport {PaginatedResponse} from '@/types';\n\nexport interface Contract {\n  _id: string;\n  nhan_vien_id: string;\n  so_hop_dong: string;\n  loai_hop_dong: 'Thu_viec' | 'Co_thoi_han' | 'Khong_thoi_han' | 'Cong_tac';\n  trang_thai: 'Draft' | 'Cho_duyet' | 'Da_ky' | 'Da_huy';\n  ngay_ky?: string;\n  hieu_luc_tu?: string;\n  hieu_luc_den?: string;\n  luong_co_ban?: number;\n  phu_cap?: Array<{ten: string; so_tien: number; ghi_chu?: string}>;\n  file_url?: string;\n  ghi_chu?: string;\n}\n\nexport interface ContractParams {\n  page?: number;\n  limit?: number;\n  q?: string;\n  nhan_vien_id?: string;\n  trang_thai?: string;\n}\n\nclass ContractService {\n  private readonly BASE_URL = '/contracts';\n\n  async getAll(params?: ContractParams): Promise<PaginatedResponse<Contract>> {\n    const response = await api.get<PaginatedResponse<Contract>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<Contract> {\n    const response = await api.get<Contract>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<Contract>): Promise<Contract> {\n    const response = await api.post<Contract>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<Contract>): Promise<Contract> {\n    const response = await api.put<Contract>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async updateStatus(\n    id: string,\n    trang_thai: Contract['trang_thai'],\n    ghi_chu?: string,\n  ) {\n    const response = await api.patch<Contract>(\n      `${this.BASE_URL}/${id}/status`,\n      {\n        trang_thai,\n        ghi_chu,\n      },\n    );\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n\n  async getExpiring(params?: {days?: number; limit?: number}): Promise<Contract[]> {\n    const response = await api.get<{data: Contract[]}>(`${this.BASE_URL}/expiring`, {\n      params,\n    });\n    return response.data.data || [];\n  }\n}\n\nexport default new ContractService();\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse} from 'axios';\n\n// Base URL config via server-injected window.appGlobal or env\nconst runtimeBase =\n  (window as any)?.appGlobal?.baseUrl &&\n  `${(window as any).appGlobal.baseUrl}/api`;\nconst API_BASE_URL =\n  runtimeBase || process.env.VUE_APP_API_BASE_URL || 'http://localhost:5000/api';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nclass ApiService {\n  private axiosInstance: AxiosInstance;\n\n  constructor() {\n    this.axiosInstance = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Request interceptor - Add token to requests\n    this.axiosInstance.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n          config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      },\n    );\n\n    // Response interceptor - Handle errors\n    this.axiosInstance.interceptors.response.use(\n      (response) => response,\n      (error) => {\n        if (error.response?.status === 401) {\n          // Token expired or invalid\n          localStorage.removeItem('token');\n          localStorage.removeItem('user');\n          window.location.href = '/login';\n        }\n        return Promise.reject(error);\n      },\n    );\n  }\n\n  public get<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.get<T>(url, config);\n  }\n\n  public post<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.post<T>(url, data, config);\n  }\n\n  public put<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.put<T>(url, data, config);\n  }\n\n  public delete<T = any>(\n    url: string,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.delete<T>(url, config);\n  }\n\n  public patch<T = any>(\n    url: string,\n    data?: any,\n    config?: AxiosRequestConfig,\n  ): Promise<AxiosResponse<T>> {\n    return this.axiosInstance.patch<T>(url, data, config);\n  }\n}\n\nexport default new ApiService();\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import api from './api';\nimport {NhanVien, PaginatedResponse, PaginationParams} from '@/types';\n\nclass NhanVienService {\n  private readonly BASE_URL = '/nhanvien';\n\n  async getAll(\n    params?: PaginationParams,\n  ): Promise<PaginatedResponse<NhanVien>> {\n    const response = await api.get<PaginatedResponse<NhanVien>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<NhanVien> {\n    const response = await api.get<NhanVien>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.post<NhanVien>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.put<NhanVien>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n}\n\nexport default new NhanVienService();\n"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","filters","reactive","nhan_vien_id","trang_thai","q","statusOptions","label","value","contracts","ref","employees","loading","saving","pagination","page","limit","total","showDialog","formRef","form","so_hop_dong","loai_hop_dong","dateRange","luong_co_ban","file_url","ghi_chu","formRules","required","message","trigger","loadEmployees","async","res","nhanVienService","getAll","data","loadContracts","params","undefined","contractService","err","ElMessage","error","response","msg","applyFilters","resetFilters","handlePageChange","openDialog","closeDialog","handleCreate","validate","valid","create","hieu_luc_tu","hieu_luc_den","success","changeStatus","row","updateStatus","_id","handleDelete","ElMessageBox","confirm","type","delete","id","formatEmployee","employee","ho_dem","ten","trim","formatDate","date","Date","toLocaleDateString","formatCurrency","toLocaleString","contractType","statusLabel","status","find","opt","statusTag","onMounted","_ctx","_cache","_component_el_button","_resolveComponent","_component_el_option","_component_el_select","_component_el_form_item","_component_el_input","_component_el_form","_component_el_card","_component_el_table_column","_component_el_tag","_component_arrow_down","_component_el_icon","_component_el_dropdown_item","_component_el_dropdown_menu","_component_el_dropdown","_component_el_space","_component_el_table","_component_el_pagination","_component_el_date_picker","_component_el_input_number","_component_el_dialog","_directive_loading","_resolveDirective","_openBlock","_createElementBlock","_createElementVNode","_createVNode","icon","_unref","Plus","onClick","default","_withCtx","_createTextVNode","_","shadow","inline","modelValue","$event","placeholder","filterable","style","_Fragment","_renderList","emp","_createBlock","key","ma_nhan_vien","clearable","Search","onKeyup","_withKeys","_withDirectives","stripe","prop","_toDisplayString","width","fixed","onCommand","cmd","dropdown","command","size","Delete","layout","onCurrentChange","title","footer","ref_key","model","rules","min","step","controls","rows","__exports__","ContractService","constructor","_defineProperty","api","get","this","BASE_URL","getById","post","update","put","patch","getExpiring","_typeof","o","Symbol","iterator","prototype","toPrimitive","t","r","e","i","call","TypeError","String","Number","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","runtimeBase","window","appGlobal","baseUrl","API_BASE_URL","process","console","log","ApiService","axiosInstance","axios","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","Promise","reject","removeItem","location","href","url","exports","sfc","props","target","__vccOpts","val","NhanVienService"],"sourceRoot":""}