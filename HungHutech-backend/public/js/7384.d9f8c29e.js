"use strict";(self["webpackChunkHungHutech"]=self["webpackChunkHungHutech"]||[]).push([[7384],{116:function(e,n,a){var t=a(6518),l=a(9565),i=a(2652),o=a(9306),u=a(8551),r=a(1767),d=a(9539),_=a(4549),h=_("find",TypeError);t({target:"Iterator",proto:!0,real:!0,forced:h},{find:function(e){u(this);try{o(e)}catch(t){d(this,"throw",t)}if(h)return l(h,this,e);var n=r(this),a=0;return i(n,function(n,t){if(e(n,a++))return t(n)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},684:function(e){e.exports=function(e,n){var a="function"==typeof Iterator&&Iterator.prototype[e];if(a)try{a.call({next:null},n).next()}catch(t){return!0}}},1385:function(e,n,a){var t=a(9539);e.exports=function(e,n,a){for(var l=e.length-1;l>=0;l--)if(void 0!==e[l])try{a=t(e[l].iterator,n,a)}catch(i){n="throw",a=i}if("throw"===n)throw a;return a}},1526:function(e,n,a){var t=a(1114),l=a(4335);const i=window?.appGlobal?.baseUrl&&`${window.appGlobal.baseUrl}/api`,o=i||"http://192.168.88.50:5000/api";console.log("API Base URL:",o);class u{constructor(){(0,t.A)(this,"axiosInstance",void 0),this.axiosInstance=l.A.create({baseURL:o,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}get(e,n){return this.axiosInstance.get(e,n)}post(e,n,a){return this.axiosInstance.post(e,n,a)}put(e,n,a){return this.axiosInstance.put(e,n,a)}delete(e,n){return this.axiosInstance.delete(e,n)}patch(e,n,a){return this.axiosInstance.patch(e,n,a)}}n.A=new u},1701:function(e,n,a){var t=a(6518),l=a(9565),i=a(9306),o=a(8551),u=a(1767),r=a(9462),d=a(6319),_=a(9539),h=a(684),c=a(4549),s=a(6395),g=!s&&!h("map",function(){}),v=!s&&!g&&c("map",TypeError),p=s||g||v,m=r(function(){var e=this.iterator,n=o(l(this.next,e)),a=this.done=!!n.done;if(!a)return d(e,this.mapper,[n.value,this.counter++],!0)});t({target:"Iterator",proto:!0,real:!0,forced:p},{map:function(e){o(this);try{i(e)}catch(n){_(this,"throw",n)}return v?l(v,this,e):new m(u(this),{mapper:e})}})},2489:function(e,n,a){var t=a(6518),l=a(9565),i=a(9306),o=a(8551),u=a(1767),r=a(9462),d=a(6319),_=a(6395),h=a(9539),c=a(684),s=a(4549),g=!_&&!c("filter",function(){}),v=!_&&!g&&s("filter",TypeError),p=_||g||v,m=r(function(){var e,n,a,t=this.iterator,i=this.predicate,u=this.next;while(1){if(e=o(l(u,t)),n=this.done=!!e.done,n)return;if(a=e.value,d(t,i,[a,this.counter++],!0))return a}});t({target:"Iterator",proto:!0,real:!0,forced:p},{filter:function(e){o(this);try{i(e)}catch(n){h(this,"throw",n)}return v?l(v,this,e):new m(u(this),{predicate:e})}})},2529:function(e){e.exports=function(e,n){return{value:e,done:n}}},4114:function(e,n,a){var t=a(6518),l=a(8981),i=a(6198),o=a(4527),u=a(6837),r=a(9039),d=r(function(){return 4294967297!==[].push.call({length:4294967296},1)}),_=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=d||!_();t({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var n=l(this),a=i(n),t=arguments.length;u(a+t);for(var r=0;r<t;r++)n[a]=arguments[r],a++;return o(n,a),a}})},4376:function(e,n,a){var t=a(2195);e.exports=Array.isArray||function(e){return"Array"===t(e)}},4527:function(e,n,a){var t=a(3724),l=a(4376),i=TypeError,o=Object.getOwnPropertyDescriptor,u=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,n){if(l(e)&&!o(e,"length").writable)throw new i("Cannot set read only .length");return e.length=n}:function(e,n){return e.length=n}},6044:function(e,n,a){var t=a(1114),l=a(1526);class i{constructor(){(0,t.A)(this,"BASE_URL","/recruitment/vacancies")}async getAll(e){const n=await l.A.get(this.BASE_URL,{params:e});return n.data}async getById(e){const n=await l.A.get(`${this.BASE_URL}/${e}`);return n.data}async create(e){const n=await l.A.post(this.BASE_URL,e);return n.data}async update(e,n){const a=await l.A.put(`${this.BASE_URL}/${e}`,n);return a.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}}n.A=new i},6279:function(e,n,a){var t=a(6840);e.exports=function(e,n,a){for(var l in n)t(e,l,n[l],a);return e}},6319:function(e,n,a){var t=a(8551),l=a(9539);e.exports=function(e,n,a,i){try{return i?n(t(a)[0],a[1]):n(a)}catch(o){l(e,"throw",o)}}},6416:function(e,n,a){var t=a(1114),l=a(1526);class i{constructor(){(0,t.A)(this,"BASE_URL","/recruitment/candidates")}async getAll(e){const n=await l.A.get(this.BASE_URL,{params:e});return n.data}async getById(e){const n=await l.A.get(`${this.BASE_URL}/${e}`);return n.data}async create(e){const n=await l.A.post(this.BASE_URL,e);return n.data}async update(e,n){const a=await l.A.put(`${this.BASE_URL}/${e}`,n);return a.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}async importResume(e){const n=await l.A.post(`${this.BASE_URL}/import-resume`,e,{headers:{"Content-Type":"multipart/form-data"}});return n.data}async updatePipelineStage(e,n){const a=await l.A.post(`${this.BASE_URL}/${e}/pipeline`,n);return a.data}async searchPool(e){const n=await l.A.get(`${this.BASE_URL}/pool/search`,{params:e});return n.data}}n.A=new i},6604:function(e,n,a){var t=a(1114),l=a(1526);class i{constructor(){(0,t.A)(this,"BASE_URL","/nhanvien")}async getAll(e){const n=await l.A.get(this.BASE_URL,{params:e});return n.data}async getById(e){const n=await l.A.get(`${this.BASE_URL}/${e}`);return n.data}async create(e){const n=await l.A.post(this.BASE_URL,e);return n.data}async update(e,n){const a=await l.A.put(`${this.BASE_URL}/${e}`,n);return a.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}}n.A=new i},6837:function(e){var n=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw n("Maximum allowed index exceeded");return e}},7384:function(e,n,a){a.r(n),a.d(n,{default:function(){return O}});a(8111),a(2489);var t=a(1431),l=a(163),i=a(7918),o=a(8548),u=a(1114),r=a(1526);class d{constructor(){(0,u.A)(this,"BASE_URL","/recruitment/interviews")}async getAll(e){const n=await r.A.get(this.BASE_URL,{params:e});return n.data}async getById(e){const n=await r.A.get(`${this.BASE_URL}/${e}`);return n.data}async create(e){const n=await r.A.post(this.BASE_URL,e);return n.data}async update(e,n){const a=await r.A.put(`${this.BASE_URL}/${e}`,n);return a.data}async delete(e){await r.A.delete(`${this.BASE_URL}/${e}`)}async updateResult(e,n){const a=await r.A.put(`${this.BASE_URL}/${e}/result`,{ket_qua_phong_van:n});return a.data}async confirm(e){const n=await r.A.patch(`${this.BASE_URL}/${e}/confirm`);return n.data}async cancel(e,n){const a=await r.A.patch(`${this.BASE_URL}/${e}/cancel`,{ly_do:n});return a.data}async getSchedule(e){const n=await r.A.get(`${this.BASE_URL}/schedule`,{params:e});return n.data}}var _=new d,h=(a(4114),a(1701),a(6416)),c=a(6044),s=a(6604);const g={class:"interviewer-list"};var v=(0,t.pM)({__name:"InterviewFormDialog",props:{modelValue:{type:Boolean},interview:{default:null}},emits:["update:modelValue","success"],setup(e,{emit:n}){const a=e,i=n,u=(0,t.KR)(),r=(0,t.KR)(!1),d=(0,t.KR)(!1),v=(0,t.KR)(!1),p=(0,t.KR)(!1),m=(0,t.KR)([]),y=(0,t.KR)([]),k=(0,t.KR)([]),f=(0,t.Kh)({ung_vien_id:"",vi_tri_tuyen_dung_id:"",loai_phong_van:"",hinh_thuc:"Trực tiếp",ngay_gio_date:"",ngay_gio_time:"",dia_diem:"",link_phong_van:"",nguoi_phong_van:[],ghi_chu:""}),b=(0,t.Kh)({ung_vien_id:[{required:!0,message:"Vui lòng chọn ứng viên",trigger:"change"}],vi_tri_tuyen_dung_id:[{required:!0,message:"Vui lòng chọn vị trí tuyển dụng",trigger:"change"}],loai_phong_van:[{required:!0,message:"Vui lòng chọn loại phỏng vấn",trigger:"change"}],hinh_thuc:[{required:!0,message:"Vui lòng chọn hình thức",trigger:"change"}],ngay_gio_date:[{required:!0,message:"Vui lòng chọn ngày phỏng vấn",trigger:"change"}],ngay_gio_time:[{required:!0,message:"Vui lòng chọn giờ phỏng vấn",trigger:"change"}]}),w=(0,t.EW)(()=>!!a.interview),F=async e=>{if(e){d.value=!0;try{const n=await h.A.getAll({q:e,limit:50});m.value=n.items}catch(n){console.error("Error searching candidates:",n)}finally{d.value=!1}}},V=async e=>{if(e){v.value=!0;try{const n=await c.A.getAll({q:e,limit:50});y.value=n.items}catch(n){console.error("Error searching vacancies:",n)}finally{v.value=!1}}},R=async e=>{if(e){p.value=!0;try{const n=await s.A.getAll({q:e,limit:50});k.value=n.items}catch(n){console.error("Error searching employees:",n)}finally{p.value=!1}}},C=()=>{f.nguoi_phong_van.push({nhan_vien_id:"",vai_tro:""})},A=e=>{f.nguoi_phong_van.splice(e,1)},x=async()=>{if(u.value)try{await u.value.validate();const e=`${f.ngay_gio_date}T${f.ngay_gio_time}:00`,n={ung_vien_id:f.ung_vien_id,vi_tri_tuyen_dung_id:f.vi_tri_tuyen_dung_id,loai_phong_van:f.loai_phong_van,hinh_thuc:f.hinh_thuc,ngay_gio:e,dia_diem:f.dia_diem,link_phong_van:f.link_phong_van,nguoi_phong_van:f.nguoi_phong_van.filter(e=>e.nhan_vien_id),ghi_chu:f.ghi_chu};r.value=!0,w.value&&a.interview?(await _.update(a.interview._id,n),l.nk.success("Cập nhật lịch phỏng vấn thành công")):(await _.create(n),l.nk.success("Tạo lịch phỏng vấn thành công")),i("success"),L()}catch(e){e.response?.data?.msg&&l.nk.error(e.response.data.msg)}finally{r.value=!1}},L=()=>{u.value?.resetFields(),Object.assign(f,{ung_vien_id:"",vi_tri_tuyen_dung_id:"",loai_phong_van:"",hinh_thuc:"Trực tiếp",ngay_gio_date:"",ngay_gio_time:"",dia_diem:"",link_phong_van:"",nguoi_phong_van:[],ghi_chu:""}),i("update:modelValue",!1)};return(0,t.wB)(()=>a.interview,e=>{if(e){const n=new Date(e.ngay_gio),a=n.toISOString().split("T")[0],t=n.toTimeString().slice(0,5);Object.assign(f,{ung_vien_id:"object"===typeof e.ung_vien_id?e.ung_vien_id._id:e.ung_vien_id,vi_tri_tuyen_dung_id:"object"===typeof e.vi_tri_tuyen_dung_id?e.vi_tri_tuyen_dung_id._id:e.vi_tri_tuyen_dung_id,loai_phong_van:e.loai_phong_van,hinh_thuc:e.hinh_thuc||"Trực tiếp",ngay_gio_date:a,ngay_gio_time:t,dia_diem:e.dia_diem||"",link_phong_van:e.link_phong_van||"",nguoi_phong_van:e.nguoi_phong_van?e.nguoi_phong_van.map(e=>({nhan_vien_id:"object"===typeof e.nhan_vien_id?e.nhan_vien_id._id:e.nhan_vien_id,vai_tro:e.vai_tro||""})):[],ghi_chu:e.ghi_chu||""}),"object"===typeof e.ung_vien_id&&(m.value=[e.ung_vien_id]),"object"===typeof e.vi_tri_tuyen_dung_id&&(y.value=[e.vi_tri_tuyen_dung_id])}},{immediate:!0}),(n,a)=>{const l=(0,t.g2)("el-option"),i=(0,t.g2)("el-select"),_=(0,t.g2)("el-form-item"),h=(0,t.g2)("el-col"),c=(0,t.g2)("el-date-picker"),s=(0,t.g2)("el-time-picker"),W=(0,t.g2)("el-input"),q=(0,t.g2)("el-button"),U=(0,t.g2)("el-row"),E=(0,t.g2)("el-form"),S=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.Wv)(S,{"model-value":e.modelValue,title:w.value?"Cập nhật lịch phỏng vấn":"Tạo lịch phỏng vấn",width:"800px","close-on-click-modal":!1,"onUpdate:modelValue":a[9]||(a[9]=e=>n.$emit("update:modelValue",e)),onClose:L},{footer:(0,t.k6)(()=>[(0,t.bF)(q,{onClick:L},{default:(0,t.k6)(()=>[...a[11]||(a[11]=[(0,t.eW)("Hủy",-1)])]),_:1}),(0,t.bF)(q,{type:"primary",loading:r.value,onClick:x},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(w.value?"Cập nhật":"Tạo mới"),1)]),_:1},8,["loading"])]),default:(0,t.k6)(()=>[(0,t.bF)(E,{ref_key:"formRef",ref:u,model:f,rules:b,"label-width":"160px","label-position":"left"},{default:(0,t.k6)(()=>[(0,t.bF)(U,{gutter:20},{default:(0,t.k6)(()=>[(0,t.bF)(h,{span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Ứng viên",prop:"ung_vien_id"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{modelValue:f.ung_vien_id,"onUpdate:modelValue":a[0]||(a[0]=e=>f.ung_vien_id=e),filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn ứng viên","remote-method":F,loading:d.value,style:{width:"100%"}},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(m.value,e=>((0,t.uX)(),(0,t.Wv)(l,{key:e._id,label:`${e.ho_ten} (${e.email})`,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),_:1}),(0,t.bF)(h,{span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Vị trí tuyển dụng",prop:"vi_tri_tuyen_dung_id"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{modelValue:f.vi_tri_tuyen_dung_id,"onUpdate:modelValue":a[1]||(a[1]=e=>f.vi_tri_tuyen_dung_id=e),filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn vị trí tuyển dụng","remote-method":V,loading:v.value,style:{width:"100%"}},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(y.value,e=>((0,t.uX)(),(0,t.Wv)(l,{key:e._id,label:e.tieu_de,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),_:1}),(0,t.bF)(h,{span:12},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Loại phỏng vấn",prop:"loai_phong_van"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{modelValue:f.loai_phong_van,"onUpdate:modelValue":a[2]||(a[2]=e=>f.loai_phong_van=e),placeholder:"Chọn loại",style:{width:"100%"}},{default:(0,t.k6)(()=>[(0,t.bF)(l,{label:"Sơ tuyển",value:"Sơ tuyển"}),(0,t.bF)(l,{label:"Phỏng vấn chuyên môn",value:"Phỏng vấn chuyên môn"}),(0,t.bF)(l,{label:"Phỏng vấn quản lý",value:"Phỏng vấn quản lý"}),(0,t.bF)(l,{label:"Phỏng vấn cuối cùng",value:"Phỏng vấn cuối cùng"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,t.bF)(h,{span:12},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Hình thức",prop:"hinh_thuc"},{default:(0,t.k6)(()=>[(0,t.bF)(i,{modelValue:f.hinh_thuc,"onUpdate:modelValue":a[3]||(a[3]=e=>f.hinh_thuc=e),placeholder:"Chọn hình thức",style:{width:"100%"}},{default:(0,t.k6)(()=>[(0,t.bF)(l,{label:"Trực tiếp",value:"Trực tiếp"}),(0,t.bF)(l,{label:"Trực tuyến",value:"Trực tuyến"}),(0,t.bF)(l,{label:"Điện thoại",value:"Điện thoại"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,t.bF)(h,{span:12},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Ngày phỏng vấn",prop:"ngay_gio_date"},{default:(0,t.k6)(()=>[(0,t.bF)(c,{modelValue:f.ngay_gio_date,"onUpdate:modelValue":a[4]||(a[4]=e=>f.ngay_gio_date=e),type:"date",placeholder:"Chọn ngày",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,t.bF)(h,{span:12},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Giờ phỏng vấn",prop:"ngay_gio_time"},{default:(0,t.k6)(()=>[(0,t.bF)(s,{modelValue:f.ngay_gio_time,"onUpdate:modelValue":a[5]||(a[5]=e=>f.ngay_gio_time=e),placeholder:"Chọn giờ",format:"HH:mm","value-format":"HH:mm",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,t.bF)(h,{span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Địa điểm",prop:"dia_diem"},{default:(0,t.k6)(()=>[(0,t.bF)(W,{modelValue:f.dia_diem,"onUpdate:modelValue":a[6]||(a[6]=e=>f.dia_diem=e),placeholder:"Nhập địa điểm phỏng vấn",type:"textarea",rows:2},null,8,["modelValue"])]),_:1})]),_:1}),"Trực tuyến"===f.hinh_thuc?((0,t.uX)(),(0,t.Wv)(h,{key:0,span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Link phỏng vấn",prop:"link_phong_van"},{default:(0,t.k6)(()=>[(0,t.bF)(W,{modelValue:f.link_phong_van,"onUpdate:modelValue":a[7]||(a[7]=e=>f.link_phong_van=e),placeholder:"https://meet.google.com/xxx hoặc https://zoom.us/j/xxx",type:"url"},null,8,["modelValue"])]),_:1})]),_:1})):(0,t.Q3)("",!0),(0,t.bF)(h,{span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Người phỏng vấn",prop:"nguoi_phong_van"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",g,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(f.nguoi_phong_van,(e,n)=>((0,t.uX)(),(0,t.CE)("div",{key:n,class:"interviewer-item"},[(0,t.bF)(i,{modelValue:e.nhan_vien_id,"onUpdate:modelValue":n=>e.nhan_vien_id=n,filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn nhân viên","remote-method":R,loading:p.value,style:{flex:"1"}},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(k.value,e=>((0,t.uX)(),(0,t.Wv)(l,{key:e._id,label:`${e.ho_dem} ${e.ten}`,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","loading"]),(0,t.bF)(W,{modelValue:e.vai_tro,"onUpdate:modelValue":n=>e.vai_tro=n,placeholder:"Vai trò (VD: Interviewer, Technical Lead...)",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),(0,t.bF)(q,{type:"danger",icon:(0,t.R1)(o.Delete),circle:"",onClick:e=>A(n)},null,8,["icon","onClick"])]))),128)),(0,t.bF)(q,{type:"primary",icon:(0,t.R1)(o.Plus),plain:"",style:{width:"100%"},onClick:C},{default:(0,t.k6)(()=>[...a[10]||(a[10]=[(0,t.eW)(" Thêm người phỏng vấn ",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1}),(0,t.bF)(h,{span:24},{default:(0,t.k6)(()=>[(0,t.bF)(_,{label:"Ghi chú",prop:"ghi_chu"},{default:(0,t.k6)(()=>[(0,t.bF)(W,{modelValue:f.ghi_chu,"onUpdate:modelValue":a[8]||(a[8]=e=>f.ghi_chu=e),type:"textarea",rows:3,placeholder:"Nhập ghi chú cho lịch phỏng vấn..."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value","title"])}}}),p=a(6262);const m=(0,p.A)(v,[["__scopeId","data-v-40ca16c6"]]);var y=m;a(116);const k={key:0,class:"interview-result-form"},f={class:"rating-container"},b={class:"tags-input-container"},w={class:"tags-input-container"},F={class:"opinion-header"};var V=(0,t.pM)({__name:"InterviewResultDialog",props:{modelValue:{type:Boolean},interview:{default:null}},emits:["update:modelValue","success"],setup(e,{emit:n}){const a=e,i=n,u=(0,t.KR)(),r=(0,t.KR)(!1),d=(0,t.KR)(),h=(0,t.KR)(),c=(0,t.KR)(!1),g=(0,t.KR)(!1),v=(0,t.KR)(""),p=(0,t.KR)(""),m=(0,t.KR)([]),y=(0,t.Kh)({danh_gia_tong_quan:"",diem_so:0,diem_manh:[],diem_yeu:[],quyet_dinh:"Chưa quyết định",y_kien_nguoi_phong_van:[]}),V=(0,t.Kh)({quyet_dinh:[{required:!0,message:"Vui lòng chọn quyết định",trigger:"change"}]}),R=()=>{c.value=!0,(0,t.dY)(()=>{d.value?.focus()})},C=()=>{v.value&&y.diem_manh.push(v.value),c.value=!1,v.value=""},A=e=>{y.diem_manh.splice(e,1)},x=()=>{g.value=!0,(0,t.dY)(()=>{h.value?.focus()})},L=()=>{p.value&&y.diem_yeu.push(p.value),g.value=!1,p.value=""},W=e=>{y.diem_yeu.splice(e,1)},q=()=>{y.y_kien_nguoi_phong_van.push({nhan_vien_id:"",y_kien:"",diem:0})},U=e=>{y.y_kien_nguoi_phong_van.splice(e,1)},E=async()=>{if(u.value&&a.interview)try{await u.value.validate();const e={danh_gia_tong_quan:y.danh_gia_tong_quan,diem_so:y.diem_so,diem_manh:y.diem_manh,diem_yeu:y.diem_yeu,quyet_dinh:y.quyet_dinh,y_kien_nguoi_phong_van:y.y_kien_nguoi_phong_van.filter(e=>e.nhan_vien_id)};r.value=!0,await _.updateResult(a.interview._id,e),l.nk.success("Lưu kết quả phỏng vấn thành công"),i("success"),S()}catch(e){e.response?.data?.msg&&l.nk.error(e.response.data.msg)}finally{r.value=!1}},S=()=>{u.value?.resetFields(),Object.assign(y,{danh_gia_tong_quan:"",diem_so:0,diem_manh:[],diem_yeu:[],quyet_dinh:"Chưa quyết định",y_kien_nguoi_phong_van:[]}),i("update:modelValue",!1)},T=e=>"object"===typeof e&&e?e.ho_ten:"-",K=e=>"object"===typeof e&&e?e.tieu_de:"-",X=e=>{const n=m.value.find(n=>n._id===e);return n?`${n.ho_dem} ${n.ten}`:"Chọn người phỏng vấn"},$=e=>{const n=new Date(e);return n.toLocaleString("vi-VN")};return(0,t.wB)(()=>a.interview,async e=>{if(e){e.ket_qua_phong_van?Object.assign(y,{danh_gia_tong_quan:e.ket_qua_phong_van.danh_gia_tong_quan||"",diem_so:e.ket_qua_phong_van.diem_so||0,diem_manh:e.ket_qua_phong_van.diem_manh||[],diem_yeu:e.ket_qua_phong_van.diem_yeu||[],quyet_dinh:e.ket_qua_phong_van.quyet_dinh||"Chưa quyết định",y_kien_nguoi_phong_van:e.ket_qua_phong_van.y_kien_nguoi_phong_van?.map(e=>({nhan_vien_id:"object"===typeof e.nhan_vien_id?e.nhan_vien_id._id:e.nhan_vien_id,y_kien:e.y_kien||"",diem:e.diem||0}))||[]}):e.nguoi_phong_van&&e.nguoi_phong_van.length>0&&(y.y_kien_nguoi_phong_van=e.nguoi_phong_van.map(e=>({nhan_vien_id:"object"===typeof e.nhan_vien_id?e.nhan_vien_id._id:e.nhan_vien_id,y_kien:"",diem:0})));try{const e=await s.A.getAll({limit:1e3});m.value=e.items}catch(n){console.error("Error loading employees:",n)}}},{immediate:!0}),(n,a)=>{const l=(0,t.g2)("el-descriptions-item"),i=(0,t.g2)("el-descriptions"),_=(0,t.g2)("el-card"),s=(0,t.g2)("el-icon"),m=(0,t.g2)("el-radio-button"),I=(0,t.g2)("el-radio-group"),B=(0,t.g2)("el-form-item"),D=(0,t.g2)("el-rate"),P=(0,t.g2)("el-input"),j=(0,t.g2)("el-tag"),H=(0,t.g2)("el-button"),Y=(0,t.g2)("el-divider"),z=(0,t.g2)("el-form"),Q=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.Wv)(Q,{"model-value":e.modelValue,title:"Nhập kết quả phỏng vấn",width:"900px","close-on-click-modal":!1,"onUpdate:modelValue":a[5]||(a[5]=e=>n.$emit("update:modelValue",e)),onClose:S},{footer:(0,t.k6)(()=>[(0,t.bF)(H,{onClick:S},{default:(0,t.k6)(()=>[...a[14]||(a[14]=[(0,t.eW)("Hủy",-1)])]),_:1}),(0,t.bF)(H,{type:"primary",loading:r.value,onClick:E},{default:(0,t.k6)(()=>[...a[15]||(a[15]=[(0,t.eW)(" Lưu kết quả ",-1)])]),_:1},8,["loading"])]),default:(0,t.k6)(()=>[e.interview?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(_,{class:"info-card",shadow:"never"},{header:(0,t.k6)(()=>[...a[6]||(a[6]=[(0,t.Lk)("div",{class:"card-header"},[(0,t.Lk)("span",null,"Thông tin phỏng vấn")],-1)])]),default:(0,t.k6)(()=>[(0,t.bF)(i,{column:2,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(l,{label:"Ứng viên"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(T(e.interview.ung_vien_id)),1)]),_:1}),(0,t.bF)(l,{label:"Vị trí"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(K(e.interview.vi_tri_tuyen_dung_id)),1)]),_:1}),(0,t.bF)(l,{label:"Loại phỏng vấn"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e.interview.loai_phong_van),1)]),_:1}),(0,t.bF)(l,{label:"Ngày giờ"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)($(e.interview.ngay_gio)),1)]),_:1})]),_:1})]),_:1}),(0,t.bF)(z,{ref_key:"formRef",ref:u,model:y,rules:V,"label-width":"180px","label-position":"left",style:{"margin-top":"20px"}},{default:(0,t.k6)(()=>[(0,t.bF)(B,{label:"Quyết định",prop:"quyet_dinh"},{default:(0,t.k6)(()=>[(0,t.bF)(I,{modelValue:y.quyet_dinh,"onUpdate:modelValue":a[0]||(a[0]=e=>y.quyet_dinh=e),size:"large"},{default:(0,t.k6)(()=>[(0,t.bF)(m,{value:"Đậu"},{default:(0,t.k6)(()=>[(0,t.bF)(s,{color:"#67c23a"},{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.CircleCheck))]),_:1}),a[7]||(a[7]=(0,t.eW)(" Đậu ",-1))]),_:1}),(0,t.bF)(m,{value:"Trượt"},{default:(0,t.k6)(()=>[(0,t.bF)(s,{color:"#f56c6c"},{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.CircleClose))]),_:1}),a[8]||(a[8]=(0,t.eW)(" Trượt ",-1))]),_:1}),(0,t.bF)(m,{value:"Chưa quyết định"},{default:(0,t.k6)(()=>[(0,t.bF)(s,{color:"#e6a23c"},{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Warning))]),_:1}),a[9]||(a[9]=(0,t.eW)(" Chưa quyết định ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(B,{label:"Điểm số",prop:"diem_so"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",f,[(0,t.bF)(D,{modelValue:y.diem_so,"onUpdate:modelValue":a[1]||(a[1]=e=>y.diem_so=e),max:10,"show-score":"","score-template":"{value} điểm",size:"large"},null,8,["modelValue"])])]),_:1}),(0,t.bF)(B,{label:"Đánh giá tổng quan",prop:"danh_gia_tong_quan"},{default:(0,t.k6)(()=>[(0,t.bF)(P,{modelValue:y.danh_gia_tong_quan,"onUpdate:modelValue":a[2]||(a[2]=e=>y.danh_gia_tong_quan=e),type:"textarea",rows:4,placeholder:"Nhập đánh giá tổng quan về ứng viên..."},null,8,["modelValue"])]),_:1}),(0,t.bF)(B,{label:"Điểm mạnh",prop:"diem_manh"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",b,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(y.diem_manh,(e,n)=>((0,t.uX)(),(0,t.Wv)(j,{key:n,closable:"",type:"success",class:"tag-item",onClose:e=>A(n)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1032,["onClose"]))),128)),c.value?((0,t.uX)(),(0,t.Wv)(P,{key:0,ref_key:"inputStrengthRef",ref:d,modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value=e),class:"tag-input",size:"small",onKeyup:(0,t.jR)(C,["enter"]),onBlur:C},null,8,["modelValue"])):((0,t.uX)(),(0,t.Wv)(H,{key:1,class:"button-new-tag",size:"small",icon:(0,t.R1)(o.Plus),onClick:R},{default:(0,t.k6)(()=>[...a[10]||(a[10]=[(0,t.eW)(" Thêm điểm mạnh ",-1)])]),_:1},8,["icon"]))])]),_:1}),(0,t.bF)(B,{label:"Điểm yếu",prop:"diem_yeu"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(y.diem_yeu,(e,n)=>((0,t.uX)(),(0,t.Wv)(j,{key:n,closable:"",type:"warning",class:"tag-item",onClose:e=>W(n)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1032,["onClose"]))),128)),g.value?((0,t.uX)(),(0,t.Wv)(P,{key:0,ref_key:"inputWeaknessRef",ref:h,modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=e=>p.value=e),class:"tag-input",size:"small",onKeyup:(0,t.jR)(L,["enter"]),onBlur:L},null,8,["modelValue"])):((0,t.uX)(),(0,t.Wv)(H,{key:1,class:"button-new-tag",size:"small",icon:(0,t.R1)(o.Plus),onClick:x},{default:(0,t.k6)(()=>[...a[11]||(a[11]=[(0,t.eW)(" Thêm điểm yếu ",-1)])]),_:1},8,["icon"]))])]),_:1}),(0,t.bF)(Y,{"content-position":"left"},{default:(0,t.k6)(()=>[...a[12]||(a[12]=[(0,t.eW)("Ý kiến từng người phỏng vấn",-1)])]),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(y.y_kien_nguoi_phong_van,(e,n)=>((0,t.uX)(),(0,t.CE)("div",{key:n,class:"opinion-item"},[(0,t.bF)(_,{shadow:"never",class:"opinion-card"},{header:(0,t.k6)(()=>[(0,t.Lk)("div",F,[(0,t.Lk)("span",null,[(0,t.bF)(s,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.User))]),_:1}),(0,t.eW)(" "+(0,t.v_)(X(e.nhan_vien_id)),1)]),(0,t.bF)(H,{type:"danger",size:"small",icon:(0,t.R1)(o.Delete),circle:"",onClick:e=>U(n)},null,8,["icon","onClick"])])]),default:(0,t.k6)(()=>[(0,t.bF)(B,{label:"Điểm đánh giá","label-width":120},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:e.diem,"onUpdate:modelValue":n=>e.diem=n,max:10,"show-score":"","score-template":"{value} điểm"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(0,t.bF)(B,{label:"Ý kiến","label-width":120},{default:(0,t.k6)(()=>[(0,t.bF)(P,{modelValue:e.y_kien,"onUpdate:modelValue":n=>e.y_kien=n,type:"textarea",rows:3,placeholder:"Nhập ý kiến đánh giá..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128)),(0,t.bF)(H,{type:"primary",plain:"",icon:(0,t.R1)(o.Plus),style:{width:"100%","margin-top":"10px"},onClick:q},{default:(0,t.k6)(()=>[...a[13]||(a[13]=[(0,t.eW)(" Thêm ý kiến người phỏng vấn ",-1)])]),_:1},8,["icon"])]),_:1},8,["model","rules"])])):(0,t.Q3)("",!0)]),_:1},8,["model-value"])}}});const R=(0,p.A)(V,[["__scopeId","data-v-17163d59"]]);var C=R;const A={class:"orangehrm-interview-page"},x={class:"orangehrm-page-header"},L={class:"orangehrm-page-actions"},W={class:"calendar-day"},q={class:"calendar-day-number"},U={key:0,class:"calendar-day-interviews"},E=["onClick"],S={class:"interview-time"},T={class:"interview-candidate"},K={key:0,class:"more-interviews"},X={class:"interview-candidate-info"},$={class:"candidate-email"},I={class:"interview-datetime"},B={key:0,class:"interview-details"},D={class:"detail-section"},P={class:"detail-section"},j={key:0,class:"detail-section"},H={key:1,class:"detail-section"},Y={key:0},z={key:0},Q={key:2,class:"detail-section"};var M=(0,t.pM)({__name:"InterviewList",setup(e){const n=(0,t.KR)(!1),a=(0,t.KR)(""),u=(0,t.KR)([]),r=(0,t.KR)("list"),d=(0,t.KR)(new Date),h=(0,t.Kh)({page:1,limit:20,total:0}),c=(0,t.Kh)({q:"",trang_thai:"",loai_phong_van:"",tu_ngay:"",den_ngay:""}),s=(0,t.KR)(!1),g=(0,t.KR)(!1),v=(0,t.KR)(!1),p=(0,t.KR)(null),m=(0,t.KR)(null),k=(0,t.KR)(null),f=async()=>{n.value=!0,a.value="";try{const e={page:h.page,limit:h.limit,...c},n=await _.getAll(e);u.value=n.data,h.total=n.pagination?.total}catch(e){a.value=e.response?.data?.msg||"Không thể tải dữ liệu",l.nk.error(a.value)}finally{n.value=!1}},b=()=>{h.page=1,f()},w=e=>{h.limit=e,f()},F=e=>{h.page=e,f()},V=()=>{if("calendar"===r.value){const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);c.tu_ngay=n.toISOString().split("T")[0],c.den_ngay=a.toISOString().split("T")[0],h.limit=1e3,f()}else c.tu_ngay="",c.den_ngay="",h.limit=20,f()},R=e=>u.value.filter(n=>{const a=new Date(n.ngay_gio).toISOString().split("T")[0];return a===e}),M=e=>{p.value=e,s.value=!0},N=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa lịch phỏng vấn này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"}),await _.delete(e._id),l.nk.success("Xóa lịch phỏng vấn thành công"),f()}catch(n){"cancel"!==n&&l.nk.error(n.response?.data?.msg||"Không thể xóa lịch phỏng vấn")}},O=async e=>{try{await _.confirm(e._id),l.nk.success("Xác nhận lịch phỏng vấn thành công"),f()}catch(n){l.nk.error(n.response?.data?.msg||"Không thể xác nhận lịch phỏng vấn")}},G=async e=>{try{const{value:n}=await i.s.prompt("Vui lòng nhập lý do hủy lịch phỏng vấn","Hủy lịch phỏng vấn",{confirmButtonText:"Xác nhận",cancelButtonText:"Hủy",inputPlaceholder:"Lý do hủy..."});await _.cancel(e._id,n),l.nk.success("Hủy lịch phỏng vấn thành công"),f()}catch(n){"cancel"!==n&&l.nk.error(n.response?.data?.msg||"Không thể hủy lịch phỏng vấn")}},J=e=>{m.value=e,g.value=!0},Z=async e=>{try{const n=await _.getById(e._id);k.value=n,v.value=!0}catch(n){l.nk.error(n.response?.data?.msg||"Không thể tải thông tin lịch phỏng vấn")}},ee=()=>{s.value=!1,p.value=null,f()},ne=()=>{g.value=!1,m.value=null,f()},ae=e=>"Đã hoàn thành"!==e.trang_thai&&"Đã hủy"!==e.trang_thai,te=e=>!0,le=e=>"object"===typeof e&&e?e.ho_ten:"-",ie=e=>"object"===typeof e&&e?e.email:"-",oe=e=>"object"===typeof e&&e&&e.dien_thoai||"-",ue=e=>"object"===typeof e&&e?e.tieu_de:"-",re=e=>"object"===typeof e&&e?`${e.ho_dem} ${e.ten}`:"-",de=e=>{const n=new Date(e);return n.toLocaleDateString("vi-VN")},_e=e=>{const n=new Date(e);return n.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})},he=e=>`${de(e)} ${_e(e)}`,ce=e=>{const n={"Đã lên lịch":"info","Đang chờ xác nhận":"warning","Đã xác nhận":"primary","Đã hoàn thành":"success","Đã hủy":"danger","Ứng viên vắng mặt":"danger"};return n[e]||"info"},se=e=>{const n={"Sơ tuyển":"","Phỏng vấn chuyên môn":"primary","Phỏng vấn quản lý":"warning","Phỏng vấn cuối cùng":"danger"};return n[e]||""},ge=e=>{const n={"Trực tiếp":"success","Trực tuyến":"primary","Điện thoại":"warning"};return n[e||""]||""},ve=e=>`status-${e.toLowerCase().replace(/\s+/g,"-")}`;return(0,t.sV)(()=>{f()}),(e,l)=>{const i=(0,t.g2)("el-button"),_=(0,t.g2)("el-icon"),pe=(0,t.g2)("el-radio-button"),me=(0,t.g2)("el-radio-group"),ye=(0,t.g2)("el-card"),ke=(0,t.g2)("el-input"),fe=(0,t.g2)("el-form-item"),be=(0,t.g2)("el-option"),we=(0,t.g2)("el-select"),Fe=(0,t.g2)("el-date-picker"),Ve=(0,t.g2)("el-form"),Re=(0,t.g2)("el-calendar"),Ce=(0,t.g2)("el-table-column"),Ae=(0,t.g2)("el-tag"),xe=(0,t.g2)("el-dropdown-item"),Le=(0,t.g2)("el-dropdown-menu"),We=(0,t.g2)("el-dropdown"),qe=(0,t.g2)("el-table"),Ue=(0,t.g2)("el-pagination"),Ee=(0,t.g2)("el-descriptions-item"),Se=(0,t.g2)("el-descriptions"),Te=(0,t.g2)("el-link"),Ke=(0,t.g2)("el-rate"),Xe=(0,t.g2)("el-dialog"),$e=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",A,[(0,t.Lk)("div",x,[l[16]||(l[16]=(0,t.Lk)("h1",{class:"orangehrm-page-title"},"Quản lý lịch phỏng vấn",-1)),(0,t.Lk)("div",L,[(0,t.bF)(i,{icon:(0,t.R1)(o.Refresh),onClick:f},{default:(0,t.k6)(()=>[...l[14]||(l[14]=[(0,t.eW)("Tải lại",-1)])]),_:1},8,["icon"]),(0,t.bF)(i,{type:"primary",icon:(0,t.R1)(o.Plus),onClick:l[0]||(l[0]=e=>s.value=!0)},{default:(0,t.k6)(()=>[...l[15]||(l[15]=[(0,t.eW)(" Tạo lịch phỏng vấn ",-1)])]),_:1},8,["icon"])])]),(0,t.bF)(ye,{class:"orangehrm-view-toggle-card",shadow:"never"},{default:(0,t.k6)(()=>[(0,t.bF)(me,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),onChange:V},{default:(0,t.k6)(()=>[(0,t.bF)(pe,{value:"list"},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.List))]),_:1}),l[17]||(l[17]=(0,t.eW)(" Danh sách ",-1))]),_:1}),(0,t.bF)(pe,{value:"calendar"},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Calendar))]),_:1}),l[18]||(l[18]=(0,t.eW)(" Lịch ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(ye,{class:"orangehrm-filter-card",shadow:"never"},{default:(0,t.k6)(()=>[(0,t.bF)(Ve,{inline:!0,onSubmit:(0,t.D$)(f,["prevent"])},{default:(0,t.k6)(()=>[(0,t.bF)(fe,{label:"Tìm kiếm"},{default:(0,t.k6)(()=>[(0,t.bF)(ke,{modelValue:c.q,"onUpdate:modelValue":l[2]||(l[2]=e=>c.q=e),placeholder:"Tìm theo ứng viên, vị trí...",clearable:"",style:{width:"300px"},onKeyup:(0,t.jR)(b,["enter"]),onClear:b},{prefix:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Search))]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(fe,{label:"Trạng thái"},{default:(0,t.k6)(()=>[(0,t.bF)(we,{modelValue:c.trang_thai,"onUpdate:modelValue":l[3]||(l[3]=e=>c.trang_thai=e),placeholder:"Tất cả",clearable:"",style:{width:"180px"},onChange:b},{default:(0,t.k6)(()=>[(0,t.bF)(be,{label:"Đã lên lịch",value:"Đã lên lịch"}),(0,t.bF)(be,{label:"Đang chờ xác nhận",value:"Đang chờ xác nhận"}),(0,t.bF)(be,{label:"Đã xác nhận",value:"Đã xác nhận"}),(0,t.bF)(be,{label:"Đã hoàn thành",value:"Đã hoàn thành"}),(0,t.bF)(be,{label:"Đã hủy",value:"Đã hủy"}),(0,t.bF)(be,{label:"Ứng viên vắng mặt",value:"Ứng viên vắng mặt"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(fe,{label:"Loại phỏng vấn"},{default:(0,t.k6)(()=>[(0,t.bF)(we,{modelValue:c.loai_phong_van,"onUpdate:modelValue":l[4]||(l[4]=e=>c.loai_phong_van=e),placeholder:"Tất cả",clearable:"",style:{width:"200px"},onChange:b},{default:(0,t.k6)(()=>[(0,t.bF)(be,{label:"Sơ tuyển",value:"Sơ tuyển"}),(0,t.bF)(be,{label:"Phỏng vấn chuyên môn",value:"Phỏng vấn chuyên môn"}),(0,t.bF)(be,{label:"Phỏng vấn quản lý",value:"Phỏng vấn quản lý"}),(0,t.bF)(be,{label:"Phỏng vấn cuối cùng",value:"Phỏng vấn cuối cùng"})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(fe,{label:"Từ ngày"},{default:(0,t.k6)(()=>[(0,t.bF)(Fe,{modelValue:c.tu_ngay,"onUpdate:modelValue":l[5]||(l[5]=e=>c.tu_ngay=e),type:"date",placeholder:"Chọn ngày",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"150px"},onChange:b},null,8,["modelValue"])]),_:1}),(0,t.bF)(fe,{label:"Đến ngày"},{default:(0,t.k6)(()=>[(0,t.bF)(Fe,{modelValue:c.den_ngay,"onUpdate:modelValue":l[6]||(l[6]=e=>c.den_ngay=e),type:"date",placeholder:"Chọn ngày",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"150px"},onChange:b},null,8,["modelValue"])]),_:1}),(0,t.bF)(fe,null,{default:(0,t.k6)(()=>[(0,t.bF)(i,{type:"primary",icon:(0,t.R1)(o.Search),onClick:b},{default:(0,t.k6)(()=>[...l[19]||(l[19]=[(0,t.eW)(" Tìm kiếm ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1}),"calendar"===r.value?((0,t.uX)(),(0,t.Wv)(ye,{key:0,class:"orangehrm-calendar-card",shadow:"never"},{default:(0,t.k6)(()=>[(0,t.bF)(Re,{modelValue:d.value,"onUpdate:modelValue":l[7]||(l[7]=e=>d.value=e)},{"date-cell":(0,t.k6)(({data:e})=>[(0,t.Lk)("div",W,[(0,t.Lk)("div",q,(0,t.v_)(e.day.split("-").slice(-1)[0]),1),R(e.day).length>0?((0,t.uX)(),(0,t.CE)("div",U,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(R(e.day).slice(0,3),e=>((0,t.uX)(),(0,t.CE)("div",{key:e._id,class:(0,t.C4)(["interview-item",ve(e.trang_thai)]),onClick:n=>Z(e)},[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.User))]),_:1}),(0,t.Lk)("span",S,(0,t.v_)(_e(e.ngay_gio)),1),(0,t.Lk)("span",T,(0,t.v_)(le(e.ung_vien_id)),1)],10,E))),128)),R(e.day).length>3?((0,t.uX)(),(0,t.CE)("div",K," +"+(0,t.v_)(R(e.day).length-3)+" lịch khác ",1)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)])]),_:1},8,["modelValue"])]),_:1})):((0,t.uX)(),(0,t.Wv)(ye,{key:1,class:"orangehrm-table-card",shadow:"never"},{default:(0,t.k6)(()=>[(0,t.bo)(((0,t.uX)(),(0,t.Wv)(qe,{data:u.value,style:{width:"100%"},stripe:"","empty-text":a.value||"Không có dữ liệu"},{default:(0,t.k6)(()=>[(0,t.bF)(Ce,{type:"index",label:"STT",width:"60"}),(0,t.bF)(Ce,{label:"Ứng viên","min-width":"180"},{default:(0,t.k6)(({row:e})=>[(0,t.Lk)("div",X,[(0,t.Lk)("strong",null,(0,t.v_)(le(e.ung_vien_id)),1),(0,t.Lk)("div",$,(0,t.v_)(ie(e.ung_vien_id)),1)])]),_:1}),(0,t.bF)(Ce,{label:"Vị trí tuyển dụng","min-width":"200"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,t.v_)(ue(e.vi_tri_tuyen_dung_id)),1)]),_:1}),(0,t.bF)(Ce,{label:"Loại phỏng vấn",width:"180"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(Ae,{type:se(e.loai_phong_van)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e.loai_phong_van),1)]),_:2},1032,["type"])]),_:1}),(0,t.bF)(Ce,{label:"Ngày giờ",width:"160"},{default:(0,t.k6)(({row:e})=>[(0,t.Lk)("div",I,[(0,t.Lk)("div",null,[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Calendar))]),_:1}),(0,t.eW)(" "+(0,t.v_)(de(e.ngay_gio)),1)]),(0,t.Lk)("div",null,[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Clock))]),_:1}),(0,t.eW)(" "+(0,t.v_)(_e(e.ngay_gio)),1)])])]),_:1}),(0,t.bF)(Ce,{label:"Hình thức",width:"120"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(Ae,{type:ge(e.hinh_thuc),size:"small"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e.hinh_thuc),1)]),_:2},1032,["type"])]),_:1}),(0,t.bF)(Ce,{label:"Trạng thái",width:"150"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(Ae,{type:ce(e.trang_thai),size:"small"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e.trang_thai),1)]),_:2},1032,["type"])]),_:1}),(0,t.bF)(Ce,{label:"Thao tác",width:"220",fixed:"right"},{default:(0,t.k6)(({row:e})=>[(0,t.bF)(i,{link:"",type:"primary",size:"small",icon:(0,t.R1)(o.View),onClick:n=>Z(e)},{default:(0,t.k6)(()=>[...l[20]||(l[20]=[(0,t.eW)(" Xem ",-1)])]),_:1},8,["icon","onClick"]),ae(e)?((0,t.uX)(),(0,t.Wv)(i,{key:0,link:"",type:"primary",size:"small",icon:(0,t.R1)(o.Edit),onClick:n=>M(e)},{default:(0,t.k6)(()=>[...l[21]||(l[21]=[(0,t.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"])):(0,t.Q3)("",!0),te(e)?((0,t.uX)(),(0,t.Wv)(We,{key:1},{dropdown:(0,t.k6)(()=>[(0,t.bF)(Le,null,{default:(0,t.k6)(()=>["Đã lên lịch"===e.trang_thai||"Đang chờ xác nhận"===e.trang_thai?((0,t.uX)(),(0,t.Wv)(xe,{key:0,onClick:n=>O(e)},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Check))]),_:1}),l[23]||(l[23]=(0,t.eW)(" Xác nhận ",-1))]),_:1},8,["onClick"])):(0,t.Q3)("",!0),"Đã xác nhận"===e.trang_thai?((0,t.uX)(),(0,t.Wv)(xe,{key:1,onClick:n=>J(e)},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Edit))]),_:1}),l[24]||(l[24]=(0,t.eW)(" Nhập kết quả ",-1))]),_:1},8,["onClick"])):(0,t.Q3)("",!0),"Đã hủy"!==e.trang_thai&&"Đã hoàn thành"!==e.trang_thai?((0,t.uX)(),(0,t.Wv)(xe,{key:2,onClick:n=>G(e)},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Close))]),_:1}),l[25]||(l[25]=(0,t.eW)(" Hủy lịch ",-1))]),_:1},8,["onClick"])):(0,t.Q3)("",!0),(0,t.bF)(xe,{divided:"",onClick:n=>N(e)},{default:(0,t.k6)(()=>[(0,t.bF)(_,null,{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.Delete))]),_:1}),l[26]||(l[26]=(0,t.eW)(" Xóa ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),default:(0,t.k6)(()=>[(0,t.bF)(i,{link:"",type:"primary",size:"small"},{default:(0,t.k6)(()=>[l[22]||(l[22]=(0,t.eW)(" Hành động ",-1)),(0,t.bF)(_,{class:"el-icon--right"},{default:(0,t.k6)(()=>[(0,t.bF)((0,t.R1)(o.ArrowDown))]),_:1})]),_:1})]),_:2},1024)):(0,t.Q3)("",!0)]),_:1})]),_:1},8,["data","empty-text"])),[[$e,n.value]]),(0,t.bF)(Ue,{"current-page":h.page,"onUpdate:currentPage":l[8]||(l[8]=e=>h.page=e),"page-size":h.limit,"onUpdate:pageSize":l[9]||(l[9]=e=>h.limit=e),"page-sizes":[10,20,50,100],total:h.total,layout:"total, sizes, prev, pager, next, jumper",class:"orangehrm-pagination",onSizeChange:w,onCurrentChange:F},null,8,["current-page","page-size","total"])]),_:1})),(0,t.bF)(y,{modelValue:s.value,"onUpdate:modelValue":l[10]||(l[10]=e=>s.value=e),interview:p.value,onSuccess:ee},null,8,["modelValue","interview"]),(0,t.bF)(C,{modelValue:g.value,"onUpdate:modelValue":l[11]||(l[11]=e=>g.value=e),interview:m.value,onSuccess:ne},null,8,["modelValue","interview"]),(0,t.bF)(Xe,{modelValue:v.value,"onUpdate:modelValue":l[13]||(l[13]=e=>v.value=e),title:"Chi tiết lịch phỏng vấn",width:"800px",class:"interview-view-dialog"},{default:(0,t.k6)(()=>[k.value?((0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("div",D,[l[27]||(l[27]=(0,t.Lk)("h3",null,"Thông tin ứng viên",-1)),(0,t.bF)(Se,{column:2,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(Ee,{label:"Họ tên"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(le(k.value.ung_vien_id)),1)]),_:1}),(0,t.bF)(Ee,{label:"Email"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(ie(k.value.ung_vien_id)),1)]),_:1}),(0,t.bF)(Ee,{label:"Điện thoại"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(oe(k.value.ung_vien_id)),1)]),_:1}),(0,t.bF)(Ee,{label:"Vị trí ứng tuyển"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(ue(k.value.vi_tri_tuyen_dung_id)),1)]),_:1})]),_:1})]),(0,t.Lk)("div",P,[l[28]||(l[28]=(0,t.Lk)("h3",null,"Thông tin phỏng vấn",-1)),(0,t.bF)(Se,{column:2,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(Ee,{label:"Loại phỏng vấn"},{default:(0,t.k6)(()=>[(0,t.bF)(Ae,{type:se(k.value.loai_phong_van)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.loai_phong_van),1)]),_:1},8,["type"])]),_:1}),(0,t.bF)(Ee,{label:"Hình thức"},{default:(0,t.k6)(()=>[(0,t.bF)(Ae,{type:ge(k.value.hinh_thuc)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.hinh_thuc),1)]),_:1},8,["type"])]),_:1}),(0,t.bF)(Ee,{label:"Ngày giờ"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(he(k.value.ngay_gio)),1)]),_:1}),(0,t.bF)(Ee,{label:"Trạng thái"},{default:(0,t.k6)(()=>[(0,t.bF)(Ae,{type:ce(k.value.trang_thai)},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.trang_thai),1)]),_:1},8,["type"])]),_:1}),(0,t.bF)(Ee,{label:"Địa điểm",span:2},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.dia_diem||"-"),1)]),_:1}),k.value.link_phong_van?((0,t.uX)(),(0,t.Wv)(Ee,{key:0,label:"Link phỏng vấn",span:2},{default:(0,t.k6)(()=>[(0,t.bF)(Te,{href:k.value.link_phong_van,target:"_blank",type:"primary"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.link_phong_van),1)]),_:1},8,["href"])]),_:1})):(0,t.Q3)("",!0)]),_:1})]),k.value.nguoi_phong_van?.length?((0,t.uX)(),(0,t.CE)("div",j,[l[29]||(l[29]=(0,t.Lk)("h3",null,"Người phỏng vấn",-1)),(0,t.bF)(qe,{data:k.value.nguoi_phong_van,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(Ce,{label:"Họ tên",prop:"nhan_vien_id"},{default:(0,t.k6)(({row:e})=>[(0,t.eW)((0,t.v_)(re(e.nhan_vien_id)),1)]),_:1}),(0,t.bF)(Ce,{label:"Vai trò",prop:"vai_tro"})]),_:1},8,["data"])])):(0,t.Q3)("",!0),k.value.ket_qua_phong_van?.quyet_dinh?((0,t.uX)(),(0,t.CE)("div",H,[l[30]||(l[30]=(0,t.Lk)("h3",null,"Kết quả phỏng vấn",-1)),(0,t.bF)(Se,{column:2,border:""},{default:(0,t.k6)(()=>[(0,t.bF)(Ee,{label:"Quyết định"},{default:(0,t.k6)(()=>[(0,t.bF)(Ae,{type:"Đậu"===k.value.ket_qua_phong_van.quyet_dinh?"success":"Trượt"===k.value.ket_qua_phong_van.quyet_dinh?"danger":"warning"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.ket_qua_phong_van.quyet_dinh),1)]),_:1},8,["type"])]),_:1}),(0,t.bF)(Ee,{label:"Điểm số"},{default:(0,t.k6)(()=>[(0,t.bF)(Ke,{modelValue:k.value.ket_qua_phong_van.diem_so,"onUpdate:modelValue":l[12]||(l[12]=e=>k.value.ket_qua_phong_van.diem_so=e),disabled:"","show-score":"","text-color":"#ff9900"},null,8,["modelValue"])]),_:1}),(0,t.bF)(Ee,{label:"Đánh giá tổng quan",span:2},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(k.value.ket_qua_phong_van.danh_gia_tong_quan||"-"),1)]),_:1}),(0,t.bF)(Ee,{label:"Điểm mạnh",span:2},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(k.value.ket_qua_phong_van.diem_manh,(e,n)=>((0,t.uX)(),(0,t.Wv)(Ae,{key:n,type:"success",class:"tag-item"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1024))),128)),k.value.ket_qua_phong_van.diem_manh?.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("span",Y,"-"))]),_:1}),(0,t.bF)(Ee,{label:"Điểm yếu",span:2},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(k.value.ket_qua_phong_van.diem_yeu,(e,n)=>((0,t.uX)(),(0,t.Wv)(Ae,{key:n,type:"warning",class:"tag-item"},{default:(0,t.k6)(()=>[(0,t.eW)((0,t.v_)(e),1)]),_:2},1024))),128)),k.value.ket_qua_phong_van.diem_yeu?.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("span",z,"-"))]),_:1})]),_:1})])):(0,t.Q3)("",!0),k.value.ghi_chu?((0,t.uX)(),(0,t.CE)("div",Q,[l[31]||(l[31]=(0,t.Lk)("h3",null,"Ghi chú",-1)),(0,t.Lk)("p",null,(0,t.v_)(k.value.ghi_chu),1)])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),_:1},8,["modelValue"])])}}});const N=(0,p.A)(M,[["__scopeId","data-v-1abc52e4"]]);var O=N},9462:function(e,n,a){var t=a(9565),l=a(2360),i=a(6699),o=a(6279),u=a(8227),r=a(1181),d=a(5966),_=a(7657).IteratorPrototype,h=a(2529),c=a(9539),s=a(1385),g=u("toStringTag"),v="IteratorHelper",p="WrapForValidIterator",m="normal",y="throw",k=r.set,f=function(e){var n=r.getterFor(e?p:v);return o(l(_),{next:function(){var a=n(this);if(e)return a.nextHandler();if(a.done)return h(void 0,!0);try{var t=a.nextHandler();return a.returnHandlerResult?t:h(t,a.done)}catch(l){throw a.done=!0,l}},return:function(){var a=n(this),l=a.iterator;if(a.done=!0,e){var i=d(l,"return");return i?t(i,l):h(void 0,!0)}if(a.inner)try{c(a.inner.iterator,m)}catch(o){return c(l,y,o)}if(a.openIters)try{s(a.openIters,m)}catch(o){return c(l,y,o)}return l&&c(l,m),h(void 0,!0)}})},b=f(!0),w=f(!1);i(w,g,"Iterator Helper"),e.exports=function(e,n,a){var t=function(t,l){l?(l.iterator=t.iterator,l.next=t.next):l=t,l.type=n?p:v,l.returnHandlerResult=!!a,l.nextHandler=e,l.counter=0,l.done=!1,k(this,l)};return t.prototype=n?b:w,t}}}]);
//# sourceMappingURL=7384.d9f8c29e.js.map