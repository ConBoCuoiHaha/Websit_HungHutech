"use strict";(self["webpackChunkHungHutech"]=self["webpackChunkHungHutech"]||[]).push([[1573],{116:function(e,t,a){var n=a(6518),l=a(9565),u=a(2652),o=a(9306),i=a(8551),r=a(1767),d=a(9539),s=a(4549),c=s("find",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:c},{find:function(e){i(this);try{o(e)}catch(n){d(this,"throw",n)}if(c)return l(c,this,e);var t=r(this),a=0;return u(t,function(t,n){if(e(t,a++))return n(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},655:function(e,t,a){var n=a(6955),l=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return l(e)}},684:function(e){e.exports=function(e,t){var a="function"==typeof Iterator&&Iterator.prototype[e];if(a)try{a.call({next:null},t).next()}catch(n){return!0}}},1385:function(e,t,a){var n=a(9539);e.exports=function(e,t,a){for(var l=e.length-1;l>=0;l--)if(void 0!==e[l])try{a=n(e[l].iterator,t,a)}catch(u){t="throw",a=u}if("throw"===t)throw a;return a}},1526:function(e,t,a){var n=a(1114),l=a(4335);const u=window?.appGlobal?.baseUrl&&`${window.appGlobal.baseUrl}/api`,o=u||"http://192.168.88.50:5000/api";console.log("API Base URL:",o);class i{constructor(){(0,n.A)(this,"axiosInstance",void 0),this.axiosInstance=l.A.create({baseURL:o,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}get(e,t){return this.axiosInstance.get(e,t)}post(e,t,a){return this.axiosInstance.post(e,t,a)}put(e,t,a){return this.axiosInstance.put(e,t,a)}delete(e,t){return this.axiosInstance.delete(e,t)}patch(e,t,a){return this.axiosInstance.patch(e,t,a)}}t.A=new i},1573:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});a(4114),a(8111),a(2489),a(116),a(7588),a(1701),a(4603),a(7566),a(8721);var n=a(1431),l=a(163),u=a(7918),o=a(8548),i=a(6576),r=a(6604);const d={class:"payroll-page"},s={class:"page-header"},c={class:"page-actions"},h={class:"run-title"},_={class:"pagination"},g={class:"auto-fill-bar"},p={class:"entries-header"},m={class:"entry-card__header"},b={class:"entry-card__index"},k={key:0},y={class:"entry-card__actions"},v={key:0,class:"entry-card__meta"},f={class:"money-grid"},F={class:"money-section"},w={class:"money-section__header"},V={key:0,class:"money-section__empty"},C={class:"money-section"},L={class:"money-section__header"},U={key:0,class:"money-section__empty"},T={class:"money-section"},x={class:"money-section__header"},R={key:0,class:"money-section__empty"},E={class:"money-section"},A={class:"money-section__header"},$={key:0,class:"money-section__empty"},W={key:0,class:"drawer-body"},K={class:"drawer-header"},S={class:"drawer-actions"},I={class:"employee-cell"};var N=(0,n.pM)({__name:"PayrollRunList",setup(e){const t=(0,n.KR)([]),a=(0,n.KR)(!1),N=(0,n.Kh)({page:1,limit:10,total:0}),X=(0,n.Kh)({q:"",loai_ky:"",trang_thai:""}),D=[{label:"Nháp",value:"Draft"},{label:"Chờ duyệt",value:"Cho_duyet"},{label:"Đã duyệt",value:"Da_duyet"},{label:"Đã chi",value:"Da_chi"}],z=[{label:"Chờ duyệt",value:"Cho_duyet"},{label:"Đã duyệt",value:"Da_duyet"},{label:"Đã chi",value:"Da_chi"}],B={ti_le_bhxh:.08,ti_le_bhyt:.015,ti_le_bhtn:.01,ti_le_kpcd:.01,ap_dung_kpcd:!0,giam_tru_ban_than:11e6,giam_tru_phu_thuoc:44e5},H=(0,n.KR)(),P=(0,n.KR)(!1),O=(0,n.KR)(!1),j=(0,n.KR)(!1),q=(0,n.KR)([]),M=(0,n.Kh)({ky_luong:"",loai_ky:"Thang",ngay_bat_dau:"",ngay_ket_thuc:"",currency:"VND",ghi_chu:"",settings:{...B},entries:[]}),Q={ky_luong:[{required:!0,message:"Nhập tên kỳ lương",trigger:"blur"}],loai_ky:[{required:!0,message:"Chọn loại kỳ",trigger:"change"}],ngay_bat_dau:[{required:!0,message:"Chọn ngày bắt đầu",trigger:"change"}],ngay_ket_thuc:[{required:!0,message:"Chọn ngày kết thúc",trigger:"change"}]},Y=(0,n.KR)(!1),G=(0,n.KR)(null),J=(0,n.KR)(!1),Z=(0,n.KR)(!1),ee=(e,t="VND")=>{try{return new Intl.NumberFormat("vi-VN",{style:"currency",currency:t||"VND",maximumFractionDigits:0}).format(e||0)}catch{return`${(e||0).toLocaleString("vi-VN")} ${t}`}},te=(e,t)=>e&&t?`${new Date(e).toLocaleDateString("vi-VN")} - ${new Date(t).toLocaleDateString("vi-VN")}`:"---",ae=e=>{const t=D.find(t=>t.value===e);return t?.label||e},ne=e=>"Da_duyet"===e||"Da_chi"===e?"success":"Cho_duyet"===e?"warning":"info",le=e=>"Thang"===e?"Kỳ tháng":"Tuan"===e?"Kỳ tuần":"Tùy chỉnh",ue=async()=>{a.value=!0;try{const e=await i.A.getRuns({page:N.page,limit:N.limit,q:X.q||void 0,loai_ky:X.loai_ky||void 0,trang_thai:X.trang_thai||void 0});t.value=e.data||[],N.total=e.pagination?.total||0}catch(e){l.nk.error(e.response?.data?.msg||"Không thể tải bảng lương")}finally{a.value=!1}},oe=async()=>{try{const e=await r.A.getAll({page:1,limit:200});q.value=e.data||[]}catch(e){l.nk.error(e.response?.data?.msg||"Không thể tải danh sách nhân viên")}},ie=()=>{N.page=1,ue()},re=()=>{X.q="",X.loai_ky="",X.trang_thai="",ie()},de=e=>{N.page=e,ue()},se=e=>{N.limit=e,N.page=1,ue()},ce=()=>({uid:`${Date.now()}-${Math.random()}`,nhan_vien_id:"",luong_co_ban:null,so_nguoi_phu_thuoc:0,phu_cap:[],thuong:[],ot:[],khoan_khau_tru:[]}),he=()=>{M.ky_luong="",M.loai_ky="Thang",M.ngay_bat_dau="",M.ngay_ket_thuc="",M.currency="VND",M.ghi_chu="",M.settings={...B},M.entries.splice(0,M.entries.length,ce())},_e=async()=>{he(),P.value=!0,0===q.value.length&&await oe()},ge=()=>{P.value=!1},pe=()=>{M.entries.push(ce())},me=e=>{1!==M.entries.length?M.entries.splice(e,1):l.nk.warning("Phải có ít nhất một nhân viên")},be=e=>{const t=q.value.find(t=>t._id===e.nhan_vien_id);if(t&&(!e.so_nguoi_phu_thuoc&&t.nguoi_phu_thuoc&&(e.so_nguoi_phu_thuoc=t.nguoi_phu_thuoc.length),(!e.luong_co_ban||0===e.luong_co_ban)&&t.luong?.length)){const a=t.luong[0],n="object"===typeof a.so_tien?Number(a.so_tien.$numberDecimal):Number(a.so_tien);Number.isNaN(n)||(e.luong_co_ban=n)}},ke=e=>{const t=q.value.find(t=>t._id===e);return t?`${t.ho_dem||""} ${t.ten||""} (${t.ma_nhan_vien})`.trim():""},ye=(e,t)=>{const a=M.entries[e][t];a.push({ten:"",so_tien:null})},ve=(e,t,a)=>{const n=M.entries[e][t];n.splice(a,1)},fe=(e=[])=>e.map(e=>({ten:e.ten||"",so_tien:Number(e.so_tien??0),ghi_chu:e.ghi_chu})),Fe=e=>e.filter(e=>e.ten&&null!==e.so_tien&&Number(e.so_tien)>0).map(e=>({ten:e.ten,so_tien:Number(e.so_tien),ghi_chu:e.ghi_chu})),we=(e=[])=>{e.forEach(e=>{let t=M.entries.find(t=>t.nhan_vien_id===e.nhan_vien_id);t||(t=ce(),t.nhan_vien_id=e.nhan_vien_id,M.entries.push(t)),t.luong_co_ban=e.luong_co_ban??t.luong_co_ban,"number"===typeof e.so_nguoi_phu_thuoc&&(t.so_nguoi_phu_thuoc=e.so_nguoi_phu_thuoc),t.phu_cap=fe(e.phu_cap||[]),t.thuong=fe(e.thuong||[]),t.ot=fe(e.ot||[]),t.khoan_khau_tru=fe(e.khoan_khau_tru||[]),t.metadata=e.metadata})},Ve=async()=>{if(M.ngay_bat_dau&&M.ngay_ket_thuc){j.value=!0;try{const e=M.entries.map(e=>e.nhan_vien_id).filter(Boolean),t=await i.A.preview({ngay_bat_dau:M.ngay_bat_dau,ngay_ket_thuc:M.ngay_ket_thuc,employee_ids:e.length?e:void 0});we(t.data||[]),M.entries.length||M.entries.push(ce()),t.summary?.totalEmployees&&l.nk.success(`Đã tải dữ liệu cho ${t.summary.totalEmployees} nhân viên`)}catch(e){l.nk.error(e.response?.data?.msg||"Không thể lấy dữ liệu tự động")}finally{j.value=!1}}else l.nk.warning("Vui lòng chọn khoảng thời gian trước khi lấy dữ liệu")},Ce=async()=>{H.value&&await H.value.validate(async e=>{if(!e)return;if(new Date(M.ngay_ket_thuc)<new Date(M.ngay_bat_dau))return void l.nk.warning("Ngày kết thúc phải lớn hơn hoặc bằng ngày bắt đầu");const t=M.entries.find(e=>!e.nhan_vien_id||!e.luong_co_ban||e.luong_co_ban<=0);if(t)return void l.nk.warning("Mỗi nhân viên cần thông tin và lương cơ bản hợp lệ");const a={ky_luong:M.ky_luong,loai_ky:M.loai_ky,ngay_bat_dau:M.ngay_bat_dau,ngay_ket_thuc:M.ngay_ket_thuc,currency:M.currency,ghi_chu:M.ghi_chu,settings:{...M.settings},entries:M.entries.map(e=>({nhan_vien_id:e.nhan_vien_id,luong_co_ban:Number(e.luong_co_ban),so_nguoi_phu_thuoc:e.so_nguoi_phu_thuoc,phu_cap:Fe(e.phu_cap),thuong:Fe(e.thuong),ot:Fe(e.ot),khoan_khau_tru:Fe(e.khoan_khau_tru)}))};O.value=!0;try{await i.A.createRun(a),l.nk.success("Tạo bảng lương thành công"),ge(),ue()}catch(n){l.nk.error(n.response?.data?.msg||"Không thể tạo bảng lương")}finally{O.value=!1}})},Le=async e=>{Y.value=!0,J.value=!0;try{G.value=await i.A.getRun(e._id)}catch(t){l.nk.error(t.response?.data?.msg||"Không thể tải chi tiết bảng lương"),Y.value=!1}finally{J.value=!1}},Ue=async(e,t)=>{if(!e._id)return;const a=t;try{await u.s.confirm(`Chuyển trạng thái "${e.ky_luong}" sang ${ae(a)}?`,"Xác nhận",{type:"warning"}),await i.A.updateRunStatus(e._id,a),l.nk.success("Cập nhật trạng thái thành công"),ue(),G.value&&G.value._id===e._id&&(G.value.trang_thai=a)}catch(n){if("cancel"===n)return;l.nk.error(n.response?.data?.msg||"Không thể cập nhật trạng thái")}},Te=async(e,t)=>{if(!G.value||!e._id)return;const a=e.trang_thai;e.trang_thai=t;try{await i.A.updateEntryStatus(G.value._id,e._id,{trang_thai:t}),l.nk.success("Đã cập nhật trạng thái phiếu lương")}catch(n){e.trang_thai=a,l.nk.error(n.response?.data?.msg||"Không thể cập nhật phiếu lương")}},xe=async()=>{if(G.value){Z.value=!0;try{const e=await i.A.exportRun(G.value._id),t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a"),n=G.value.ky_luong?.replace(/[\\/:*?"<>|]/g,"_")||G.value._id;a.href=t,a.download=`payroll-${n}.csv`,a.click(),window.URL.revokeObjectURL(t)}catch(e){l.nk.error(e.response?.data?.msg||"Không thể xuất bảng lương")}finally{Z.value=!1}}},Re=async e=>{if(G.value){Z.value=!0;try{const t=await i.A.exportTemplate(G.value._id,e),a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a"),l=G.value.ky_luong?.replace(/[\\/:*?"<>|]/g,"_")||G.value._id;n.href=a,n.download=`payroll-${e}-${l}.csv`,n.click(),window.URL.revokeObjectURL(a)}catch(t){l.nk.error(t.response?.data?.msg||"Không thể xuất biểu mẫu")}finally{Z.value=!1}}};return(0,n.sV)(()=>{ue(),oe()}),(e,l)=>{const u=(0,n.g2)("el-button"),i=(0,n.g2)("el-input"),r=(0,n.g2)("el-form-item"),B=(0,n.g2)("el-option"),oe=(0,n.g2)("el-select"),ce=(0,n.g2)("el-form"),he=(0,n.g2)("el-card"),fe=(0,n.g2)("el-table-column"),Fe=(0,n.g2)("el-tag"),we=(0,n.g2)("el-dropdown-item"),Ee=(0,n.g2)("el-dropdown-menu"),Ae=(0,n.g2)("el-dropdown"),$e=(0,n.g2)("el-space"),We=(0,n.g2)("el-table"),Ke=(0,n.g2)("el-pagination"),Se=(0,n.g2)("el-col"),Ie=(0,n.g2)("el-row"),Ne=(0,n.g2)("el-date-picker"),Xe=(0,n.g2)("el-divider"),De=(0,n.g2)("el-input-number"),ze=(0,n.g2)("el-switch"),Be=(0,n.g2)("el-alert"),He=(0,n.g2)("el-dialog"),Pe=(0,n.g2)("el-button-group"),Oe=(0,n.g2)("el-descriptions-item"),je=(0,n.g2)("el-descriptions"),qe=(0,n.g2)("el-skeleton"),Me=(0,n.g2)("el-drawer"),Qe=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",d,[(0,n.Lk)("div",s,[l[21]||(l[21]=(0,n.Lk)("div",null,[(0,n.Lk)("h1",null,"Quản lý bảng lương"),(0,n.Lk)("p",null," Tạo và theo dõi các kỳ lương, đảm bảo tính đúng – đủ trước khi chi trả. ")],-1)),(0,n.Lk)("div",c,[(0,n.bF)(u,{icon:(0,n.R1)(o.Refresh),loading:a.value,onClick:ue},{default:(0,n.k6)(()=>[...l[19]||(l[19]=[(0,n.eW)("Tải lại",-1)])]),_:1},8,["icon","loading"]),(0,n.bF)(u,{type:"primary",icon:(0,n.R1)(o.Plus),onClick:_e},{default:(0,n.k6)(()=>[...l[20]||(l[20]=[(0,n.eW)("Tạo bảng lương",-1)])]),_:1},8,["icon"])])]),(0,n.bF)(he,{class:"filter-card",shadow:"never"},{default:(0,n.k6)(()=>[(0,n.bF)(ce,{inline:"",onSubmit:l[3]||(l[3]=(0,n.D$)(()=>{},["prevent"]))},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Từ khóa"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:X.q,"onUpdate:modelValue":l[0]||(l[0]=e=>X.q=e),placeholder:"Kỳ lương, ghi chú...",clearable:"","prefix-icon":(0,n.R1)(o.Search),onKeyup:(0,n.jR)(ie,["enter","native"])},null,8,["modelValue","prefix-icon"])]),_:1}),(0,n.bF)(r,{label:"Loại kỳ"},{default:(0,n.k6)(()=>[(0,n.bF)(oe,{modelValue:X.loai_ky,"onUpdate:modelValue":l[1]||(l[1]=e=>X.loai_ky=e),placeholder:"Tất cả",clearable:"",style:{width:"160px"}},{default:(0,n.k6)(()=>[(0,n.bF)(B,{label:"Kỳ tháng",value:"Thang"}),(0,n.bF)(B,{label:"Kỳ tuần",value:"Tuan"}),(0,n.bF)(B,{label:"Tùy chỉnh",value:"Tuy_chinh"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(r,{label:"Trạng thái"},{default:(0,n.k6)(()=>[(0,n.bF)(oe,{modelValue:X.trang_thai,"onUpdate:modelValue":l[2]||(l[2]=e=>X.trang_thai=e),placeholder:"Tất cả",clearable:"",style:{width:"180px"}},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(D,e=>(0,n.bF)(B,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(r,null,{default:(0,n.k6)(()=>[(0,n.bF)(u,{type:"primary",onClick:ie},{default:(0,n.k6)(()=>[...l[22]||(l[22]=[(0,n.eW)("Áp dụng",-1)])]),_:1}),(0,n.bF)(u,{onClick:re},{default:(0,n.k6)(()=>[...l[23]||(l[23]=[(0,n.eW)("Xóa lọc",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),(0,n.bF)(he,{class:"table-card",shadow:"never"},{default:(0,n.k6)(()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(We,{data:t.value,"empty-text":a.value?"Đang tải...":"Chưa có bảng lương",stripe:""},{default:(0,n.k6)(()=>[(0,n.bF)(fe,{label:"Kỳ lương","min-width":"160"},{default:(0,n.k6)(({row:e})=>[(0,n.Lk)("div",h,[(0,n.Lk)("strong",null,(0,n.v_)(e.ky_luong),1),(0,n.Lk)("span",null,(0,n.v_)(te(e.ngay_bat_dau,e.ngay_ket_thuc)),1)])]),_:1}),(0,n.bF)(fe,{label:"Loại kỳ",width:"120"},{default:(0,n.k6)(({row:e})=>[(0,n.bF)(Fe,{type:"info",size:"small"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(le(e.loai_ky)),1)]),_:2},1024)]),_:1}),(0,n.bF)(fe,{label:"Trạng thái",width:"130"},{default:(0,n.k6)(({row:e})=>[(0,n.bF)(Fe,{type:ne(e.trang_thai),size:"small"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(ae(e.trang_thai)),1)]),_:2},1032,["type"])]),_:1}),(0,n.bF)(fe,{label:"Tổng thu nhập","min-width":"150"},{default:(0,n.k6)(({row:e})=>[(0,n.eW)((0,n.v_)(ee(e.tong_thu_nhap,e.currency)),1)]),_:1}),(0,n.bF)(fe,{label:"Thực nhận","min-width":"150"},{default:(0,n.k6)(({row:e})=>[(0,n.Lk)("strong",null,(0,n.v_)(ee(e.tong_net,e.currency)),1)]),_:1}),(0,n.bF)(fe,{prop:"tong_so_nhan_vien",label:"Nhân viên",width:"110"}),(0,n.bF)(fe,{label:"Hành động",width:"200",fixed:"right"},{default:(0,n.k6)(({row:e})=>[(0,n.bF)($e,null,{default:(0,n.k6)(()=>[(0,n.bF)(u,{size:"small",icon:(0,n.R1)(o.View),onClick:t=>Le(e)},{default:(0,n.k6)(()=>[...l[24]||(l[24]=[(0,n.eW)("Chi tiết",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(Ae,{onCommand:t=>Ue(e,t)},{dropdown:(0,n.k6)(()=>[(0,n.bF)(Ee,null,{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(D,e=>(0,n.bF)(we,{key:e.value,command:e.value},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.label),1)]),_:2},1032,["command"])),64))]),_:1})]),default:(0,n.k6)(()=>[(0,n.bF)(u,{size:"small"},{default:(0,n.k6)(()=>[...l[25]||(l[25]=[(0,n.eW)("Cập nhật",-1)])]),_:1})]),_:1},8,["onCommand"])]),_:2},1024)]),_:1})]),_:1},8,["data","empty-text"])),[[Qe,a.value]]),(0,n.Lk)("div",_,[(0,n.bF)(Ke,{background:"",layout:"total, sizes, prev, pager, next, jumper",total:N.total,"page-size":N.limit,"current-page":N.page,"page-sizes":[10,20,50],onSizeChange:se,onCurrentChange:de},null,8,["total","page-size","current-page"])])]),_:1})]),(0,n.bF)(He,{modelValue:P.value,"onUpdate:modelValue":l[17]||(l[17]=e=>P.value=e),title:"Tạo bảng lương",width:"820px","close-on-click-modal":!1},{footer:(0,n.k6)(()=>[(0,n.bF)(u,{onClick:ge},{default:(0,n.k6)(()=>[...l[44]||(l[44]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(u,{type:"primary",loading:O.value,onClick:Ce},{default:(0,n.k6)(()=>[...l[45]||(l[45]=[(0,n.eW)("Tạo bảng lương",-1)])]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(ce,{ref_key:"formRef",ref:H,model:M,rules:Q,"label-width":"150px"},{default:(0,n.k6)(()=>[(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Tên kỳ lương",prop:"ky_luong"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:M.ky_luong,"onUpdate:modelValue":l[4]||(l[4]=e=>M.ky_luong=e),placeholder:"VD: Lương tháng 01/2025"},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Loại kỳ",prop:"loai_ky"},{default:(0,n.k6)(()=>[(0,n.bF)(oe,{modelValue:M.loai_ky,"onUpdate:modelValue":l[5]||(l[5]=e=>M.loai_ky=e)},{default:(0,n.k6)(()=>[(0,n.bF)(B,{label:"Tháng",value:"Thang"}),(0,n.bF)(B,{label:"Tuần",value:"Tuan"}),(0,n.bF)(B,{label:"Tùy chỉnh",value:"Tuy_chinh"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Ngày bắt đầu",prop:"ngay_bat_dau"},{default:(0,n.k6)(()=>[(0,n.bF)(Ne,{modelValue:M.ngay_bat_dau,"onUpdate:modelValue":l[6]||(l[6]=e=>M.ngay_bat_dau=e),type:"date","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Ngày kết thúc",prop:"ngay_ket_thuc"},{default:(0,n.k6)(()=>[(0,n.bF)(Ne,{modelValue:M.ngay_ket_thuc,"onUpdate:modelValue":l[7]||(l[7]=e=>M.ngay_ket_thuc=e),type:"date","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Tiền tệ"},{default:(0,n.k6)(()=>[(0,n.bF)(oe,{modelValue:M.currency,"onUpdate:modelValue":l[8]||(l[8]=e=>M.currency=e)},{default:(0,n.k6)(()=>[(0,n.bF)(B,{label:"VND",value:"VND"}),(0,n.bF)(B,{label:"USD",value:"USD"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Ghi chú"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:M.ghi_chu,"onUpdate:modelValue":l[9]||(l[9]=e=>M.ghi_chu=e),placeholder:"Ghi chú chung"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(Xe,{"content-position":"left"},{default:(0,n.k6)(()=>[...l[26]||(l[26]=[(0,n.eW)("Tỷ lệ khấu trừ",-1)])]),_:1}),(0,n.bF)(Ie,{gutter:16,class:"settings-row"},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:6,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"BHXH"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.ti_le_bhxh,"onUpdate:modelValue":l[10]||(l[10]=e=>M.settings.ti_le_bhxh=e),min:0,max:1,step:.005},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:6,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"BHYT"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.ti_le_bhyt,"onUpdate:modelValue":l[11]||(l[11]=e=>M.settings.ti_le_bhyt=e),min:0,max:1,step:.005},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:6,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"BHTN"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.ti_le_bhtn,"onUpdate:modelValue":l[12]||(l[12]=e=>M.settings.ti_le_bhtn=e),min:0,max:1,step:.005},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:6,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"KPCĐ"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.ti_le_kpcd,"onUpdate:modelValue":l[13]||(l[13]=e=>M.settings.ti_le_kpcd=e),min:0,max:1,step:.005,disabled:!M.settings.ap_dung_kpcd},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:6,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Áp dụng KPCĐ"},{default:(0,n.k6)(()=>[(0,n.bF)(ze,{modelValue:M.settings.ap_dung_kpcd,"onUpdate:modelValue":l[14]||(l[14]=e=>M.settings.ap_dung_kpcd=e)},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:9,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Giảm trừ bản thân"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.giam_tru_ban_than,"onUpdate:modelValue":l[15]||(l[15]=e=>M.settings.giam_tru_ban_than=e),min:0,step:5e5,controls:!1,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(Se,{md:9,sm:12},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Giảm trừ phụ thuộc"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:M.settings.giam_tru_phu_thuoc,"onUpdate:modelValue":l[16]||(l[16]=e=>M.settings.giam_tru_phu_thuoc=e),min:0,step:1e5,controls:!1,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.Lk)("div",g,[(0,n.bF)(Be,{type:"info",closable:!1,"show-icon":""},{default:(0,n.k6)(()=>[...l[27]||(l[27]=[(0,n.eW)(" Có thể tự động lấy dữ liệu timesheet/OT và đơn nghỉ cho khoảng ngày đã chọn. ",-1)])]),_:1}),(0,n.bF)(u,{type:"primary",plain:"",loading:j.value,onClick:Ve},{default:(0,n.k6)(()=>[...l[28]||(l[28]=[(0,n.eW)(" Tự động lấy dữ liệu ",-1)])]),_:1},8,["loading"])]),(0,n.Lk)("div",p,[(0,n.bF)(Xe,{"content-position":"left"},{default:(0,n.k6)(()=>[...l[29]||(l[29]=[(0,n.eW)("Nhân viên trong kỳ",-1)])]),_:1}),(0,n.bF)(u,{type:"primary",plain:"",size:"small",onClick:pe},{default:(0,n.k6)(()=>[...l[30]||(l[30]=[(0,n.eW)("Thêm dòng",-1)])]),_:1})]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(M.entries,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:e.uid,class:"entry-card"},[(0,n.Lk)("div",m,[(0,n.Lk)("div",null,[(0,n.Lk)("span",b,"Nhân viên #"+(0,n.v_)(t+1),1),ke(e.nhan_vien_id)?((0,n.uX)(),(0,n.CE)("p",k,(0,n.v_)(ke(e.nhan_vien_id)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",y,[M.entries.length>1?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"danger",text:"",onClick:e=>me(t)},{default:(0,n.k6)(()=>[...l[31]||(l[31]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["onClick"])):(0,n.Q3)("",!0)])]),(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:`Nhân viên #${t+1}`},{default:(0,n.k6)(()=>[(0,n.bF)(oe,{modelValue:e.nhan_vien_id,"onUpdate:modelValue":t=>e.nhan_vien_id=t,placeholder:"Chọn nhân viên",filterable:"",style:{width:"100%"},onChange:()=>be(e)},{default:(0,n.k6)(()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(q.value,e=>((0,n.uX)(),(0,n.Wv)(B,{key:e._id,label:`${e.ma_nhan_vien} - ${e.ho_dem} ${e.ten}`,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["label"])]),_:2},1024),(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Lương cơ bản (VND)"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:e.luong_co_ban,"onUpdate:modelValue":t=>e.luong_co_ban=t,min:0,step:5e5,controls:!1,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),(0,n.bF)(Ie,{gutter:16},{default:(0,n.k6)(()=>[(0,n.bF)(Se,{md:12,sm:24},{default:(0,n.k6)(()=>[(0,n.bF)(r,{label:"Số người phụ thuộc"},{default:(0,n.k6)(()=>[(0,n.bF)(De,{modelValue:e.so_nguoi_phu_thuoc,"onUpdate:modelValue":t=>e.so_nguoi_phu_thuoc=t,min:0,step:1,controls:!1,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e.metadata?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.bF)(Fe,{size:"small"},{default:(0,n.k6)(()=>[(0,n.eW)("Giờ chấm công: "+(0,n.v_)(e.metadata.tong_gio_timesheet||0),1)]),_:2},1024),(0,n.bF)(Fe,{size:"small",type:"warning"},{default:(0,n.k6)(()=>[(0,n.eW)("OT: "+(0,n.v_)(e.metadata.tong_gio_ot||0)+"h",1)]),_:2},1024),(0,n.bF)(Fe,{size:"small",type:"info"},{default:(0,n.k6)(()=>[(0,n.eW)("Nghỉ: "+(0,n.v_)(e.metadata.so_ngay_nghi||0)+" ngày",1)]),_:2},1024)])):(0,n.Q3)("",!0),(0,n.Lk)("div",f,[(0,n.Lk)("div",F,[(0,n.Lk)("div",w,[l[33]||(l[33]=(0,n.Lk)("span",null,"Phụ cấp",-1)),(0,n.bF)(u,{text:"",type:"primary",size:"small",onClick:e=>ye(t,"phu_cap")},{default:(0,n.k6)(()=>[...l[32]||(l[32]=[(0,n.eW)(" Thêm ",-1)])]),_:1},8,["onClick"])]),0===e.phu_cap.length?((0,n.uX)(),(0,n.CE)("div",V," Chưa có phụ cấp ")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.phu_cap,(a,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`phucap-${e.uid}-${o}`,class:"money-section__row"},[(0,n.bF)(i,{modelValue:a.ten,"onUpdate:modelValue":e=>a.ten=e,placeholder:"Tên khoản"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(De,{modelValue:a.so_tien,"onUpdate:modelValue":e=>a.so_tien=e,min:0,step:1e5,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(u,{text:"",type:"danger",onClick:e=>ve(t,"phu_cap",o)},{default:(0,n.k6)(()=>[...l[34]||(l[34]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["onClick"])]))),128))]),(0,n.Lk)("div",C,[(0,n.Lk)("div",L,[l[36]||(l[36]=(0,n.Lk)("span",null,"Thưởng",-1)),(0,n.bF)(u,{text:"",type:"primary",size:"small",onClick:e=>ye(t,"thuong")},{default:(0,n.k6)(()=>[...l[35]||(l[35]=[(0,n.eW)(" Thêm ",-1)])]),_:1},8,["onClick"])]),0===e.thuong.length?((0,n.uX)(),(0,n.CE)("div",U," Chưa có thưởng ")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.thuong,(a,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`thuong-${e.uid}-${o}`,class:"money-section__row"},[(0,n.bF)(i,{modelValue:a.ten,"onUpdate:modelValue":e=>a.ten=e,placeholder:"Tên khoản"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(De,{modelValue:a.so_tien,"onUpdate:modelValue":e=>a.so_tien=e,min:0,step:1e5,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(u,{text:"",type:"danger",onClick:e=>ve(t,"thuong",o)},{default:(0,n.k6)(()=>[...l[37]||(l[37]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["onClick"])]))),128))]),(0,n.Lk)("div",T,[(0,n.Lk)("div",x,[l[39]||(l[39]=(0,n.Lk)("span",null,"OT / Làm thêm",-1)),(0,n.bF)(u,{text:"",type:"primary",size:"small",onClick:e=>ye(t,"ot")},{default:(0,n.k6)(()=>[...l[38]||(l[38]=[(0,n.eW)(" Thêm ",-1)])]),_:1},8,["onClick"])]),0===e.ot.length?((0,n.uX)(),(0,n.CE)("div",R," Chưa có OT ")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.ot,(a,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`ot-${e.uid}-${o}`,class:"money-section__row"},[(0,n.bF)(i,{modelValue:a.ten,"onUpdate:modelValue":e=>a.ten=e,placeholder:"Mô tả"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(De,{modelValue:a.so_tien,"onUpdate:modelValue":e=>a.so_tien=e,min:0,step:1e5,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(u,{text:"",type:"danger",onClick:e=>ve(t,"ot",o)},{default:(0,n.k6)(()=>[...l[40]||(l[40]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["onClick"])]))),128))]),(0,n.Lk)("div",E,[(0,n.Lk)("div",A,[l[42]||(l[42]=(0,n.Lk)("span",null,"Khấu trừ",-1)),(0,n.bF)(u,{text:"",type:"primary",size:"small",onClick:e=>ye(t,"khoan_khau_tru")},{default:(0,n.k6)(()=>[...l[41]||(l[41]=[(0,n.eW)(" Thêm ",-1)])]),_:1},8,["onClick"])]),0===e.khoan_khau_tru.length?((0,n.uX)(),(0,n.CE)("div",$," Chưa có khấu trừ ")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.khoan_khau_tru,(a,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`khau-${e.uid}-${o}`,class:"money-section__row"},[(0,n.bF)(i,{modelValue:a.ten,"onUpdate:modelValue":e=>a.ten=e,placeholder:"Tên khoản"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(De,{modelValue:a.so_tien,"onUpdate:modelValue":e=>a.so_tien=e,min:0,step:1e5,controls:!1},null,8,["modelValue","onUpdate:modelValue"]),(0,n.bF)(u,{text:"",type:"danger",onClick:e=>ve(t,"khoan_khau_tru",o)},{default:(0,n.k6)(()=>[...l[43]||(l[43]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["onClick"])]))),128))])])]))),128))]),_:1},8,["model"])]),_:1},8,["modelValue"]),(0,n.bF)(Me,{modelValue:Y.value,"onUpdate:modelValue":l[18]||(l[18]=e=>Y.value=e),title:"Chi tiết bảng lương",size:"65%","destroy-on-close":!1},{default:(0,n.k6)(()=>[(0,n.bF)(qe,{loading:J.value,animated:""},{default:(0,n.k6)(()=>[G.value?((0,n.uX)(),(0,n.CE)("div",W,[(0,n.Lk)("div",K,[(0,n.Lk)("div",null,[(0,n.Lk)("h2",null,(0,n.v_)(G.value.ky_luong),1),(0,n.Lk)("p",null,(0,n.v_)(te(G.value.ngay_bat_dau,G.value.ngay_ket_thuc)),1)]),(0,n.Lk)("div",S,[(0,n.bF)(Pe,null,{default:(0,n.k6)(()=>[(0,n.bF)(u,{type:"primary",plain:"",size:"small",loading:Z.value,onClick:xe},{default:(0,n.k6)(()=>[...l[46]||(l[46]=[(0,n.eW)(" Xuất CSV tổng ",-1)])]),_:1},8,["loading"]),(0,n.bF)(Ae,{trigger:"click",onCommand:Re},{dropdown:(0,n.k6)(()=>[(0,n.bF)(Ee,null,{default:(0,n.k6)(()=>[(0,n.bF)(we,{command:"bhxh"},{default:(0,n.k6)(()=>[...l[48]||(l[48]=[(0,n.eW)("Mẫu báo cáo BHXH",-1)])]),_:1}),(0,n.bF)(we,{command:"thue"},{default:(0,n.k6)(()=>[...l[49]||(l[49]=[(0,n.eW)("Mẫu quyết toán thuế",-1)])]),_:1})]),_:1})]),default:(0,n.k6)(()=>[(0,n.bF)(u,{type:"primary",plain:"",size:"small",loading:Z.value},{default:(0,n.k6)(()=>[...l[47]||(l[47]=[(0,n.eW)(" Xuất theo mẫu ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1}),(0,n.bF)(Fe,{type:ne(G.value.trang_thai)},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(ae(G.value.trang_thai)),1)]),_:1},8,["type"])])]),(0,n.bF)(je,{column:3,border:"",size:"small"},{default:(0,n.k6)(()=>[(0,n.bF)(Oe,{label:"Loại kỳ"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(le(G.value.loai_ky)),1)]),_:1}),(0,n.bF)(Oe,{label:"Nhân viên"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(G.value.tong_so_nhan_vien),1)]),_:1}),(0,n.bF)(Oe,{label:"Tổng thu nhập"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(ee(G.value.tong_thu_nhap,G.value.currency)),1)]),_:1}),(0,n.bF)(Oe,{label:"Khấu trừ"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(ee(G.value.tong_khau_tru,G.value.currency)),1)]),_:1}),(0,n.bF)(Oe,{label:"Thuế TNCN"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(ee(G.value.tong_thue_tncn,G.value.currency)),1)]),_:1}),(0,n.bF)(Oe,{label:"Thực nhận"},{default:(0,n.k6)(()=>[(0,n.Lk)("strong",null,(0,n.v_)(ee(G.value.tong_net,G.value.currency)),1)]),_:1})]),_:1}),(0,n.bF)(We,{data:G.value.entries,size:"small",border:""},{default:(0,n.k6)(()=>[(0,n.bF)(fe,{label:"Nhân viên","min-width":"220"},{default:(0,n.k6)(({row:e})=>[(0,n.Lk)("div",I,[(0,n.Lk)("strong",null,(0,n.v_)(e.ho_ten),1),(0,n.Lk)("span",null,(0,n.v_)(e.ma_nhan_vien),1)])]),_:1}),(0,n.bF)(fe,{label:"Lương cơ bản","min-width":"140"},{default:(0,n.k6)(({row:e})=>[(0,n.eW)((0,n.v_)(ee(e.luong_co_ban,G.value.currency)),1)]),_:1}),(0,n.bF)(fe,{label:"Thu nhập","min-width":"140"},{default:(0,n.k6)(({row:e})=>[(0,n.eW)((0,n.v_)(ee(e.tong_thu_nhap,G.value.currency)),1)]),_:1}),(0,n.bF)(fe,{label:"Khấu trừ","min-width":"140"},{default:(0,n.k6)(({row:e})=>[(0,n.eW)((0,n.v_)(ee(e.tong_khau_tru,G.value.currency)),1)]),_:1}),(0,n.bF)(fe,{label:"Thực nhận","min-width":"140"},{default:(0,n.k6)(({row:e})=>[(0,n.Lk)("strong",null,(0,n.v_)(ee(e.luong_thuc_nhan,G.value.currency)),1)]),_:1}),(0,n.bF)(fe,{label:"Trạng thái","min-width":"160"},{default:(0,n.k6)(({row:e})=>[(0,n.bF)(oe,{modelValue:e.trang_thai,"onUpdate:modelValue":t=>e.trang_thai=t,size:"small",onChange:t=>Te(e,t)},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(z,e=>(0,n.bF)(B,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):(0,n.Q3)("",!0)]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}}),X=a(6262);const D=(0,X.A)(N,[["__scopeId","data-v-55b7afa5"]]);var z=D},1701:function(e,t,a){var n=a(6518),l=a(9565),u=a(9306),o=a(8551),i=a(1767),r=a(9462),d=a(6319),s=a(9539),c=a(684),h=a(4549),_=a(6395),g=!_&&!c("map",function(){}),p=!_&&!g&&h("map",TypeError),m=_||g||p,b=r(function(){var e=this.iterator,t=o(l(this.next,e)),a=this.done=!!t.done;if(!a)return d(e,this.mapper,[t.value,this.counter++],!0)});n({target:"Iterator",proto:!0,real:!0,forced:m},{map:function(e){o(this);try{u(e)}catch(t){s(this,"throw",t)}return p?l(p,this,e):new b(i(this),{mapper:e})}})},2489:function(e,t,a){var n=a(6518),l=a(9565),u=a(9306),o=a(8551),i=a(1767),r=a(9462),d=a(6319),s=a(6395),c=a(9539),h=a(684),_=a(4549),g=!s&&!h("filter",function(){}),p=!s&&!g&&_("filter",TypeError),m=s||g||p,b=r(function(){var e,t,a,n=this.iterator,u=this.predicate,i=this.next;while(1){if(e=o(l(i,n)),t=this.done=!!e.done,t)return;if(a=e.value,d(n,u,[a,this.counter++],!0))return a}});n({target:"Iterator",proto:!0,real:!0,forced:m},{filter:function(e){o(this);try{u(e)}catch(t){c(this,"throw",t)}return p?l(p,this,e):new b(i(this),{predicate:e})}})},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},2812:function(e){var t=TypeError;e.exports=function(e,a){if(e<a)throw new t("Not enough arguments");return e}},4114:function(e,t,a){var n=a(6518),l=a(8981),u=a(6198),o=a(4527),i=a(6837),r=a(9039),d=r(function(){return 4294967297!==[].push.call({length:4294967296},1)}),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},c=d||!s();n({target:"Array",proto:!0,arity:1,forced:c},{push:function(e){var t=l(this),a=u(t),n=arguments.length;i(a+n);for(var r=0;r<n;r++)t[a]=arguments[r],a++;return o(t,a),a}})},4376:function(e,t,a){var n=a(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4527:function(e,t,a){var n=a(3724),l=a(4376),u=TypeError,o=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(l(e)&&!o(e,"length").writable)throw new u("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4603:function(e,t,a){var n=a(6840),l=a(9504),u=a(655),o=a(2812),i=URLSearchParams,r=i.prototype,d=l(r.append),s=l(r["delete"]),c=l(r.forEach),h=l([].push),_=new i("a=1&a=2&b=3");_["delete"]("a",1),_["delete"]("b",void 0),_+""!=="a=2"&&n(r,"delete",function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return s(this,e);var n=[];c(this,function(e,t){h(n,{key:t,value:e})}),o(t,1);var l,i=u(e),r=u(a),_=0,g=0,p=!1,m=n.length;while(_<m)l=n[_++],p||l.key===i?(p=!0,s(this,l.key)):g++;while(g<m)l=n[g++],l.key===i&&l.value===r||d(this,l.key,l.value)},{enumerable:!0,unsafe:!0})},6279:function(e,t,a){var n=a(6840);e.exports=function(e,t,a){for(var l in t)n(e,l,t[l],a);return e}},6319:function(e,t,a){var n=a(8551),l=a(9539);e.exports=function(e,t,a,u){try{return u?t(n(a)[0],a[1]):t(a)}catch(o){l(e,"throw",o)}}},6576:function(e,t,a){var n=a(1114),l=a(1526);class u{constructor(){(0,n.A)(this,"BASE_URL","/payroll")}async getRuns(e){const t=await l.A.get(`${this.BASE_URL}/runs`,{params:e});return t.data}async createRun(e){const t=await l.A.post(`${this.BASE_URL}/runs`,e);return t.data}async getRun(e){const t=await l.A.get(`${this.BASE_URL}/runs/${e}`);return t.data}async updateRunStatus(e,t){const a=await l.A.patch(`${this.BASE_URL}/runs/${e}/status`,{trang_thai:t});return a.data}async updateEntryStatus(e,t,a){const n=await l.A.patch(`${this.BASE_URL}/runs/${e}/entries/${t}/status`,a);return n.data}async exportRun(e){const t=await l.A.get(`${this.BASE_URL}/runs/${e}/export`,{responseType:"blob"});return t.data}async getMyPayslips(){const e=await l.A.get(`${this.BASE_URL}/my/payslips`);return e.data?.data||[]}async preview(e){const t=await l.A.post(`${this.BASE_URL}/runs/preview`,e);return t.data}async exportTemplate(e,t){const a=await l.A.get(`${this.BASE_URL}/runs/${e}/export-template/${t}`,{responseType:"blob"});return a.data}}t.A=new u},6604:function(e,t,a){var n=a(1114),l=a(1526);class u{constructor(){(0,n.A)(this,"BASE_URL","/nhanvien")}async getAll(e){const t=await l.A.get(this.BASE_URL,{params:e});return t.data}async getById(e){const t=await l.A.get(`${this.BASE_URL}/${e}`);return t.data}async create(e){const t=await l.A.post(this.BASE_URL,e);return t.data}async update(e,t){const a=await l.A.put(`${this.BASE_URL}/${e}`,t);return a.data}async delete(e){await l.A.delete(`${this.BASE_URL}/${e}`)}}t.A=new u},6837:function(e){var t=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw t("Maximum allowed index exceeded");return e}},7566:function(e,t,a){var n=a(6840),l=a(9504),u=a(655),o=a(2812),i=URLSearchParams,r=i.prototype,d=l(r.getAll),s=l(r.has),c=new i("a=1");!c.has("a",2)&&c.has("a",void 0)||n(r,"has",function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return s(this,e);var n=d(this,e);o(t,1);var l=u(a),i=0;while(i<n.length)if(n[i++]===l)return!0;return!1},{enumerable:!0,unsafe:!0})},7588:function(e,t,a){var n=a(6518),l=a(9565),u=a(2652),o=a(9306),i=a(8551),r=a(1767),d=a(9539),s=a(4549),c=s("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:c},{forEach:function(e){i(this);try{o(e)}catch(n){d(this,"throw",n)}if(c)return l(c,this,e);var t=r(this),a=0;u(t,function(t){e(t,a++)},{IS_RECORD:!0})}})},8721:function(e,t,a){var n=a(3724),l=a(9504),u=a(2106),o=URLSearchParams.prototype,i=l(o.forEach);n&&!("size"in o)&&u(o,"size",{get:function(){var e=0;return i(this,function(){e++}),e},configurable:!0,enumerable:!0})},9462:function(e,t,a){var n=a(9565),l=a(2360),u=a(6699),o=a(6279),i=a(8227),r=a(1181),d=a(5966),s=a(7657).IteratorPrototype,c=a(2529),h=a(9539),_=a(1385),g=i("toStringTag"),p="IteratorHelper",m="WrapForValidIterator",b="normal",k="throw",y=r.set,v=function(e){var t=r.getterFor(e?m:p);return o(l(s),{next:function(){var a=t(this);if(e)return a.nextHandler();if(a.done)return c(void 0,!0);try{var n=a.nextHandler();return a.returnHandlerResult?n:c(n,a.done)}catch(l){throw a.done=!0,l}},return:function(){var a=t(this),l=a.iterator;if(a.done=!0,e){var u=d(l,"return");return u?n(u,l):c(void 0,!0)}if(a.inner)try{h(a.inner.iterator,b)}catch(o){return h(l,k,o)}if(a.openIters)try{_(a.openIters,b)}catch(o){return h(l,k,o)}return l&&h(l,b),c(void 0,!0)}})},f=v(!0),F=v(!1);u(F,g,"Iterator Helper"),e.exports=function(e,t,a){var n=function(n,l){l?(l.iterator=n.iterator,l.next=n.next):l=n,l.type=t?m:p,l.returnHandlerResult=!!a,l.nextHandler=e,l.counter=0,l.done=!1,y(this,l)};return n.prototype=t?f:F,n}}}]);
//# sourceMappingURL=1573.6e0869b7.js.map