"use strict";(self["webpackChunkHungHutech"]=self["webpackChunkHungHutech"]||[]).push([[1580],{142:function(e,a,l){l.d(a,{A:function(){return g}});l(4114);var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(6604);const h={class:"orangehrm-emergency-contacts"},d={class:"section-header"};var _=(0,n.pM)({__name:"EmployeeEmergencyContacts",props:{employee:{},loading:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l=e,_=a,c=(0,n.KR)(!1),r=(0,n.KR)(),g=(0,n.KR)(-1),p=(0,n.KR)(!1),s=(0,n.KR)([]),m=(0,n.Kh)({ten:"",moi_quan_he:"",dien_thoai_nha:"",di_dong:"",dien_thoai_cong_viec:""}),b={ten:[{required:!0,message:"Vui lòng nhập họ tên",trigger:"blur"}],moi_quan_he:[{required:!0,message:"Vui lòng chọn mối quan hệ",trigger:"change"}],di_dong:[{required:!0,message:"Vui lòng nhập số di động",trigger:"blur"}]};(0,n.wB)(()=>l.employee,e=>{s.value=e?[...e.lien_he_khan_cap||[]]:[]},{immediate:!0,deep:!0});const v=()=>{g.value=-1,m.ten="",m.moi_quan_he="",m.dien_thoai_nha="",m.di_dong="",m.dien_thoai_cong_viec="",c.value=!0},y=e=>{g.value=e;const a=s.value[e];m.ten=a.ten||"",m.moi_quan_he=a.moi_quan_he||"",m.dien_thoai_nha=a.dien_thoai_nha||"",m.di_dong=a.di_dong||"",m.dien_thoai_cong_viec=a.dien_thoai_cong_viec||"",c.value=!0},k=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin liên hệ này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...s.value];a.splice(e,1),p.value=!0,await u.A.update(l.employee._id,{lien_he_khan_cap:a}),o.nk.success("Xóa liên hệ khẩn cấp thành công"),_("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa liên hệ khẩn cấp")}finally{p.value=!1}},f=async()=>{if(r.value&&l.employee)try{const e=await r.value.validate();if(!e)return;p.value=!0;const a=[...s.value];-1===g.value?a.push({...m}):a[g.value]={...m},await u.A.update(l.employee._id,{lien_he_khan_cap:a}),o.nk.success(-1===g.value?"Thêm liên hệ khẩn cấp thành công":"Cập nhật liên hệ khẩn cấp thành công"),c.value=!1,_("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu liên hệ khẩn cấp")}finally{p.value=!1}};return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-tag"),_=(0,n.g2)("el-table"),F=(0,n.g2)("el-empty"),V=(0,n.g2)("el-input"),w=(0,n.g2)("el-form-item"),C=(0,n.g2)("el-option"),x=(0,n.g2)("el-select"),T=(0,n.g2)("el-form"),Y=(0,n.g2)("el-dialog"),K=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("div",d,[l[8]||(l[8]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Liên hệ khẩn cấp",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:v},{default:(0,n.k6)(()=>[...l[7]||(l[7]=[(0,n.eW)(" Thêm liên hệ ",-1)])]),_:1},8,["icon"])]),s.value.length>0?((0,n.uX)(),(0,n.Wv)(_,{key:0,data:s.value,border:"",class:"orangehrm-table"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"ten",label:"Họ tên","min-width":"180"}),(0,n.bF)(o,{prop:"moi_quan_he",label:"Mối quan hệ",width:"150"},{default:(0,n.k6)(e=>[(0,n.bF)(u,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.row.moi_quan_he),1)]),_:2},1024)]),_:1}),(0,n.bF)(o,{prop:"dien_thoai_nha",label:"ĐT nhà",width:"130"}),(0,n.bF)(o,{prop:"di_dong",label:"Di động",width:"130"}),(0,n.bF)(o,{prop:"dien_thoai_cong_viec",label:"ĐT công việc",width:"130"}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>y(e.$index)},{default:(0,n.k6)(()=>[...l[9]||(l[9]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>k(e.$index)},{default:(0,n.k6)(()=>[...l[10]||(l[10]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(F,{key:1,description:"Chưa có thông tin liên hệ khẩn cấp","image-size":100})),(0,n.bF)(Y,{modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e),title:-1===g.value?"Thêm liên hệ khẩn cấp":"Chỉnh sửa liên hệ khẩn cấp",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[5]||(l[5]=e=>c.value=!1)},{default:(0,n.k6)(()=>[...l[11]||(l[11]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:p.value,onClick:f},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===g.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(T,{ref_key:"formRef",ref:r,model:m,rules:b,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(w,{label:"Họ tên",prop:"ten",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:m.ten,"onUpdate:modelValue":l[0]||(l[0]=e=>m.ten=e),placeholder:"Họ và tên người liên hệ"},null,8,["modelValue"])]),_:1}),(0,n.bF)(w,{label:"Mối quan hệ",prop:"moi_quan_he",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(x,{modelValue:m.moi_quan_he,"onUpdate:modelValue":l[1]||(l[1]=e=>m.moi_quan_he=e),placeholder:"Chọn mối quan hệ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(C,{label:"Cha",value:"Cha"}),(0,n.bF)(C,{label:"Mẹ",value:"Mẹ"}),(0,n.bF)(C,{label:"Vợ/Chồng",value:"Vợ/Chồng"}),(0,n.bF)(C,{label:"Con",value:"Con"}),(0,n.bF)(C,{label:"Anh/Chị/Em",value:"Anh/Chị/Em"}),(0,n.bF)(C,{label:"Bạn",value:"Bạn"}),(0,n.bF)(C,{label:"Người thân",value:"Người thân"}),(0,n.bF)(C,{label:"Đồng nghiệp",value:"Đồng nghiệp"}),(0,n.bF)(C,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(w,{label:"ĐT nhà",prop:"dien_thoai_nha"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:m.dien_thoai_nha,"onUpdate:modelValue":l[2]||(l[2]=e=>m.dien_thoai_nha=e),placeholder:"Số điện thoại nhà"},null,8,["modelValue"])]),_:1}),(0,n.bF)(w,{label:"Di động",prop:"di_dong",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:m.di_dong,"onUpdate:modelValue":l[3]||(l[3]=e=>m.di_dong=e),placeholder:"Số điện thoại di động"},null,8,["modelValue"])]),_:1}),(0,n.bF)(w,{label:"ĐT công việc",prop:"dien_thoai_cong_viec"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:m.dien_thoai_cong_viec,"onUpdate:modelValue":l[4]||(l[4]=e=>m.dien_thoai_cong_viec=e),placeholder:"Số điện thoại công việc"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[K,e.loading]])}}}),c=l(6262);const r=(0,c.A)(_,[["__scopeId","data-v-065a83b1"]]);var g=r},684:function(e){e.exports=function(e,a){var l="function"==typeof Iterator&&Iterator.prototype[e];if(l)try{l.call({next:null},a).next()}catch(n){return!0}}},1289:function(e,a,l){l.d(a,{A:function(){return s}});l(4114);var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(6604),h=l(4353),d=l.n(h);const _={class:"orangehrm-memberships"},c={class:"section-header"};var r=(0,n.pM)({__name:"EmployeeMemberships",props:{employee:{},loading:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l=e,h=a,r=(0,n.KR)(!1),g=(0,n.KR)(),p=(0,n.KR)(-1),s=(0,n.KR)(!1),m=(0,n.KR)([]),b=(0,n.Kh)({to_chuc:"",loai_thanh_vien:"",ma_thanh_vien:"",ngay_bat_dau:"",ngay_ket_thuc:"",phi_thanh_vien:0,don_vi_tien_te:"VND"}),v={to_chuc:[{required:!0,message:"Vui lòng nhập tên tổ chức",trigger:"blur"}],loai_thanh_vien:[{required:!0,message:"Vui lòng chọn loại thành viên",trigger:"change"}]};(0,n.wB)(()=>l.employee,e=>{m.value=e?[...e.thanh_vien_to_chuc||[]]:[]},{immediate:!0,deep:!0});const y=()=>{p.value=-1,b.to_chuc="",b.loai_thanh_vien="",b.ma_thanh_vien="",b.ngay_bat_dau="",b.ngay_ket_thuc="",b.phi_thanh_vien=0,b.don_vi_tien_te="VND",r.value=!0},k=e=>{p.value=e;const a=m.value[e];b.to_chuc=a.to_chuc||"",b.loai_thanh_vien=a.loai_thanh_vien||"",b.ma_thanh_vien=a.ma_thanh_vien||"",b.ngay_bat_dau=a.ngay_bat_dau||"",b.ngay_ket_thuc=a.ngay_ket_thuc||"",b.phi_thanh_vien=Number(a.phi_thanh_vien?.$numberDecimal||a.phi_thanh_vien||0),b.don_vi_tien_te=a.don_vi_tien_te||"VND",r.value=!0},f=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin thành viên này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...m.value];a.splice(e,1),s.value=!0,await u.A.update(l.employee._id,{thanh_vien_to_chuc:a}),o.nk.success("Xóa thành viên tổ chức thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa thành viên tổ chức")}finally{s.value=!1}},F=async()=>{if(g.value&&l.employee)try{const e=await g.value.validate();if(!e)return;s.value=!0;const a=[...m.value];-1===p.value?a.push({...b}):a[p.value]={...b},await u.A.update(l.employee._id,{thanh_vien_to_chuc:a}),o.nk.success(-1===p.value?"Thêm thành viên tổ chức thành công":"Cập nhật thành viên tổ chức thành công"),r.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thành viên tổ chức")}finally{s.value=!1}},V=e=>e?d()(e).format("DD/MM/YYYY"):"",w=(e,a)=>{const l=Number(e?.$numberDecimal||e||0);return"VND"===a?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l)};return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-tag"),h=(0,n.g2)("el-table"),d=(0,n.g2)("el-empty"),C=(0,n.g2)("el-input"),x=(0,n.g2)("el-form-item"),T=(0,n.g2)("el-option"),Y=(0,n.g2)("el-select"),K=(0,n.g2)("el-date-picker"),R=(0,n.g2)("el-col"),q=(0,n.g2)("el-row"),U=(0,n.g2)("el-input-number"),D=(0,n.g2)("el-form"),W=(0,n.g2)("el-dialog"),M=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",c,[l[10]||(l[10]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Thành viên tổ chức/Hội",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:y},{default:(0,n.k6)(()=>[...l[9]||(l[9]=[(0,n.eW)(" Thêm thành viên ",-1)])]),_:1},8,["icon"])]),m.value.length>0?((0,n.uX)(),(0,n.Wv)(h,{key:0,data:m.value,border:"",class:"orangehrm-table"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"to_chuc",label:"Tổ chức/Hội","min-width":"200"}),(0,n.bF)(o,{prop:"loai_thanh_vien",label:"Loại thành viên",width:"150"},{default:(0,n.k6)(e=>[(0,n.bF)(u,null,{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.row.loai_thanh_vien),1)]),_:2},1024)]),_:1}),(0,n.bF)(o,{prop:"ma_thanh_vien",label:"Mã thành viên",width:"130"}),(0,n.bF)(o,{label:"Thời gian","min-width":"180"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(V(e.row.ngay_bat_dau))+" - "+(0,n.v_)(e.row.ngay_ket_thuc?V(e.row.ngay_ket_thuc):"Hiện tại"),1)]),_:1}),(0,n.bF)(o,{label:"Phí thành viên",width:"150",align:"right"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(w(e.row.phi_thanh_vien,e.row.don_vi_tien_te)),1)]),_:1}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>k(e.$index)},{default:(0,n.k6)(()=>[...l[11]||(l[11]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>f(e.$index)},{default:(0,n.k6)(()=>[...l[12]||(l[12]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(d,{key:1,description:"Chưa có thông tin thành viên tổ chức","image-size":100})),(0,n.bF)(W,{modelValue:r.value,"onUpdate:modelValue":l[8]||(l[8]=e=>r.value=e),title:-1===p.value?"Thêm thành viên":"Chỉnh sửa thành viên",width:"650px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[7]||(l[7]=e=>r.value=!1)},{default:(0,n.k6)(()=>[...l[13]||(l[13]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:s.value,onClick:F},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===p.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(D,{ref_key:"formRef",ref:g,model:b,rules:v,"label-width":"150px"},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Tổ chức/Hội",prop:"to_chuc",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(C,{modelValue:b.to_chuc,"onUpdate:modelValue":l[0]||(l[0]=e=>b.to_chuc=e),placeholder:"Tên tổ chức, hội, hiệp hội"},null,8,["modelValue"])]),_:1}),(0,n.bF)(x,{label:"Loại thành viên",prop:"loai_thanh_vien",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:b.loai_thanh_vien,"onUpdate:modelValue":l[1]||(l[1]=e=>b.loai_thanh_vien=e),placeholder:"Chọn loại thành viên",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"Thành viên",value:"Thành viên"}),(0,n.bF)(T,{label:"Hội viên",value:"Hội viên"}),(0,n.bF)(T,{label:"Cộng tác viên",value:"Cộng tác viên"}),(0,n.bF)(T,{label:"Thành viên danh dự",value:"Thành viên danh dự"}),(0,n.bF)(T,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(x,{label:"Mã thành viên",prop:"ma_thanh_vien"},{default:(0,n.k6)(()=>[(0,n.bF)(C,{modelValue:b.ma_thanh_vien,"onUpdate:modelValue":l[2]||(l[2]=e=>b.ma_thanh_vien=e),placeholder:"Mã số thành viên"},null,8,["modelValue"])]),_:1}),(0,n.bF)(q,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Ngày bắt đầu",prop:"ngay_bat_dau"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:b.ngay_bat_dau,"onUpdate:modelValue":l[3]||(l[3]=e=>b.ngay_bat_dau=e),type:"date",placeholder:"Ngày gia nhập",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Ngày kết thúc",prop:"ngay_ket_thuc"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:b.ngay_ket_thuc,"onUpdate:modelValue":l[4]||(l[4]=e=>b.ngay_ket_thuc=e),type:"date",placeholder:"Ngày kết thúc",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(q,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Phí thành viên",prop:"phi_thanh_vien"},{default:(0,n.k6)(()=>[(0,n.bF)(U,{modelValue:b.phi_thanh_vien,"onUpdate:modelValue":l[5]||(l[5]=e=>b.phi_thanh_vien=e),min:0,precision:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Đơn vị tiền tệ",prop:"don_vi_tien_te"},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:b.don_vi_tien_te,"onUpdate:modelValue":l[6]||(l[6]=e=>b.don_vi_tien_te=e),placeholder:"Chọn loại tiền",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"VND",value:"VND"}),(0,n.bF)(T,{label:"USD",value:"USD"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[M,e.loading]])}}}),g=l(6262);const p=(0,g.A)(r,[["__scopeId","data-v-97562bf4"]]);var s=p},1385:function(e,a,l){var n=l(9539);e.exports=function(e,a,l){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])try{l=n(e[t].iterator,a,l)}catch(i){a="throw",l=i}if("throw"===a)throw l;return l}},1526:function(e,a,l){var n=l(1114),t=l(4335);const i=window?.appGlobal?.baseUrl&&`${window.appGlobal.baseUrl}/api`,o=i||"http://192.168.88.50:5000/api";console.log("API Base URL:",o);class u{constructor(){(0,n.A)(this,"axiosInstance",void 0),this.axiosInstance=t.A.create({baseURL:o,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)))}get(e,a){return this.axiosInstance.get(e,a)}post(e,a,l){return this.axiosInstance.post(e,a,l)}put(e,a,l){return this.axiosInstance.put(e,a,l)}delete(e,a){return this.axiosInstance.delete(e,a)}patch(e,a,l){return this.axiosInstance.patch(e,a,l)}}a.A=new u},1851:function(e,a,l){l.d(a,{A:function(){return m}});l(4114);var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(6604),h=l(4353),d=l.n(h);const _={class:"orangehrm-experience"},c={class:"orangehrm-form-section"},r={class:"section-header"};var g=(0,n.pM)({__name:"EmployeeExperience",props:{employee:{},loading:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l=e,h=a,g=(0,n.KR)(),p=(0,n.KR)(!1),s=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(-1),v=(0,n.KR)([]),y=(0,n.Kh)({cong_ty:"",chuc_danh:"",ngay_bat_dau:"",ngay_ket_thuc:"",mo_ta:""}),k={cong_ty:[{required:!0,message:"Vui lòng nhập tên công ty",trigger:"blur"}],chuc_danh:[{required:!0,message:"Vui lòng nhập chức danh",trigger:"blur"}],ngay_bat_dau:[{required:!0,message:"Vui lòng chọn ngày bắt đầu",trigger:"change"}]};(0,n.wB)(()=>l.employee,e=>{v.value=e?.kinh_nghiem_lam_viec?[...e.kinh_nghiem_lam_viec]:[]},{immediate:!0,deep:!0});const f=e=>e?d()(e).format("DD/MM/YYYY"):"Hiện tại",F=()=>{b.value=-1,y.cong_ty="",y.chuc_danh="",y.ngay_bat_dau="",y.ngay_ket_thuc="",y.mo_ta="",m.value=!0},V=e=>{b.value=e;const a=v.value[e];y.cong_ty=a.cong_ty||"",y.chuc_danh=a.chuc_danh||"",y.ngay_bat_dau=a.ngay_bat_dau?d()(a.ngay_bat_dau).format("YYYY-MM-DD"):"",y.ngay_ket_thuc=a.ngay_ket_thuc?d()(a.ngay_ket_thuc).format("YYYY-MM-DD"):"",y.mo_ta=a.mo_ta||"",m.value=!0},w=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa kinh nghiệm làm việc này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...v.value];a.splice(e,1),s.value=!0,await u.A.update(l.employee._id,{kinh_nghiem_lam_viec:a}),o.nk.success("Xóa kinh nghiệm làm việc thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa kinh nghiệm")}finally{s.value=!1}},C=async()=>{if(g.value&&l.employee)try{const e=await g.value.validate();if(!e)return;s.value=!0;const a=[...v.value];-1===b.value?a.push({...y}):a[b.value]={...y},await u.A.update(l.employee._id,{kinh_nghiem_lam_viec:a}),o.nk.success(-1===b.value?"Thêm kinh nghiệm thành công":"Cập nhật kinh nghiệm thành công"),m.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thông tin")}finally{s.value=!1}};return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-table"),h=(0,n.g2)("el-empty"),d=(0,n.g2)("el-input"),x=(0,n.g2)("el-form-item"),T=(0,n.g2)("el-col"),Y=(0,n.g2)("el-row"),K=(0,n.g2)("el-date-picker"),R=(0,n.g2)("el-form"),q=(0,n.g2)("el-dialog"),U=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",c,[(0,n.Lk)("div",r,[l[8]||(l[8]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Kinh nghiệm làm việc",-1)),p.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(i,{key:0,type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:F},{default:(0,n.k6)(()=>[...l[7]||(l[7]=[(0,n.eW)(" Thêm kinh nghiệm ",-1)])]),_:1},8,["icon"]))]),v.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:v.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"cong_ty",label:"Công ty","min-width":"150"}),(0,n.bF)(o,{prop:"chuc_danh",label:"Chức danh","min-width":"120"}),(0,n.bF)(o,{label:"Từ ngày","min-width":"110"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(f(e.row.ngay_bat_dau)),1)]),_:1}),(0,n.bF)(o,{label:"Đến ngày","min-width":"110"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(f(e.row.ngay_ket_thuc)),1)]),_:1}),(0,n.bF)(o,{prop:"mo_ta",label:"Mô tả","min-width":"200","show-overflow-tooltip":""}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>V(e.$index)},{default:(0,n.k6)(()=>[...l[9]||(l[9]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>w(e.$index)},{default:(0,n.k6)(()=>[...l[10]||(l[10]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có kinh nghiệm làm việc","image-size":100}))]),(0,n.bF)(q,{modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=e=>m.value=e),title:-1===b.value?"Thêm kinh nghiệm làm việc":"Chỉnh sửa kinh nghiệm làm việc",width:"700px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[5]||(l[5]=e=>m.value=!1)},{default:(0,n.k6)(()=>[...l[11]||(l[11]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:s.value,onClick:C},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===b.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(R,{ref_key:"formRef",ref:g,model:y,rules:k,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(T,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Công ty",prop:"cong_ty",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(d,{modelValue:y.cong_ty,"onUpdate:modelValue":l[0]||(l[0]=e=>y.cong_ty=e),placeholder:"Tên công ty"},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(T,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Chức danh",prop:"chuc_danh",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(d,{modelValue:y.chuc_danh,"onUpdate:modelValue":l[1]||(l[1]=e=>y.chuc_danh=e),placeholder:"Vị trí công việc"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(Y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(T,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Từ ngày",prop:"ngay_bat_dau",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:y.ngay_bat_dau,"onUpdate:modelValue":l[2]||(l[2]=e=>y.ngay_bat_dau=e),type:"date",placeholder:"Chọn ngày",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(T,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Đến ngày",prop:"ngay_ket_thuc"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:y.ngay_ket_thuc,"onUpdate:modelValue":l[3]||(l[3]=e=>y.ngay_ket_thuc=e),type:"date",placeholder:"Chọn ngày (để trống nếu vẫn làm)",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(x,{label:"Mô tả công việc",prop:"mo_ta"},{default:(0,n.k6)(()=>[(0,n.bF)(d,{modelValue:y.mo_ta,"onUpdate:modelValue":l[4]||(l[4]=e=>y.mo_ta=e),type:"textarea",rows:4,placeholder:"Mô tả chi tiết về công việc, trách nhiệm, thành tích..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[U,e.loading]])}}}),p=l(6262);const s=(0,p.A)(g,[["__scopeId","data-v-6265b9ea"]]);var m=s},1910:function(e,a,l){l.d(a,{A:function(){return p}});var n=l(1431),t=l(8548),i=l(163),o=l(8487);const u={class:"orangehrm-personal-info"},h={class:"orangehrm-form-section"},d={class:"orangehrm-form-section"},_={class:"orangehrm-form-actions"};var c=(0,n.pM)({__name:"EmployeePersonalInfo",props:{employee:{},loading:{type:Boolean}},emits:["reload","request-submitted"],setup(e,{emit:a}){const l=e,c=a,r=(0,n.KR)(),g=(0,n.KR)(!1),p=(0,n.KR)(!1),s=(0,n.Kh)({ho_dem:"",ten:"",biet_danh:"",ma_nhan_vien:"",ngay_sinh:"",gioi_tinh:"",tinh_trang_hon_nhan:"",quoc_tich:"Việt Nam",so_cmnd:"",ngay_cap_cmnd:"",noi_cap_cmnd:"",so_ho_chieu:""}),m={ho_dem:[{required:!0,message:"Vui lòng nhập họ đệm",trigger:"blur"}],ten:[{required:!0,message:"Vui lòng nhập tên",trigger:"blur"}]};(0,n.wB)(()=>l.employee,e=>{e&&(s.ho_dem=e.ho_dem||"",s.ten=e.ten||"",s.biet_danh=e.biet_danh||"",s.ma_nhan_vien=e.ma_nhan_vien||"",s.ngay_sinh=e.ngay_sinh||"",s.gioi_tinh=e.gioi_tinh||"",s.tinh_trang_hon_nhan=e.tinh_trang_hon_nhan||"",s.quoc_tich=e.quoc_tich||"Việt Nam",s.so_cmnd=e.thong_tin_ca_nhan?.cmnd_cccd||"",s.ngay_cap_cmnd=e.thong_tin_ca_nhan?.ngay_cap_cmnd||"",s.noi_cap_cmnd=e.thong_tin_ca_nhan?.noi_cap_cmnd||"",s.so_ho_chieu=e.thong_tin_ca_nhan?.so_ho_chieu||"")},{immediate:!0});const b=async()=>{if(r.value&&l.employee){try{await r.value.validate()}catch{return}p.value=!0;try{const e=await o.A.create({type:"personal",payload:{ho_dem:s.ho_dem,ten:s.ten,biet_danh:s.biet_danh,ngay_sinh:s.ngay_sinh,gioi_tinh:s.gioi_tinh,tinh_trang_hon_nhan:s.tinh_trang_hon_nhan,quoc_tich:s.quoc_tich,so_cmnd:s.so_cmnd,thong_tin_ca_nhan:{cmnd_cccd:s.so_cmnd,ngay_cap_cmnd:s.ngay_cap_cmnd,noi_cap_cmnd:s.noi_cap_cmnd,so_ho_chieu:s.so_ho_chieu}}});i.nk.success("Da gui yeu cau cap nhat thong tin ca nhan, vui long cho HR phe duyet"),g.value=!1,c("request-submitted",{type:"personal",requestId:e?._id}),c("reload")}catch(e){console.error("Error creating personal info request:",e),i.nk.error(e.response?.data?.msg||"Không thể gửi yêu cầu cập nhật")}finally{p.value=!1}}},v=()=>{g.value=!1,l.employee&&(s.ho_dem=l.employee.ho_dem||"",s.ten=l.employee.ten||"",s.biet_danh=l.employee.biet_danh||"",s.ngay_sinh=l.employee.ngay_sinh||"",s.gioi_tinh=l.employee.gioi_tinh||"",s.tinh_trang_hon_nhan=l.employee.tinh_trang_hon_nhan||"",s.quoc_tich=l.employee.quoc_tich||"Việt Nam",s.so_cmnd=l.employee.so_cmnd||"",s.ngay_cap_cmnd=l.employee.ngay_cap_cmnd||"",s.noi_cap_cmnd=l.employee.noi_cap_cmnd||"",s.so_ho_chieu=l.employee.so_ho_chieu||"")};return(a,l)=>{const i=(0,n.g2)("el-input"),o=(0,n.g2)("el-form-item"),c=(0,n.g2)("el-col"),y=(0,n.g2)("el-row"),k=(0,n.g2)("el-date-picker"),f=(0,n.g2)("el-option"),F=(0,n.g2)("el-select"),V=(0,n.g2)("el-button"),w=(0,n.g2)("el-form"),C=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(w,{ref_key:"formRef",ref:r,model:s,rules:m,"label-width":"180px","label-position":"left"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",h,[l[13]||(l[13]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Thông tin cá nhân",-1)),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Họ đệm",prop:"ho_dem"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.ho_dem,"onUpdate:modelValue":l[0]||(l[0]=e=>s.ho_dem=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Tên",prop:"ten"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.ten,"onUpdate:modelValue":l[1]||(l[1]=e=>s.ten=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Biệt danh",prop:"biet_danh"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.biet_danh,"onUpdate:modelValue":l[2]||(l[2]=e=>s.biet_danh=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Mã nhân viên",prop:"ma_nhan_vien"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.ma_nhan_vien,"onUpdate:modelValue":l[3]||(l[3]=e=>s.ma_nhan_vien=e),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Ngày sinh",prop:"ngay_sinh"},{default:(0,n.k6)(()=>[(0,n.bF)(k,{modelValue:s.ngay_sinh,"onUpdate:modelValue":l[4]||(l[4]=e=>s.ngay_sinh=e),type:"date",placeholder:"Chọn ngày sinh",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",disabled:!g.value,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Giới tính",prop:"gioi_tinh"},{default:(0,n.k6)(()=>[(0,n.bF)(F,{modelValue:s.gioi_tinh,"onUpdate:modelValue":l[5]||(l[5]=e=>s.gioi_tinh=e),placeholder:"Chọn giới tính",disabled:!g.value,style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(f,{label:"Nam",value:"Nam"}),(0,n.bF)(f,{label:"Nữ",value:"Nữ"}),(0,n.bF)(f,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Tình trạng hôn nhân",prop:"tinh_trang_hon_nhan"},{default:(0,n.k6)(()=>[(0,n.bF)(F,{modelValue:s.tinh_trang_hon_nhan,"onUpdate:modelValue":l[6]||(l[6]=e=>s.tinh_trang_hon_nhan=e),placeholder:"Chọn tình trạng",disabled:!g.value,style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(f,{label:"Độc thân",value:"Độc thân"}),(0,n.bF)(f,{label:"Đã kết hôn",value:"Đã kết hôn"}),(0,n.bF)(f,{label:"Ly hôn",value:"Ly hôn"}),(0,n.bF)(f,{label:"Góa",value:"Góa"})]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Quốc tịch",prop:"quoc_tich"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.quoc_tich,"onUpdate:modelValue":l[7]||(l[7]=e=>s.quoc_tich=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",d,[l[14]||(l[14]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Giấy tờ tùy thân",-1)),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Số CMND/CCCD",prop:"so_cmnd"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.so_cmnd,"onUpdate:modelValue":l[8]||(l[8]=e=>s.so_cmnd=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Ngày cấp",prop:"ngay_cap_cmnd"},{default:(0,n.k6)(()=>[(0,n.bF)(k,{modelValue:s.ngay_cap_cmnd,"onUpdate:modelValue":l[9]||(l[9]=e=>s.ngay_cap_cmnd=e),type:"date",placeholder:"Chọn ngày cấp",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",disabled:!g.value,style:{width:"100%"}},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(y,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Nơi cấp",prop:"noi_cap_cmnd"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.noi_cap_cmnd,"onUpdate:modelValue":l[10]||(l[10]=e=>s.noi_cap_cmnd=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(c,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Số hộ chiếu",prop:"so_ho_chieu"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:s.so_ho_chieu,"onUpdate:modelValue":l[11]||(l[11]=e=>s.so_ho_chieu=e),disabled:!g.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",_,[g.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(V,{onClick:v},{default:(0,n.k6)(()=>[...l[16]||(l[16]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(V,{type:"primary",loading:p.value,onClick:b},{default:(0,n.k6)(()=>[...l[17]||(l[17]=[(0,n.eW)(" Lưu thay đổi ",-1)])]),_:1},8,["loading"])],64)):((0,n.uX)(),(0,n.Wv)(V,{key:0,type:"primary",icon:(0,n.R1)(t.Edit),onClick:l[12]||(l[12]=e=>g.value=!0)},{default:(0,n.k6)(()=>[...l[15]||(l[15]=[(0,n.eW)(" Chỉnh sửa ",-1)])]),_:1},8,["icon"]))])]),_:1},8,["model"])])),[[C,e.loading]])}}}),r=l(6262);const g=(0,r.A)(c,[["__scopeId","data-v-95ed7654"]]);var p=g},2489:function(e,a,l){var n=l(6518),t=l(9565),i=l(9306),o=l(8551),u=l(1767),h=l(9462),d=l(6319),_=l(6395),c=l(9539),r=l(684),g=l(4549),p=!_&&!r("filter",function(){}),s=!_&&!p&&g("filter",TypeError),m=_||p||s,b=h(function(){var e,a,l,n=this.iterator,i=this.predicate,u=this.next;while(1){if(e=o(t(u,n)),a=this.done=!!e.done,a)return;if(l=e.value,d(n,i,[l,this.counter++],!0))return l}});n({target:"Iterator",proto:!0,real:!0,forced:m},{filter:function(e){o(this);try{i(e)}catch(a){c(this,"throw",a)}return s?t(s,this,e):new b(u(this),{predicate:e})}})},2529:function(e){e.exports=function(e,a){return{value:e,done:a}}},2783:function(e,a,l){l.d(a,{A:function(){return v}});var n=l(1431),t=l(163),i=l(8548),o=l(6604);const u={class:"orangehrm-insurance-info"},h={class:"orangehrm-form-section"},d={class:"orangehrm-form-section"},_={class:"orangehrm-form-section"},c={class:"section-header"},r={class:"rate-panel"},g={class:"rate-panel"},p={key:1,class:"orangehrm-form-actions"};var s=(0,n.pM)({__name:"EmployeeInsuranceInfo",props:{employee:{},loading:{type:Boolean},readonly:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l={ti_le_bhxh_nv:8,ti_le_bhxh_dn:17.5,ti_le_bhyt_nv:1.5,ti_le_bhyt_dn:3,ti_le_bhtn_nv:1,ti_le_bhtn_dn:1},s=e,m=a,b=(0,n.KR)(),v=(0,n.KR)(!1),y=(0,n.EW)(()=>!!s.readonly),k=(0,n.Kh)({so_bhxh:"",so_bhyt:"",muc_luong_bhxh:null,muc_luong_bhyt:null,...l}),f={muc_luong_bhxh:[{type:"number",min:0,message:"Muc luong khong hop le"}],muc_luong_bhyt:[{type:"number",min:0,message:"Muc luong khong hop le"}]},F=e=>{if(null===e||void 0===e)return null;if("number"===typeof e)return e;if("string"===typeof e){const a=Number(e);return Number.isNaN(a)?null:a}if(e&&"object"===typeof e){const a=e.$numberDecimal??e.toString?.();if(void 0!==a){const e=Number(a);return Number.isNaN(e)?null:e}}return null},V=()=>{const e=s.employee?.bao_hiem||{};k.so_bhxh=e.so_bhxh||"",k.so_bhyt=e.so_bhyt||"",k.muc_luong_bhxh=F(e.muc_luong_bhxh),k.muc_luong_bhyt=F(e.muc_luong_bhyt),k.ti_le_bhxh_nv=e.ti_le_bhxh_nv??l.ti_le_bhxh_nv,k.ti_le_bhxh_dn=e.ti_le_bhxh_dn??l.ti_le_bhxh_dn,k.ti_le_bhyt_nv=e.ti_le_bhyt_nv??l.ti_le_bhyt_nv,k.ti_le_bhyt_dn=e.ti_le_bhyt_dn??l.ti_le_bhyt_dn,k.ti_le_bhtn_nv=e.ti_le_bhtn_nv??l.ti_le_bhtn_nv,k.ti_le_bhtn_dn=e.ti_le_bhtn_dn??l.ti_le_bhtn_dn};(0,n.wB)(()=>s.employee,()=>{V()},{immediate:!0});const w=()=>{k.ti_le_bhxh_nv=l.ti_le_bhxh_nv,k.ti_le_bhxh_dn=l.ti_le_bhxh_dn,k.ti_le_bhyt_nv=l.ti_le_bhyt_nv,k.ti_le_bhyt_dn=l.ti_le_bhyt_dn,k.ti_le_bhtn_nv=l.ti_le_bhtn_nv,k.ti_le_bhtn_dn=l.ti_le_bhtn_dn},C=()=>{V()},x=async()=>{!y.value&&s.employee&&b.value&&await b.value.validate(async e=>{if(e){v.value=!0;try{await o.A.update(s.employee._id,{bao_hiem:{...k}}),t.nk.success("Da luu thong tin BHXH"),m("reload")}catch(a){t.nk.error(a.response?.data?.msg||"Không thể lưu thông tin")}finally{v.value=!1}}})};return(a,l)=>{const t=(0,n.g2)("el-alert"),o=(0,n.g2)("el-input"),s=(0,n.g2)("el-form-item"),m=(0,n.g2)("el-col"),F=(0,n.g2)("el-row"),V=(0,n.g2)("el-input-number"),T=(0,n.g2)("el-button"),Y=(0,n.g2)("el-form"),K=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(Y,{ref_key:"formRef",ref:b,model:k,"label-width":"200px","label-position":"left",rules:f},{default:(0,n.k6)(()=>[y.value?((0,n.uX)(),(0,n.Wv)(t,{key:0,title:"Thong tin chi doc",description:"Ban chi xem duoc thong tin BHXH. Neu can chinh sua vui long lien he HR hoac gui yeu cau cap nhat.",type:"info","show-icon":"",class:"mb-lg"})):(0,n.Q3)("",!0),(0,n.Lk)("div",h,[l[10]||(l[10]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"So BHXH/BHYT",-1)),(0,n.bF)(F,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(s,{label:"So so BHXH",prop:"so_bhxh"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{modelValue:k.so_bhxh,"onUpdate:modelValue":l[0]||(l[0]=e=>k.so_bhxh=e),placeholder:"Vi du: 1234567890",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(s,{label:"So BHYT",prop:"so_bhyt"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{modelValue:k.so_bhyt,"onUpdate:modelValue":l[1]||(l[1]=e=>k.so_bhyt=e),placeholder:"Vi du: DN123456789",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",d,[l[11]||(l[11]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Muc luong dong BHXH/BHYT",-1)),(0,n.bF)(F,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(s,{label:"Luong dong BHXH",prop:"muc_luong_bhxh"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.muc_luong_bhxh,"onUpdate:modelValue":l[2]||(l[2]=e=>k.muc_luong_bhxh=e),min:0,step:5e4,"controls-position":"right",style:{width:"100%"},placeholder:"Vi du: 5000000",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(s,{label:"Luong dong BHYT",prop:"muc_luong_bhyt"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.muc_luong_bhyt,"onUpdate:modelValue":l[3]||(l[3]=e=>k.muc_luong_bhyt=e),min:0,step:5e4,"controls-position":"right",style:{width:"100%"},placeholder:"Vi du: 5000000",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",_,[(0,n.Lk)("div",c,[l[13]||(l[13]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Ty le dong (%)",-1)),y.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(T,{key:0,type:"default",size:"small",onClick:w},{default:(0,n.k6)(()=>[...l[12]||(l[12]=[(0,n.eW)(" Khoi phuc mac dinh ",-1)])]),_:1}))]),(0,n.bF)(F,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",r,[l[14]||(l[14]=(0,n.Lk)("h4",null,"Nguoi lao dong",-1)),(0,n.bF)(s,{label:"BHXH",prop:"ti_le_bhxh_nv"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhxh_nv,"onUpdate:modelValue":l[4]||(l[4]=e=>k.ti_le_bhxh_nv=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1}),(0,n.bF)(s,{label:"BHYT",prop:"ti_le_bhyt_nv"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhyt_nv,"onUpdate:modelValue":l[5]||(l[5]=e=>k.ti_le_bhyt_nv=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1}),(0,n.bF)(s,{label:"BHTN",prop:"ti_le_bhtn_nv"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhtn_nv,"onUpdate:modelValue":l[6]||(l[6]=e=>k.ti_le_bhtn_nv=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})])]),_:1}),(0,n.bF)(m,{span:12},{default:(0,n.k6)(()=>[(0,n.Lk)("div",g,[l[15]||(l[15]=(0,n.Lk)("h4",null,"Doanh nghiep",-1)),(0,n.bF)(s,{label:"BHXH",prop:"ti_le_bhxh_dn"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhxh_dn,"onUpdate:modelValue":l[7]||(l[7]=e=>k.ti_le_bhxh_dn=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1}),(0,n.bF)(s,{label:"BHYT",prop:"ti_le_bhyt_dn"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhyt_dn,"onUpdate:modelValue":l[8]||(l[8]=e=>k.ti_le_bhyt_dn=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1}),(0,n.bF)(s,{label:"BHTN",prop:"ti_le_bhtn_dn"},{default:(0,n.k6)(()=>[(0,n.bF)(V,{modelValue:k.ti_le_bhtn_dn,"onUpdate:modelValue":l[9]||(l[9]=e=>k.ti_le_bhtn_dn=e),min:0,max:50,step:.1,"controls-position":"right",disabled:y.value},null,8,["modelValue","disabled"])]),_:1})])]),_:1})]),_:1})]),y.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(T,{onClick:C,icon:(0,n.R1)(i.Refresh)},{default:(0,n.k6)(()=>[...l[16]||(l[16]=[(0,n.eW)("Dat lai",-1)])]),_:1},8,["icon"]),(0,n.bF)(T,{type:"primary",loading:v.value,onClick:x},{default:(0,n.k6)(()=>[...l[17]||(l[17]=[(0,n.eW)(" Luu thong tin ",-1)])]),_:1},8,["loading"])]))]),_:1},8,["model"])])),[[K,e.loading]])}}}),m=l(6262);const b=(0,m.A)(s,[["__scopeId","data-v-35156a20"]]);var v=b},2831:function(e,a,l){l.d(a,{A:function(){return s}});var n=l(1431),t=l(8548),i=l(163),o=l(8487);const u={class:"orangehrm-contact-info"},h={class:"orangehrm-form-section"},d={class:"orangehrm-form-section"},_={class:"orangehrm-form-section"},c={class:"orangehrm-form-actions"};var r=(0,n.pM)({__name:"EmployeeContactInfo",props:{employee:{},loading:{type:Boolean}},emits:["reload","request-submitted"],setup(e,{emit:a}){const l=e,r=a,g=(0,n.KR)(),p=(0,n.KR)(!1),s=(0,n.KR)(!1),m=(0,n.Kh)({dia_chi:{duong_so_1:"",duong_so_2:"",thanh_pho:"",tinh_thanh:"",ma_buu_dien:"",quoc_gia:"Việt Nam"},lien_he:{dien_thoai_nha:"",di_dong:"",dien_thoai_cong_viec:"",email_cong_viec:"",email_khac:""}}),b={"lien_he.email_cong_viec":[{type:"email",message:"Email không hợp lệ",trigger:"blur"}],"lien_he.email_khac":[{type:"email",message:"Email không hợp lệ",trigger:"blur"}]};(0,n.wB)(()=>l.employee,e=>{e&&(e.dia_chi&&(m.dia_chi={duong_so_1:e.dia_chi.duong_so_1||"",duong_so_2:e.dia_chi.duong_so_2||"",thanh_pho:e.dia_chi.thanh_pho||"",tinh_thanh:e.dia_chi.tinh_thanh||"",ma_buu_dien:e.dia_chi.ma_buu_dien||"",quoc_gia:e.dia_chi.quoc_gia||"Việt Nam"}),e.lien_he&&(m.lien_he={dien_thoai_nha:e.lien_he.dien_thoai_nha||"",di_dong:e.lien_he.di_dong||"",dien_thoai_cong_viec:e.lien_he.dien_thoai_cong_viec||"",email_cong_viec:e.lien_he.email_cong_viec||"",email_khac:e.lien_he.email_khac||""}))},{immediate:!0,deep:!0});const v=async()=>{if(l.employee&&g.value){try{await g.value.validate()}catch{return}s.value=!0;try{const e=await o.A.create({type:"contact",payload:{dia_chi:{...m.dia_chi},lien_he:{...m.lien_he}}});i.nk.success("Da gui yeu cau cap nhat thong tin lien he, vui long cho HR phe duyet"),p.value=!1,r("request-submitted",{type:"contact",requestId:e?._id}),r("reload")}catch(e){i.nk.error(e.response?.data?.msg||"Không thể gửi yêu cầu cập nhật")}finally{s.value=!1}}},y=()=>{p.value=!1,l.employee&&(l.employee.dia_chi&&(m.dia_chi={...l.employee.dia_chi}),l.employee.lien_he&&(m.lien_he={...l.employee.lien_he}))};return(a,l)=>{const i=(0,n.g2)("el-input"),o=(0,n.g2)("el-form-item"),r=(0,n.g2)("el-col"),k=(0,n.g2)("el-row"),f=(0,n.g2)("el-button"),F=(0,n.g2)("el-form"),V=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(F,{ref_key:"formRef",ref:g,model:m,rules:b,"label-width":"180px","label-position":"left"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",h,[l[12]||(l[12]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Địa chỉ",-1)),(0,n.bF)(k,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Đường 1",prop:"dia_chi.duong_so_1"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.duong_so_1,"onUpdate:modelValue":l[0]||(l[0]=e=>m.dia_chi.duong_so_1=e),disabled:!p.value,placeholder:"Số nhà, tên đường"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Đường 2",prop:"dia_chi.duong_so_2"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.duong_so_2,"onUpdate:modelValue":l[1]||(l[1]=e=>m.dia_chi.duong_so_2=e),disabled:!p.value,placeholder:"Số nhà, tên đường (tiếp)"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(k,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Thành phố",prop:"dia_chi.thanh_pho"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.thanh_pho,"onUpdate:modelValue":l[2]||(l[2]=e=>m.dia_chi.thanh_pho=e),disabled:!p.value,placeholder:"TP.HCM"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Tỉnh/Thành",prop:"dia_chi.tinh_thanh"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.tinh_thanh,"onUpdate:modelValue":l[3]||(l[3]=e=>m.dia_chi.tinh_thanh=e),disabled:!p.value,placeholder:"Hồ Chí Minh"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(k,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Mã bưu điện",prop:"dia_chi.ma_buu_dien"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.ma_buu_dien,"onUpdate:modelValue":l[4]||(l[4]=e=>m.dia_chi.ma_buu_dien=e),disabled:!p.value,placeholder:"700000"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Quốc gia",prop:"dia_chi.quoc_gia"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.dia_chi.quoc_gia,"onUpdate:modelValue":l[5]||(l[5]=e=>m.dia_chi.quoc_gia=e),disabled:!p.value,placeholder:"Việt Nam"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",d,[l[13]||(l[13]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Điện thoại",-1)),(0,n.bF)(k,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(r,{span:8},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Điện thoại nhà",prop:"lien_he.dien_thoai_nha"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.lien_he.dien_thoai_nha,"onUpdate:modelValue":l[6]||(l[6]=e=>m.lien_he.dien_thoai_nha=e),disabled:!p.value,placeholder:"028-12345678"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:8},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Di động",prop:"lien_he.di_dong"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.lien_he.di_dong,"onUpdate:modelValue":l[7]||(l[7]=e=>m.lien_he.di_dong=e),disabled:!p.value,placeholder:"0901234567"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:8},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Điện thoại công việc",prop:"lien_he.dien_thoai_cong_viec"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.lien_he.dien_thoai_cong_viec,"onUpdate:modelValue":l[8]||(l[8]=e=>m.lien_he.dien_thoai_cong_viec=e),disabled:!p.value,placeholder:"028-87654321"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",_,[l[14]||(l[14]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Email",-1)),(0,n.bF)(k,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Email công việc",prop:"lien_he.email_cong_viec"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.lien_he.email_cong_viec,"onUpdate:modelValue":l[9]||(l[9]=e=>m.lien_he.email_cong_viec=e),disabled:!p.value,type:"email",placeholder:"name@company.com"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,n.bF)(r,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(o,{label:"Email khác",prop:"lien_he.email_khac"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{modelValue:m.lien_he.email_khac,"onUpdate:modelValue":l[10]||(l[10]=e=>m.lien_he.email_khac=e),disabled:!p.value,type:"email",placeholder:"name@personal.com"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),(0,n.Lk)("div",c,[p.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(f,{onClick:y},{default:(0,n.k6)(()=>[...l[16]||(l[16]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(f,{type:"primary",loading:s.value,onClick:v},{default:(0,n.k6)(()=>[...l[17]||(l[17]=[(0,n.eW)(" Lưu thay đổi ",-1)])]),_:1},8,["loading"])],64)):((0,n.uX)(),(0,n.Wv)(f,{key:0,type:"primary",icon:(0,n.R1)(t.Edit),onClick:l[11]||(l[11]=e=>p.value=!0)},{default:(0,n.k6)(()=>[...l[15]||(l[15]=[(0,n.eW)(" Chỉnh sửa ",-1)])]),_:1},8,["icon"]))])]),_:1},8,["model"])])),[[V,e.loading]])}}}),g=l(6262);const p=(0,g.A)(r,[["__scopeId","data-v-30bb4f70"]]);var s=p},3405:function(e,a,l){l.d(a,{A:function(){return s}});l(4114);var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(6604),h=l(4353),d=l.n(h);const _={class:"orangehrm-immigration"},c={class:"section-header"};var r=(0,n.pM)({__name:"EmployeeImmigration",props:{employee:{},loading:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l=e,h=a,r=(0,n.KR)(!1),g=(0,n.KR)(),p=(0,n.KR)(-1),s=(0,n.KR)(!1),m=(0,n.KR)([]),b=(0,n.Kh)({loai_giay_to:"",so_giay_to:"",ngay_cap:"",ngay_het_han:"",quoc_gia_cap:"",trang_thai:"",ghi_chu:""}),v={loai_giay_to:[{required:!0,message:"Vui lòng chọn loại giấy tờ",trigger:"change"}],so_giay_to:[{required:!0,message:"Vui lòng nhập số giấy tờ",trigger:"blur"}],trang_thai:[{required:!0,message:"Vui lòng chọn trạng thái",trigger:"change"}]};(0,n.wB)(()=>l.employee,e=>{m.value=e?[...e.xuat_nhap_canh||[]]:[]},{immediate:!0,deep:!0});const y=()=>{p.value=-1,b.loai_giay_to="",b.so_giay_to="",b.ngay_cap="",b.ngay_het_han="",b.quoc_gia_cap="Việt Nam",b.trang_thai="",b.ghi_chu="",r.value=!0},k=e=>{p.value=e;const a=m.value[e];b.loai_giay_to=a.loai_giay_to||"",b.so_giay_to=a.so_giay_to||"",b.ngay_cap=a.ngay_cap||"",b.ngay_het_han=a.ngay_het_han||"",b.quoc_gia_cap=a.quoc_gia_cap||"",b.trang_thai=a.trang_thai||"",b.ghi_chu=a.ghi_chu||"",r.value=!0},f=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa giấy tờ này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...m.value];a.splice(e,1),s.value=!0,await u.A.update(l.employee._id,{xuat_nhap_canh:a}),o.nk.success("Xóa giấy tờ thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa giấy tờ")}finally{s.value=!1}},F=async()=>{if(g.value&&l.employee)try{const e=await g.value.validate();if(!e)return;s.value=!0;const a=[...m.value];-1===p.value?a.push({...b}):a[p.value]={...b},await u.A.update(l.employee._id,{xuat_nhap_canh:a}),o.nk.success(-1===p.value?"Thêm giấy tờ thành công":"Cập nhật giấy tờ thành công"),r.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu giấy tờ")}finally{s.value=!1}},V=e=>e?d()(e).format("DD/MM/YYYY"):"",w=e=>{const a={"Còn hiệu lực":"success","Hết hạn":"danger","Đang xử lý":"warning"};return a[e]||""};return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-tag"),h=(0,n.g2)("el-table"),d=(0,n.g2)("el-empty"),C=(0,n.g2)("el-option"),x=(0,n.g2)("el-select"),T=(0,n.g2)("el-form-item"),Y=(0,n.g2)("el-input"),K=(0,n.g2)("el-date-picker"),R=(0,n.g2)("el-col"),q=(0,n.g2)("el-row"),U=(0,n.g2)("el-form"),D=(0,n.g2)("el-dialog"),W=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",c,[l[10]||(l[10]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Thông tin xuất nhập cảnh",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:y},{default:(0,n.k6)(()=>[...l[9]||(l[9]=[(0,n.eW)(" Thêm giấy tờ ",-1)])]),_:1},8,["icon"])]),m.value.length>0?((0,n.uX)(),(0,n.Wv)(h,{key:0,data:m.value,border:"",class:"orangehrm-table"},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"loai_giay_to",label:"Loại giấy tờ","min-width":"150"}),(0,n.bF)(o,{prop:"so_giay_to",label:"Số giấy tờ","min-width":"150"}),(0,n.bF)(o,{label:"Ngày cấp",width:"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(V(e.row.ngay_cap)),1)]),_:1}),(0,n.bF)(o,{label:"Ngày hết hạn",width:"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(V(e.row.ngay_het_han)),1)]),_:1}),(0,n.bF)(o,{prop:"quoc_gia_cap",label:"Quốc gia cấp",width:"130"}),(0,n.bF)(o,{label:"Trạng thái",width:"130"},{default:(0,n.k6)(e=>[(0,n.bF)(u,{type:w(e.row.trang_thai)},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.row.trang_thai),1)]),_:2},1032,["type"])]),_:1}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>k(e.$index)},{default:(0,n.k6)(()=>[...l[11]||(l[11]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>f(e.$index)},{default:(0,n.k6)(()=>[...l[12]||(l[12]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(d,{key:1,description:"Chưa có thông tin xuất nhập cảnh","image-size":100})),(0,n.bF)(D,{modelValue:r.value,"onUpdate:modelValue":l[8]||(l[8]=e=>r.value=e),title:-1===p.value?"Thêm giấy tờ":"Chỉnh sửa giấy tờ",width:"650px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[7]||(l[7]=e=>r.value=!1)},{default:(0,n.k6)(()=>[...l[13]||(l[13]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:s.value,onClick:F},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===p.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(U,{ref_key:"formRef",ref:g,model:b,rules:v,"label-width":"150px"},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"Loại giấy tờ",prop:"loai_giay_to",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(x,{modelValue:b.loai_giay_to,"onUpdate:modelValue":l[0]||(l[0]=e=>b.loai_giay_to=e),placeholder:"Chọn loại giấy tờ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(C,{label:"Hộ chiếu",value:"Hộ chiếu"}),(0,n.bF)(C,{label:"Visa",value:"Visa"}),(0,n.bF)(C,{label:"Thẻ xanh (Green Card)",value:"Thẻ xanh"}),(0,n.bF)(C,{label:"Giấy phép lao động",value:"Giấy phép lao động"}),(0,n.bF)(C,{label:"Giấy phép cư trú",value:"Giấy phép cư trú"}),(0,n.bF)(C,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(T,{label:"Số giấy tờ",prop:"so_giay_to",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:b.so_giay_to,"onUpdate:modelValue":l[1]||(l[1]=e=>b.so_giay_to=e),placeholder:"Số hộ chiếu/visa/giấy phép"},null,8,["modelValue"])]),_:1}),(0,n.bF)(q,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"Ngày cấp",prop:"ngay_cap"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:b.ngay_cap,"onUpdate:modelValue":l[2]||(l[2]=e=>b.ngay_cap=e),type:"date",placeholder:"Chọn ngày cấp",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(R,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"Ngày hết hạn",prop:"ngay_het_han"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:b.ngay_het_han,"onUpdate:modelValue":l[3]||(l[3]=e=>b.ngay_het_han=e),type:"date",placeholder:"Chọn ngày hết hạn",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(T,{label:"Quốc gia cấp",prop:"quoc_gia_cap"},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:b.quoc_gia_cap,"onUpdate:modelValue":l[4]||(l[4]=e=>b.quoc_gia_cap=e),placeholder:"Ví dụ: Việt Nam, USA, Singapore"},null,8,["modelValue"])]),_:1}),(0,n.bF)(T,{label:"Trạng thái",prop:"trang_thai",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(x,{modelValue:b.trang_thai,"onUpdate:modelValue":l[5]||(l[5]=e=>b.trang_thai=e),placeholder:"Chọn trạng thái",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(C,{label:"Còn hiệu lực",value:"Còn hiệu lực"}),(0,n.bF)(C,{label:"Hết hạn",value:"Hết hạn"}),(0,n.bF)(C,{label:"Đang xử lý",value:"Đang xử lý"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(T,{label:"Ghi chú",prop:"ghi_chu"},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:b.ghi_chu,"onUpdate:modelValue":l[6]||(l[6]=e=>b.ghi_chu=e),type:"textarea",rows:3,placeholder:"Ghi chú thêm"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[W,e.loading]])}}}),g=l(6262);const p=(0,g.A)(r,[["__scopeId","data-v-254c7b5d"]]);var s=p},4114:function(e,a,l){var n=l(6518),t=l(8981),i=l(6198),o=l(4527),u=l(6837),h=l(9039),d=h(function(){return 4294967297!==[].push.call({length:4294967296},1)}),_=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},c=d||!_();n({target:"Array",proto:!0,arity:1,forced:c},{push:function(e){var a=t(this),l=i(a),n=arguments.length;u(l+n);for(var h=0;h<n;h++)a[l]=arguments[h],l++;return o(a,l),l}})},4376:function(e,a,l){var n=l(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4527:function(e,a,l){var n=l(3724),t=l(4376),i=TypeError,o=Object.getOwnPropertyDescriptor,u=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,a){if(t(e)&&!o(e,"length").writable)throw new i("Cannot set read only .length");return e.length=a}:function(e,a){return e.length=a}},5086:function(e,a,l){var n=l(1526);class t{async uploadEmployeePhoto(e,a){const l=new FormData;l.append("file",a);const t=await n.A.post(`/upload/nhanvien/${e}/photo`,l,{headers:{"Content-Type":"multipart/form-data"}});return t.data}async listFiles(e,a){const l=await n.A.get("/upload/files",{params:{owner_type:e,owner_id:a}});return l.data}async deleteFile(e){await n.A.delete(`/upload/files/${e}`)}getFileUrl(e){const a=e.replace(/^\/uploads\//,"").replace(/^uploads[\/\\]/,""),l="http://localhost:5000";return`${l}/uploads/${a}`}}a.A=new t},6279:function(e,a,l){var n=l(6840);e.exports=function(e,a,l){for(var t in a)n(e,t,a[t],l);return e}},6319:function(e,a,l){var n=l(8551),t=l(9539);e.exports=function(e,a,l,i){try{return i?a(n(l)[0],l[1]):a(l)}catch(o){t(e,"throw",o)}}},6604:function(e,a,l){var n=l(1114),t=l(1526);class i{constructor(){(0,n.A)(this,"BASE_URL","/nhanvien")}async getAll(e){const a=await t.A.get(this.BASE_URL,{params:e});return a.data}async getById(e){const a=await t.A.get(`${this.BASE_URL}/${e}`);return a.data}async create(e){const a=await t.A.post(this.BASE_URL,e);return a.data}async update(e,a){const l=await t.A.put(`${this.BASE_URL}/${e}`,a);return l.data}async delete(e){await t.A.delete(`${this.BASE_URL}/${e}`)}}a.A=new i},6837:function(e){var a=TypeError,l=9007199254740991;e.exports=function(e){if(e>l)throw a("Maximum allowed index exceeded");return e}},7340:function(e,a,l){l.d(a,{A:function(){return v}});l(4114);var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(6604),h=l(4353),d=l.n(h);const _={class:"orangehrm-qualifications"},c={class:"section-header"},r={class:"section-header"},g={class:"section-header"},p={class:"section-header"};var s=(0,n.pM)({__name:"EmployeeQualifications",props:{employee:{},loading:{type:Boolean}},emits:["reload"],setup(e,{emit:a}){const l=e,h=a,s=(0,n.KR)("education"),m=(0,n.KR)(!1),b=(0,n.KR)(!1),v=(0,n.KR)(),y=(0,n.KR)(-1),k=(0,n.KR)([]),f=(0,n.Kh)({truong:"",bang_cap:"",chuyen_nganh:"",nam_bat_dau:(new Date).getFullYear(),nam_ket_thuc:null,diem_gpa:""}),F={truong:[{required:!0,message:"Vui lòng nhập tên trường",trigger:"blur"}],bang_cap:[{required:!0,message:"Vui lòng chọn bằng cấp",trigger:"change"}],nam_bat_dau:[{required:!0,message:"Vui lòng nhập năm bắt đầu",trigger:"blur"}]},V=(0,n.KR)(!1),w=(0,n.KR)(),C=(0,n.KR)(-1),x=(0,n.KR)([]),T=(0,n.Kh)({ten_ky_nang:"",trinh_do:"",nam_kinh_nghiem:0,ghi_chu:""}),Y={ten_ky_nang:[{required:!0,message:"Vui lòng nhập tên kỹ năng",trigger:"blur"}],trinh_do:[{required:!0,message:"Vui lòng chọn trình độ",trigger:"change"}]},K=(0,n.KR)(!1),R=(0,n.KR)(),q=(0,n.KR)(-1),U=(0,n.KR)([]),D=(0,n.Kh)({ngon_ngu:"",trinh_do:"",chung_chi:"",diem_so:"",ghi_chu:""}),W={ngon_ngu:[{required:!0,message:"Vui lòng chọn ngôn ngữ",trigger:"change"}],trinh_do:[{required:!0,message:"Vui lòng chọn trình độ",trigger:"change"}]},M=(0,n.KR)(!1),A=(0,n.KR)(),B=(0,n.KR)(-1),H=(0,n.KR)([]),L=(0,n.Kh)({loai_giay_phep:"",so_giay_phep:"",ngay_cap:"",ngay_het_han:"",noi_cap:""}),N={loai_giay_phep:[{required:!0,message:"Vui lòng chọn loại giấy phép",trigger:"change"}],so_giay_phep:[{required:!0,message:"Vui lòng nhập số giấy phép",trigger:"blur"}]};(0,n.wB)(()=>l.employee,e=>{e?(k.value=[...e.hoc_van||[]],x.value=[...e.ky_nang||[]],U.value=[...e.ngoai_ngu||[]],H.value=[...e.giay_phep||[]]):(k.value=[],x.value=[],U.value=[],H.value=[])},{immediate:!0,deep:!0});const X=()=>{y.value=-1,f.truong="",f.bang_cap="",f.chuyen_nganh="",f.nam_bat_dau=(new Date).getFullYear(),f.nam_ket_thuc=null,f.diem_gpa="",b.value=!0},E=e=>{y.value=e;const a=k.value[e];f.truong=a.truong||"",f.bang_cap=a.bang_cap||"",f.chuyen_nganh=a.chuyen_nganh||"",f.nam_bat_dau=a.nam_bat_dau||(new Date).getFullYear(),f.nam_ket_thuc=a.nam_ket_thuc||null,f.diem_gpa=a.diem_gpa||"",b.value=!0},S=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin học vấn này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...k.value];a.splice(e,1),m.value=!0,await u.A.update(l.employee._id,{hoc_van:a}),o.nk.success("Xóa thông tin học vấn thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa thông tin học vấn")}finally{m.value=!1}},I=async()=>{if(v.value&&l.employee)try{const e=await v.value.validate();if(!e)return;m.value=!0;const a=[...k.value];-1===y.value?a.push({...f}):a[y.value]={...f},await u.A.update(l.employee._id,{hoc_van:a}),o.nk.success(-1===y.value?"Thêm thông tin học vấn thành công":"Cập nhật thông tin học vấn thành công"),b.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thông tin học vấn")}finally{m.value=!1}},z=()=>{C.value=-1,T.ten_ky_nang="",T.trinh_do="",T.nam_kinh_nghiem=0,T.ghi_chu="",V.value=!0},$=e=>{C.value=e;const a=x.value[e];T.ten_ky_nang=a.ten_ky_nang||"",T.trinh_do=a.trinh_do||"",T.nam_kinh_nghiem=a.nam_kinh_nghiem||0,T.ghi_chu=a.ghi_chu||"",V.value=!0},P=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin kỹ năng này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...x.value];a.splice(e,1),m.value=!0,await u.A.update(l.employee._id,{ky_nang:a}),o.nk.success("Xóa thông tin kỹ năng thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa thông tin kỹ năng")}finally{m.value=!1}},G=async()=>{if(w.value&&l.employee)try{const e=await w.value.validate();if(!e)return;m.value=!0;const a=[...x.value];-1===C.value?a.push({...T}):a[C.value]={...T},await u.A.update(l.employee._id,{ky_nang:a}),o.nk.success(-1===C.value?"Thêm thông tin kỹ năng thành công":"Cập nhật thông tin kỹ năng thành công"),V.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thông tin kỹ năng")}finally{m.value=!1}},O=()=>{q.value=-1,D.ngon_ngu="",D.trinh_do="",D.chung_chi="",D.diem_so="",D.ghi_chu="",K.value=!0},Q=e=>{q.value=e;const a=U.value[e];D.ngon_ngu=a.ngon_ngu||"",D.trinh_do=a.trinh_do||"",D.chung_chi=a.chung_chi||"",D.diem_so=a.diem_so||"",D.ghi_chu=a.ghi_chu||"",K.value=!0},j=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin ngoại ngữ này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...U.value];a.splice(e,1),m.value=!0,await u.A.update(l.employee._id,{ngoai_ngu:a}),o.nk.success("Xóa thông tin ngoại ngữ thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa thông tin ngoại ngữ")}finally{m.value=!1}},J=async()=>{if(R.value&&l.employee)try{const e=await R.value.validate();if(!e)return;m.value=!0;const a=[...U.value];-1===q.value?a.push({...D}):a[q.value]={...D},await u.A.update(l.employee._id,{ngoai_ngu:a}),o.nk.success(-1===q.value?"Thêm thông tin ngoại ngữ thành công":"Cập nhật thông tin ngoại ngữ thành công"),K.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thông tin ngoại ngữ")}finally{m.value=!1}},Z=()=>{B.value=-1,L.loai_giay_phep="",L.so_giay_phep="",L.ngay_cap="",L.ngay_het_han="",L.noi_cap="",M.value=!0},ee=e=>{B.value=e;const a=H.value[e];L.loai_giay_phep=a.loai_giay_phep||"",L.so_giay_phep=a.so_giay_phep||"",L.ngay_cap=a.ngay_cap||"",L.ngay_het_han=a.ngay_het_han||"",L.noi_cap=a.noi_cap||"",M.value=!0},ae=async e=>{try{await i.s.confirm("Bạn có chắc chắn muốn xóa thông tin giấy phép này?","Xác nhận xóa",{confirmButtonText:"Xóa",cancelButtonText:"Hủy",type:"warning"});const a=[...H.value];a.splice(e,1),m.value=!0,await u.A.update(l.employee._id,{giay_phep:a}),o.nk.success("Xóa thông tin giấy phép thành công"),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể xóa thông tin giấy phép")}finally{m.value=!1}},le=async()=>{if(A.value&&l.employee)try{const e=await A.value.validate();if(!e)return;m.value=!0;const a=[...H.value];-1===B.value?a.push({...L}):a[B.value]={...L},await u.A.update(l.employee._id,{giay_phep:a}),o.nk.success(-1===B.value?"Thêm thông tin giấy phép thành công":"Cập nhật thông tin giấy phép thành công"),M.value=!1,h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể lưu thông tin giấy phép")}finally{m.value=!1}},ne=e=>{const a={"Cơ bản":"info","Trung bình":"","Khá":"success","Giỏi":"warning","Chuyên gia":"danger"};return a[e]||""},te=e=>e?d()(e).format("DD/MM/YYYY"):"";return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-table"),h=(0,n.g2)("el-empty"),d=(0,n.g2)("el-tab-pane"),ie=(0,n.g2)("el-tag"),oe=(0,n.g2)("el-tabs"),ue=(0,n.g2)("el-input"),he=(0,n.g2)("el-form-item"),de=(0,n.g2)("el-option"),_e=(0,n.g2)("el-select"),ce=(0,n.g2)("el-input-number"),re=(0,n.g2)("el-col"),ge=(0,n.g2)("el-row"),pe=(0,n.g2)("el-form"),se=(0,n.g2)("el-dialog"),me=(0,n.g2)("el-date-picker"),be=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,n.bF)(oe,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),type:"border-card"},{default:(0,n.k6)(()=>[(0,n.bF)(d,{label:"Học vấn",name:"education"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",c,[l[30]||(l[30]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Trình độ học vấn",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:X},{default:(0,n.k6)(()=>[...l[29]||(l[29]=[(0,n.eW)(" Thêm học vấn ",-1)])]),_:1},8,["icon"])]),k.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:k.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"truong",label:"Trường","min-width":"200"}),(0,n.bF)(o,{prop:"bang_cap",label:"Bằng cấp","min-width":"120"}),(0,n.bF)(o,{prop:"chuyen_nganh",label:"Chuyên ngành","min-width":"150"}),(0,n.bF)(o,{label:"Năm","min-width":"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(e.row.nam_bat_dau)+" - "+(0,n.v_)(e.row.nam_ket_thuc||"Hiện tại"),1)]),_:1}),(0,n.bF)(o,{prop:"diem_gpa",label:"GPA",width:"80"}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>E(e.$index)},{default:(0,n.k6)(()=>[...l[31]||(l[31]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>S(e.$index)},{default:(0,n.k6)(()=>[...l[32]||(l[32]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có thông tin học vấn","image-size":100}))]),_:1}),(0,n.bF)(d,{label:"Kỹ năng",name:"skills"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",r,[l[34]||(l[34]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Kỹ năng chuyên môn",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:z},{default:(0,n.k6)(()=>[...l[33]||(l[33]=[(0,n.eW)(" Thêm kỹ năng ",-1)])]),_:1},8,["icon"])]),x.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:x.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"ten_ky_nang",label:"Tên kỹ năng","min-width":"200"}),(0,n.bF)(o,{label:"Trình độ",width:"120"},{default:(0,n.k6)(e=>[(0,n.bF)(ie,{type:ne(e.row.trinh_do)},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.row.trinh_do),1)]),_:2},1032,["type"])]),_:1}),(0,n.bF)(o,{prop:"nam_kinh_nghiem",label:"Kinh nghiệm",width:"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(e.row.nam_kinh_nghiem)+" năm ",1)]),_:1}),(0,n.bF)(o,{prop:"ghi_chu",label:"Ghi chú","min-width":"200","show-overflow-tooltip":""}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>$(e.$index)},{default:(0,n.k6)(()=>[...l[35]||(l[35]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>P(e.$index)},{default:(0,n.k6)(()=>[...l[36]||(l[36]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có thông tin kỹ năng","image-size":100}))]),_:1}),(0,n.bF)(d,{label:"Ngoại ngữ",name:"languages"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",g,[l[38]||(l[38]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Trình độ ngoại ngữ",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:O},{default:(0,n.k6)(()=>[...l[37]||(l[37]=[(0,n.eW)(" Thêm ngoại ngữ ",-1)])]),_:1},8,["icon"])]),U.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:U.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"ngon_ngu",label:"Ngôn ngữ","min-width":"150"}),(0,n.bF)(o,{label:"Trình độ",width:"100"},{default:(0,n.k6)(e=>[(0,n.bF)(ie,{type:"success"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(e.row.trinh_do),1)]),_:2},1024)]),_:1}),(0,n.bF)(o,{prop:"chung_chi",label:"Chứng chỉ","min-width":"120"}),(0,n.bF)(o,{prop:"diem_so",label:"Điểm số",width:"100"}),(0,n.bF)(o,{prop:"ghi_chu",label:"Ghi chú","min-width":"200","show-overflow-tooltip":""}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>Q(e.$index)},{default:(0,n.k6)(()=>[...l[39]||(l[39]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>j(e.$index)},{default:(0,n.k6)(()=>[...l[40]||(l[40]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có thông tin ngoại ngữ","image-size":100}))]),_:1}),(0,n.bF)(d,{label:"Giấy phép",name:"licenses"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",p,[l[42]||(l[42]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Giấy phép & Chứng chỉ",-1)),(0,n.bF)(i,{type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:Z},{default:(0,n.k6)(()=>[...l[41]||(l[41]=[(0,n.eW)(" Thêm giấy phép ",-1)])]),_:1},8,["icon"])]),H.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:H.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"loai_giay_phep",label:"Loại giấy phép","min-width":"200"}),(0,n.bF)(o,{prop:"so_giay_phep",label:"Số giấy phép","min-width":"150"}),(0,n.bF)(o,{label:"Ngày cấp",width:"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(te(e.row.ngay_cap)),1)]),_:1}),(0,n.bF)(o,{label:"Ngày hết hạn",width:"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(te(e.row.ngay_het_han)),1)]),_:1}),(0,n.bF)(o,{prop:"noi_cap",label:"Nơi cấp","min-width":"150"}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>ee(e.$index)},{default:(0,n.k6)(()=>[...l[43]||(l[43]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>ae(e.$index)},{default:(0,n.k6)(()=>[...l[44]||(l[44]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có thông tin giấy phép","image-size":100}))]),_:1})]),_:1},8,["modelValue"]),(0,n.bF)(se,{modelValue:b.value,"onUpdate:modelValue":l[8]||(l[8]=e=>b.value=e),title:-1===y.value?"Thêm học vấn":"Chỉnh sửa học vấn",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[7]||(l[7]=e=>b.value=!1)},{default:(0,n.k6)(()=>[...l[45]||(l[45]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:m.value,onClick:I},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===y.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(pe,{ref_key:"educationFormRef",ref:v,model:f,rules:F,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Trường",prop:"truong",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:f.truong,"onUpdate:modelValue":l[1]||(l[1]=e=>f.truong=e),placeholder:"Tên trường"},null,8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Bằng cấp",prop:"bang_cap",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:f.bang_cap,"onUpdate:modelValue":l[2]||(l[2]=e=>f.bang_cap=e),placeholder:"Chọn bằng cấp",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"Trung học",value:"Trung học"}),(0,n.bF)(de,{label:"Cao đẳng",value:"Cao đẳng"}),(0,n.bF)(de,{label:"Đại học",value:"Đại học"}),(0,n.bF)(de,{label:"Thạc sĩ",value:"Thạc sĩ"}),(0,n.bF)(de,{label:"Tiến sĩ",value:"Tiến sĩ"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Chuyên ngành",prop:"chuyen_nganh"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:f.chuyen_nganh,"onUpdate:modelValue":l[3]||(l[3]=e=>f.chuyen_nganh=e),placeholder:"Chuyên ngành học"},null,8,["modelValue"])]),_:1}),(0,n.bF)(ge,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Năm bắt đầu",prop:"nam_bat_dau",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(ce,{modelValue:f.nam_bat_dau,"onUpdate:modelValue":l[4]||(l[4]=e=>f.nam_bat_dau=e),min:1950,max:2100,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Năm kết thúc",prop:"nam_ket_thuc"},{default:(0,n.k6)(()=>[(0,n.bF)(ce,{modelValue:f.nam_ket_thuc,"onUpdate:modelValue":l[5]||(l[5]=e=>f.nam_ket_thuc=e),min:1950,max:2100,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(he,{label:"Điểm GPA",prop:"diem_gpa"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:f.diem_gpa,"onUpdate:modelValue":l[6]||(l[6]=e=>f.diem_gpa=e),placeholder:"3.5/4.0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),(0,n.bF)(se,{modelValue:V.value,"onUpdate:modelValue":l[14]||(l[14]=e=>V.value=e),title:-1===C.value?"Thêm kỹ năng":"Chỉnh sửa kỹ năng",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[13]||(l[13]=e=>V.value=!1)},{default:(0,n.k6)(()=>[...l[47]||(l[47]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:m.value,onClick:G},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===C.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(pe,{ref_key:"skillFormRef",ref:w,model:T,rules:Y,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Tên kỹ năng",prop:"ten_ky_nang",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:T.ten_ky_nang,"onUpdate:modelValue":l[9]||(l[9]=e=>T.ten_ky_nang=e),placeholder:"Ví dụ: JavaScript, Project Management"},null,8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Trình độ",prop:"trinh_do",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:T.trinh_do,"onUpdate:modelValue":l[10]||(l[10]=e=>T.trinh_do=e),placeholder:"Chọn trình độ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"Cơ bản",value:"Cơ bản"}),(0,n.bF)(de,{label:"Trung bình",value:"Trung bình"}),(0,n.bF)(de,{label:"Khá",value:"Khá"}),(0,n.bF)(de,{label:"Giỏi",value:"Giỏi"}),(0,n.bF)(de,{label:"Chuyên gia",value:"Chuyên gia"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Kinh nghiệm",prop:"nam_kinh_nghiem"},{default:(0,n.k6)(()=>[(0,n.bF)(ce,{modelValue:T.nam_kinh_nghiem,"onUpdate:modelValue":l[11]||(l[11]=e=>T.nam_kinh_nghiem=e),min:0,max:50,style:{width:"100%"}},null,8,["modelValue"]),l[46]||(l[46]=(0,n.Lk)("span",{style:{"margin-left":"10px"}},"năm",-1))]),_:1}),(0,n.bF)(he,{label:"Ghi chú",prop:"ghi_chu"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:T.ghi_chu,"onUpdate:modelValue":l[12]||(l[12]=e=>T.ghi_chu=e),type:"textarea",rows:3,placeholder:"Ghi chú về kỹ năng"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),(0,n.bF)(se,{modelValue:K.value,"onUpdate:modelValue":l[21]||(l[21]=e=>K.value=e),title:-1===q.value?"Thêm ngoại ngữ":"Chỉnh sửa ngoại ngữ",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[20]||(l[20]=e=>K.value=!1)},{default:(0,n.k6)(()=>[...l[48]||(l[48]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:m.value,onClick:J},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===q.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(pe,{ref_key:"languageFormRef",ref:R,model:D,rules:W,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Ngôn ngữ",prop:"ngon_ngu",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:D.ngon_ngu,"onUpdate:modelValue":l[15]||(l[15]=e=>D.ngon_ngu=e),placeholder:"Chọn ngôn ngữ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"Tiếng Anh",value:"Tiếng Anh"}),(0,n.bF)(de,{label:"Tiếng Trung",value:"Tiếng Trung"}),(0,n.bF)(de,{label:"Tiếng Nhật",value:"Tiếng Nhật"}),(0,n.bF)(de,{label:"Tiếng Hàn",value:"Tiếng Hàn"}),(0,n.bF)(de,{label:"Tiếng Pháp",value:"Tiếng Pháp"}),(0,n.bF)(de,{label:"Tiếng Đức",value:"Tiếng Đức"}),(0,n.bF)(de,{label:"Tiếng Nga",value:"Tiếng Nga"}),(0,n.bF)(de,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Trình độ",prop:"trinh_do",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:D.trinh_do,"onUpdate:modelValue":l[16]||(l[16]=e=>D.trinh_do=e),placeholder:"Chọn trình độ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"A1 - Cơ bản",value:"A1"}),(0,n.bF)(de,{label:"A2 - Sơ cấp",value:"A2"}),(0,n.bF)(de,{label:"B1 - Trung cấp",value:"B1"}),(0,n.bF)(de,{label:"B2 - Trung cấp cao",value:"B2"}),(0,n.bF)(de,{label:"C1 - Cao cấp",value:"C1"}),(0,n.bF)(de,{label:"C2 - Thành thạo",value:"C2"}),(0,n.bF)(de,{label:"Native - Bản ngữ",value:"Native"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(ge,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Chứng chỉ",prop:"chung_chi"},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:D.chung_chi,"onUpdate:modelValue":l[17]||(l[17]=e=>D.chung_chi=e),placeholder:"Loại chứng chỉ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"TOEIC",value:"TOEIC"}),(0,n.bF)(de,{label:"IELTS",value:"IELTS"}),(0,n.bF)(de,{label:"TOEFL",value:"TOEFL"}),(0,n.bF)(de,{label:"TOPIK",value:"TOPIK"}),(0,n.bF)(de,{label:"JLPT",value:"JLPT"}),(0,n.bF)(de,{label:"HSK",value:"HSK"}),(0,n.bF)(de,{label:"DELF/DALF",value:"DELF/DALF"}),(0,n.bF)(de,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Điểm số",prop:"diem_so"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:D.diem_so,"onUpdate:modelValue":l[18]||(l[18]=e=>D.diem_so=e),placeholder:"850/990, 6.5/9.0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(he,{label:"Ghi chú",prop:"ghi_chu"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:D.ghi_chu,"onUpdate:modelValue":l[19]||(l[19]=e=>D.ghi_chu=e),type:"textarea",rows:3,placeholder:"Ghi chú về trình độ ngoại ngữ"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),(0,n.bF)(se,{modelValue:M.value,"onUpdate:modelValue":l[28]||(l[28]=e=>M.value=e),title:-1===B.value?"Thêm giấy phép":"Chỉnh sửa giấy phép",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[27]||(l[27]=e=>M.value=!1)},{default:(0,n.k6)(()=>[...l[49]||(l[49]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:m.value,onClick:le},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===B.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(pe,{ref_key:"licenseFormRef",ref:A,model:L,rules:N,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Loại giấy phép",prop:"loai_giay_phep",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(_e,{modelValue:L.loai_giay_phep,"onUpdate:modelValue":l[22]||(l[22]=e=>L.loai_giay_phep=e),placeholder:"Chọn loại giấy phép",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(de,{label:"Bằng lái xe",value:"Bằng lái xe"}),(0,n.bF)(de,{label:"Chứng chỉ hành nghề",value:"Chứng chỉ hành nghề"}),(0,n.bF)(de,{label:"Giấy phép kinh doanh",value:"Giấy phép kinh doanh"}),(0,n.bF)(de,{label:"Chứng chỉ chuyên môn",value:"Chứng chỉ chuyên môn"}),(0,n.bF)(de,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(he,{label:"Số giấy phép",prop:"so_giay_phep",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:L.so_giay_phep,"onUpdate:modelValue":l[23]||(l[23]=e=>L.so_giay_phep=e),placeholder:"Số hiệu giấy phép"},null,8,["modelValue"])]),_:1}),(0,n.bF)(ge,{gutter:20},{default:(0,n.k6)(()=>[(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Ngày cấp",prop:"ngay_cap"},{default:(0,n.k6)(()=>[(0,n.bF)(me,{modelValue:L.ngay_cap,"onUpdate:modelValue":l[24]||(l[24]=e=>L.ngay_cap=e),type:"date",placeholder:"Chọn ngày cấp",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),(0,n.bF)(re,{span:12},{default:(0,n.k6)(()=>[(0,n.bF)(he,{label:"Ngày hết hạn",prop:"ngay_het_han"},{default:(0,n.k6)(()=>[(0,n.bF)(me,{modelValue:L.ngay_het_han,"onUpdate:modelValue":l[25]||(l[25]=e=>L.ngay_het_han=e),type:"date",placeholder:"Chọn ngày hết hạn",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(0,n.bF)(he,{label:"Nơi cấp",prop:"noi_cap"},{default:(0,n.k6)(()=>[(0,n.bF)(ue,{modelValue:L.noi_cap,"onUpdate:modelValue":l[26]||(l[26]=e=>L.noi_cap=e),placeholder:"Cơ quan cấp giấy phép"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[be,e.loading]])}}}),m=l(6262);const b=(0,m.A)(s,[["__scopeId","data-v-42ac2481"]]);var v=b},8487:function(e,a,l){var n=l(1114),t=l(1526);class i{constructor(){(0,n.A)(this,"BASE_URL","/profile-requests")}async create(e){const a=await t.A.post(this.BASE_URL,e);return a.data}async getMy(){const e=await t.A.get(`${this.BASE_URL}/my`);return e.data?.data||[]}async list(e){const a=await t.A.get(this.BASE_URL,{params:e}),l=a.data.pagination||{total:0,page:1,limit:e?.limit||20};return{items:a.data.data||[],total:l.total||0,page:l.page||1,limit:l.limit||e?.limit||20}}async updateStatus(e,a){const l=await t.A.patch(`${this.BASE_URL}/${e}/status`,a);return l.data}}a.A=new i},9462:function(e,a,l){var n=l(9565),t=l(2360),i=l(6699),o=l(6279),u=l(8227),h=l(1181),d=l(5966),_=l(7657).IteratorPrototype,c=l(2529),r=l(9539),g=l(1385),p=u("toStringTag"),s="IteratorHelper",m="WrapForValidIterator",b="normal",v="throw",y=h.set,k=function(e){var a=h.getterFor(e?m:s);return o(t(_),{next:function(){var l=a(this);if(e)return l.nextHandler();if(l.done)return c(void 0,!0);try{var n=l.nextHandler();return l.returnHandlerResult?n:c(n,l.done)}catch(t){throw l.done=!0,t}},return:function(){var l=a(this),t=l.iterator;if(l.done=!0,e){var i=d(t,"return");return i?n(i,t):c(void 0,!0)}if(l.inner)try{r(l.inner.iterator,b)}catch(o){return r(t,v,o)}if(l.openIters)try{g(l.openIters,b)}catch(o){return r(t,v,o)}return t&&r(t,b),c(void 0,!0)}})},f=k(!0),F=k(!1);i(F,p,"Iterator Helper"),e.exports=function(e,a,l){var n=function(n,t){t?(t.iterator=n.iterator,t.next=n.next):t=n,t.type=a?m:s,t.returnHandlerResult=!!l,t.nextHandler=e,t.counter=0,t.done=!1,y(this,t)};return n.prototype=a?f:F,n}},9646:function(e,a,l){l.d(a,{A:function(){return m}});var n=l(1431),t=l(8548),i=l(7918),o=l(163),u=l(8487),h=l(4353),d=l.n(h);const _={class:"orangehrm-dependents"},c={class:"orangehrm-form-section"},r={class:"section-header"};var g=(0,n.pM)({__name:"EmployeeDependents",props:{employee:{},loading:{type:Boolean}},emits:["reload","request-submitted"],setup(e,{emit:a}){const l=e,h=a,g=(0,n.KR)(),p=(0,n.KR)(!1),s=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(-1),v=(0,n.KR)([]),y=(0,n.Kh)({ten:"",moi_quan_he:"",ngay_sinh:""}),k={ten:[{required:!0,message:"Vui lòng nhập họ tên",trigger:"blur"}],moi_quan_he:[{required:!0,message:"Vui lòng chọn mối quan hệ",trigger:"change"}]};(0,n.wB)(()=>l.employee,e=>{v.value=e?.nguoi_phu_thuoc?[...e.nguoi_phu_thuoc]:[]},{immediate:!0,deep:!0});const f=e=>e?d()(e).format("DD/MM/YYYY"):"",F=()=>{b.value=-1,y.ten="",y.moi_quan_he="",y.ngay_sinh="",m.value=!0},V=e=>{b.value=e;const a=v.value[e];y.ten=a.ten||"",y.moi_quan_he=a.moi_quan_he||"",y.ngay_sinh=a.ngay_sinh?d()(a.ngay_sinh).format("YYYY-MM-DD"):"",m.value=!0},w=async e=>{try{await i.s.confirm("Ban co chac chan muon xoa nguoi phu thuoc nay?","Xac nhan xoa",{confirmButtonText:"Xoa",cancelButtonText:"Huy",type:"warning"}),s.value=!0;const a=await u.A.create({type:"dependents",payload:{action:"delete",index:e}});o.nk.success("Đã gửi yêu cầu xóa người phụ thuộc, vui lòng chờ HR phê duyệt"),h("request-submitted",{type:"dependents",requestId:a?._id}),h("reload")}catch(a){"cancel"!==a&&o.nk.error(a.response?.data?.msg||"Không thể gửi yêu cầu xóa người phụ thuộc")}finally{s.value=!1}},C=async()=>{if(g.value&&l.employee){try{await g.value.validate()}catch{return}s.value=!0;try{const e={action:-1===b.value?"add":"update",dependent:{...y}};"update"===e.action&&(e.index=b.value);const a=await u.A.create({type:"dependents",payload:e});o.nk.success(-1===b.value?"Da gui yeu cau them nguoi phu thuoc, vui long cho HR phe duyet":"Da gui yeu cau cap nhat nguoi phu thuoc, vui long cho HR phe duyet"),m.value=!1,h("request-submitted",{type:"dependents",requestId:a?._id}),h("reload")}catch(e){o.nk.error(e.response?.data?.msg||"Không thể gửi yêu cầu")}finally{s.value=!1}}};return(a,l)=>{const i=(0,n.g2)("el-button"),o=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-table"),h=(0,n.g2)("el-empty"),d=(0,n.g2)("el-input"),x=(0,n.g2)("el-form-item"),T=(0,n.g2)("el-option"),Y=(0,n.g2)("el-select"),K=(0,n.g2)("el-date-picker"),R=(0,n.g2)("el-form"),q=(0,n.g2)("el-dialog"),U=(0,n.gN)("loading");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",c,[(0,n.Lk)("div",r,[l[6]||(l[6]=(0,n.Lk)("h3",{class:"orangehrm-section-title"},"Người phụ thuộc",-1)),p.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(i,{key:0,type:"primary",icon:(0,n.R1)(t.Plus),size:"small",onClick:F},{default:(0,n.k6)(()=>[...l[5]||(l[5]=[(0,n.eW)(" Thêm người phụ thuộc ",-1)])]),_:1},8,["icon"]))]),v.value.length>0?((0,n.uX)(),(0,n.Wv)(u,{key:0,data:v.value,border:"",class:"orangehrm-table",style:{"margin-top":"20px"}},{default:(0,n.k6)(()=>[(0,n.bF)(o,{prop:"ten",label:"Họ và tên","min-width":"150"}),(0,n.bF)(o,{prop:"moi_quan_he",label:"Mối quan hệ","min-width":"120"}),(0,n.bF)(o,{label:"Ngày sinh","min-width":"120"},{default:(0,n.k6)(e=>[(0,n.eW)((0,n.v_)(f(e.row.ngay_sinh)),1)]),_:1}),(0,n.bF)(o,{label:"Thao tác",width:"150",align:"center"},{default:(0,n.k6)(e=>[(0,n.bF)(i,{size:"small",icon:(0,n.R1)(t.Edit),onClick:a=>V(e.$index)},{default:(0,n.k6)(()=>[...l[7]||(l[7]=[(0,n.eW)(" Sửa ",-1)])]),_:1},8,["icon","onClick"]),(0,n.bF)(i,{size:"small",type:"danger",icon:(0,n.R1)(t.Delete),onClick:a=>w(e.$index)},{default:(0,n.k6)(()=>[...l[8]||(l[8]=[(0,n.eW)(" Xóa ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,description:"Chưa có người phụ thuộc","image-size":100}))]),(0,n.bF)(q,{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e),title:-1===b.value?"Thêm người phụ thuộc":"Chỉnh sửa người phụ thuộc",width:"600px"},{footer:(0,n.k6)(()=>[(0,n.bF)(i,{onClick:l[3]||(l[3]=e=>m.value=!1)},{default:(0,n.k6)(()=>[...l[9]||(l[9]=[(0,n.eW)("Hủy",-1)])]),_:1}),(0,n.bF)(i,{type:"primary",loading:s.value,onClick:C},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)(-1===b.value?"Thêm":"Cập nhật"),1)]),_:1},8,["loading"])]),default:(0,n.k6)(()=>[(0,n.bF)(R,{ref_key:"formRef",ref:g,model:y,rules:k,"label-width":"140px"},{default:(0,n.k6)(()=>[(0,n.bF)(x,{label:"Họ và tên",prop:"ten",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(d,{modelValue:y.ten,"onUpdate:modelValue":l[0]||(l[0]=e=>y.ten=e),placeholder:"Nguyễn Văn A"},null,8,["modelValue"])]),_:1}),(0,n.bF)(x,{label:"Mối quan hệ",prop:"moi_quan_he",required:""},{default:(0,n.k6)(()=>[(0,n.bF)(Y,{modelValue:y.moi_quan_he,"onUpdate:modelValue":l[1]||(l[1]=e=>y.moi_quan_he=e),placeholder:"Chọn mối quan hệ",style:{width:"100%"}},{default:(0,n.k6)(()=>[(0,n.bF)(T,{label:"Con",value:"Con"}),(0,n.bF)(T,{label:"Vợ",value:"Vợ"}),(0,n.bF)(T,{label:"Chồng",value:"Chồng"}),(0,n.bF)(T,{label:"Cha",value:"Cha"}),(0,n.bF)(T,{label:"Mẹ",value:"Mẹ"}),(0,n.bF)(T,{label:"Anh/Chị/Em",value:"Anh/Chị/Em"}),(0,n.bF)(T,{label:"Khác",value:"Khác"})]),_:1},8,["modelValue"])]),_:1}),(0,n.bF)(x,{label:"Ngày sinh",prop:"ngay_sinh"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:y.ngay_sinh,"onUpdate:modelValue":l[2]||(l[2]=e=>y.ngay_sinh=e),type:"date",placeholder:"Chọn ngày sinh",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])),[[U,e.loading]])}}}),p=l(6262);const s=(0,p.A)(g,[["__scopeId","data-v-36596080"]]);var m=s}}]);
//# sourceMappingURL=1580.7640082c.js.map