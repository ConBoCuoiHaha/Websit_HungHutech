{"version":3,"file":"js/991.4eb7bd0e.js","mappings":"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","sources":["webpack://HungHutech/./src/pages/OffboardingList.vue?0d8e","webpack://HungHutech/./src/pages/OffboardingList.vue","webpack://HungHutech/./src/pages/OffboardingList.vue?2732","webpack://HungHutech/./src/services/nhanVienService.ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"page-container\" }\nconst _hoisted_2 = { class: \"page-header\" }\nconst _hoisted_3 = { class: \"sub\" }\nconst _hoisted_4 = { class: \"pagination\" }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { class: \"task-actions\" }\nconst _hoisted_7 = { class: \"task-buttons\" }\n\nimport {ref, reactive, computed} from 'vue';\nimport {ElMessage} from 'element-plus';\nimport {Plus} from '@element-plus/icons-vue';\nimport offboardingService, {OffboardingRequest, OffboardingTask} from '@/services/offboardingService';\nimport nhanVienService from '@/services/nhanVienService';\nimport {NhanVien} from '@/types';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'OffboardingList',\n  setup(__props) {\n\nconst loading = ref(false);\nconst offboardingItems = ref<OffboardingRequest[]>([]);\nconst pagination = reactive({page: 1, limit: 10, total: 0});\nconst filters = reactive({status: ''});\n\nconst drawerVisible = ref(false);\nconst selectedRequest = ref<OffboardingRequest | null>(null);\nconst selectedStatus = ref('');\nconst taskSaving = ref(false);\n\nconst createDialogVisible = ref(false);\nconst createForm = reactive({nhan_vien_id: '', last_working_day: '', reason: ''});\nconst creating = ref(false);\nconst employeeOptions = ref<NhanVien[]>([]);\nconst employeesLoading = ref(false);\n\nconst loadData = async () => {\n  loading.value = true;\n  try {\n    const response = await offboardingService.getAll({\n      page: pagination.page,\n      limit: pagination.limit,\n      status: filters.status || undefined,\n    });\n    offboardingItems.value = response.items;\n    pagination.total = response.total;\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tải danh sách');\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst handlePageChange = (page: number) => {\n  pagination.page = page;\n  loadData();\n};\n\nconst getEmployeeName = (value: any) => {\n  if (value && typeof value === 'object') {\n    return `${value.ho_dem || ''} ${value.ten || ''}`.trim();\n  }\n  return '---';\n};\n\nconst getEmployeeCode = (value: any) => {\n  if (value && typeof value === 'object') {\n    return value.ma_nhan_vien || '';\n  }\n  return '';\n};\n\nconst formatDate = (value?: string) => {\n  if (!value) return '---';\n  return new Date(value).toLocaleDateString('vi-VN');\n};\n\nconst statusTag = (status: string) => {\n  if (status === 'Completed') return 'success';\n  if (status === 'InProgress') return 'warning';\n  return 'info';\n};\n\nconst statusLabel = (status: string) => {\n  switch (status) {\n    case 'Pending':\n      return 'Chờ xử lý';\n    case 'InProgress':\n      return 'Đang thực hiện';\n    case 'Completed':\n      return 'Đã hoàn tất';\n    default:\n      return status;\n  }\n};\n\nconst handleRowClick = (row: OffboardingRequest) => {\n  selectedRequest.value = {...row, tasks: row.tasks.map((task) => ({...task, tempNote: task.note}))} as any;\n  drawerVisible.value = true;\n  selectedStatus.value = '';\n};\n\nconst drawerTitle = computed(() => {\n  if (!selectedRequest.value) return '';\n  return `Checklist - ${getEmployeeName(selectedRequest.value.nhan_vien_id)}`;\n});\n\nconst handleUpdateStatus = async () => {\n  if (!selectedRequest.value || !selectedStatus.value) return;\n  try {\n    const updated = await offboardingService.updateStatus(selectedRequest.value._id, selectedStatus.value as any);\n    selectedRequest.value = {...updated, tasks: updated.tasks.map((task) => ({...task, tempNote: task.note}))} as any;\n    loadData();\n    ElMessage.success('Đã cập nhật trạng thái');\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không cập nhật được trạng thái');\n  }\n};\n\nconst updateTask = async (task: any, status: OffboardingTask['status']) => {\n  if (!selectedRequest.value) return;\n  taskSaving.value = true;\n  try {\n    const updated = await offboardingService.updateTask(selectedRequest.value._id, task._id, {\n      status,\n      note: task.tempNote,\n    });\n    selectedRequest.value = {...updated, tasks: updated.tasks.map((item) => ({...item, tempNote: item.note}))} as any;\n    loadData();\n    ElMessage.success('Đã cập nhật tác vụ');\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể cập nhật tác vụ');\n  } finally {\n    taskSaving.value = false;\n  }\n};\n\nconst openCreateDialog = async () => {\n  createDialogVisible.value = true;\n  if (employeeOptions.value.length === 0) {\n    employeesLoading.value = true;\n    try {\n      const response = await nhanVienService.getAll({ page: 1, limit: 200 });\n      employeeOptions.value = response.items;\n    } catch (err: any) {\n      ElMessage.error('Không thể tải danh sách nhân viên');\n    } finally {\n      employeesLoading.value = false;\n    }\n  }\n};\n\nconst handleCreate = async () => {\n  if (!createForm.nhan_vien_id) {\n    ElMessage.warning('Vui lòng chọn nhân viên');\n    return;\n  }\n  creating.value = true;\n  try {\n    await offboardingService.create(createForm);\n    ElMessage.success('Đã tạo yêu cầu offboarding');\n    createDialogVisible.value = false;\n    createForm.nhan_vien_id = '';\n    createForm.last_working_day = '';\n    createForm.reason = '';\n    loadData();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tạo yêu cầu');\n  } finally {\n    creating.value = false;\n  }\n};\n\nloadData();\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_pagination = _resolveComponent(\"el-pagination\")!\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\")!\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n  const _directive_loading = _resolveDirective(\"loading\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[9] || (_cache[9] = _createElementVNode(\"div\", null, [\n        _createElementVNode(\"h2\", null, \"Offboarding - Quản lý nghỉ việc\"),\n        _createElementVNode(\"p\", null, \"Theo dõi quy trình bàn giao và checklist khi nhân viên rời công ty.\")\n      ], -1)),\n      _createVNode(_component_el_button, {\n        type: \"primary\",\n        icon: _unref(Plus),\n        onClick: openCreateDialog\n      }, {\n        default: _withCtx(() => [...(_cache[8] || (_cache[8] = [\n          _createTextVNode(\" Tạo yêu cầu \", -1)\n        ]))]),\n        _: 1\n      }, 8, [\"icon\"])\n    ]),\n    _createVNode(_component_el_card, {\n      shadow: \"never\",\n      class: \"mb-lg\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, {\n          inline: true,\n          model: filters\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, { label: \"Trạng thái\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: filters.status,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((filters.status) = $event)),\n                  placeholder: \"Tất cả\",\n                  onChange: loadData\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_option, {\n                      label: \"Tất cả\",\n                      value: \"\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Chờ xử lý\",\n                      value: \"Pending\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Đang thực hiện\",\n                      value: \"InProgress\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Hoàn thành\",\n                      value: \"Completed\"\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_card, { shadow: \"never\" }, {\n      default: _withCtx(() => [\n        _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n          data: offboardingItems.value,\n          border: \"\",\n          onRowClick: handleRowClick\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_table_column, {\n              type: \"index\",\n              label: \"#\",\n              width: \"60\"\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Nhân viên\",\n              \"min-width\": \"200\"\n            }, {\n              default: _withCtx(({ row }) => [\n                _createElementVNode(\"div\", null, [\n                  _createElementVNode(\"strong\", null, _toDisplayString(getEmployeeName(row.nhan_vien_id)), 1),\n                  _createElementVNode(\"div\", _hoisted_3, \"Mã NV: \" + _toDisplayString(getEmployeeCode(row.nhan_vien_id)), 1)\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Ngày làm việc cuối\",\n              width: \"160\"\n            }, {\n              default: _withCtx(({ row }) => [\n                _createTextVNode(_toDisplayString(formatDate(row.last_working_day)), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"reason\",\n              label: \"Lý do\",\n              \"min-width\": \"200\",\n              \"show-overflow-tooltip\": \"\"\n            }),\n            _createVNode(_component_el_table_column, {\n              label: \"Trạng thái\",\n              width: \"140\"\n            }, {\n              default: _withCtx(({ row }) => [\n                _createVNode(_component_el_tag, {\n                  type: statusTag(row.status)\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(statusLabel(row.status)), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"])), [\n          [_directive_loading, loading.value]\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_el_pagination, {\n            background: \"\",\n            layout: \"total, prev, pager, next\",\n            total: pagination.total,\n            \"current-page\": pagination.page,\n            \"page-size\": pagination.limit,\n            onCurrentChange: handlePageChange\n          }, null, 8, [\"total\", \"current-page\", \"page-size\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_el_drawer, {\n      modelValue: drawerVisible.value,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((drawerVisible).value = $event)),\n      size: \"50%\",\n      title: drawerTitle.value\n    }, {\n      default: _withCtx(() => [\n        (selectedRequest.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n              _createVNode(_component_el_descriptions, {\n                column: 1,\n                border: \"\",\n                class: \"mb-lg\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_descriptions_item, { label: \"Nhân viên\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(getEmployeeName(selectedRequest.value.nhan_vien_id)), 1)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_descriptions_item, { label: \"Mã nhân viên\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(getEmployeeCode(selectedRequest.value.nhan_vien_id)), 1)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_descriptions_item, { label: \"Ngày làm việc cuối\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(formatDate(selectedRequest.value.last_working_day)), 1)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_descriptions_item, { label: \"Lý do\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(selectedRequest.value.reason || '---'), 1)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_descriptions_item, { label: \"Trạng thái\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_el_tag, {\n                        type: statusTag(selectedRequest.value.status)\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(statusLabel(selectedRequest.value.status)), 1)\n                        ]),\n                        _: 1\n                      }, 8, [\"type\"])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createVNode(_component_el_select, {\n                  modelValue: selectedStatus.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((selectedStatus).value = $event)),\n                  placeholder: \"Cập nhật trạng thái\",\n                  size: \"small\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_option, {\n                      label: \"Chờ xử lý\",\n                      value: \"Pending\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Đang thực hiện\",\n                      value: \"InProgress\"\n                    }),\n                    _createVNode(_component_el_option, {\n                      label: \"Hoàn thành\",\n                      value: \"Completed\"\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]),\n                _createVNode(_component_el_button, {\n                  type: \"primary\",\n                  size: \"small\",\n                  onClick: handleUpdateStatus,\n                  disabled: !selectedStatus.value\n                }, {\n                  default: _withCtx(() => [...(_cache[10] || (_cache[10] = [\n                    _createTextVNode(\" Cập nhật \", -1)\n                  ]))]),\n                  _: 1\n                }, 8, [\"disabled\"])\n              ]),\n              _cache[14] || (_cache[14] = _createElementVNode(\"h3\", null, \"Checklist tác vụ\", -1)),\n              _createVNode(_component_el_table, {\n                data: selectedRequest.value.tasks,\n                border: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_table_column, {\n                    label: \"Tác vụ\",\n                    \"min-width\": \"220\",\n                    prop: \"name\"\n                  }),\n                  _createVNode(_component_el_table_column, {\n                    label: \"Bộ phận\",\n                    \"min-width\": \"160\",\n                    prop: \"department\"\n                  }),\n                  _createVNode(_component_el_table_column, {\n                    label: \"Hạn hoàn thành\",\n                    width: \"150\"\n                  }, {\n                    default: _withCtx(({ row }) => [\n                      _createTextVNode(_toDisplayString(formatDate(row.due_date)), 1)\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_table_column, {\n                    label: \"Trạng thái\",\n                    width: \"150\"\n                  }, {\n                    default: _withCtx(({ row }) => [\n                      _createVNode(_component_el_tag, {\n                        type: statusTag(row.status)\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(statusLabel(row.status)), 1)\n                        ]),\n                        _: 2\n                      }, 1032, [\"type\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_el_table_column, {\n                    label: \"Ghi chú\",\n                    \"min-width\": \"200\"\n                  }, {\n                    default: _withCtx(({ row }) => [\n                      _createVNode(_component_el_input, {\n                        modelValue: row.tempNote,\n                        \"onUpdate:modelValue\": ($event: any) => ((row.tempNote) = $event),\n                        type: \"textarea\",\n                        rows: 2,\n                        placeholder: row.note || 'Nhập ghi chú',\n                        disabled: taskSaving.value\n                      }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"placeholder\", \"disabled\"]),\n                      _createElementVNode(\"div\", _hoisted_7, [\n                        _createVNode(_component_el_button, {\n                          size: \"small\",\n                          onClick: ($event: any) => (updateTask(row, 'Pending')),\n                          disabled: taskSaving.value\n                        }, {\n                          default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n                            _createTextVNode(\"Pending\", -1)\n                          ]))]),\n                          _: 1\n                        }, 8, [\"onClick\", \"disabled\"]),\n                        _createVNode(_component_el_button, {\n                          size: \"small\",\n                          type: \"warning\",\n                          onClick: ($event: any) => (updateTask(row, 'InProgress')),\n                          disabled: taskSaving.value\n                        }, {\n                          default: _withCtx(() => [...(_cache[12] || (_cache[12] = [\n                            _createTextVNode(\"Đang thực hiện\", -1)\n                          ]))]),\n                          _: 1\n                        }, 8, [\"onClick\", \"disabled\"]),\n                        _createVNode(_component_el_button, {\n                          size: \"small\",\n                          type: \"success\",\n                          onClick: ($event: any) => (updateTask(row, 'Completed')),\n                          disabled: taskSaving.value\n                        }, {\n                          default: _withCtx(() => [...(_cache[13] || (_cache[13] = [\n                            _createTextVNode(\"Hoàn thành\", -1)\n                          ]))]),\n                          _: 1\n                        }, 8, [\"onClick\", \"disabled\"])\n                      ])\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }, 8, [\"data\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\", \"title\"]),\n    _createVNode(_component_el_dialog, {\n      modelValue: createDialogVisible.value,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((createDialogVisible).value = $event)),\n      title: \"Tạo yêu cầu nghỉ việc\",\n      width: \"500px\"\n    }, {\n      footer: _withCtx(() => [\n        _createVNode(_component_el_button, {\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (createDialogVisible.value = false))\n        }, {\n          default: _withCtx(() => [...(_cache[15] || (_cache[15] = [\n            _createTextVNode(\"Hủy\", -1)\n          ]))]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          loading: creating.value,\n          onClick: handleCreate\n        }, {\n          default: _withCtx(() => [...(_cache[16] || (_cache[16] = [\n            _createTextVNode(\" Tạo yêu cầu \", -1)\n          ]))]),\n          _: 1\n        }, 8, [\"loading\"])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_el_form, {\n          model: createForm,\n          \"label-width\": \"160px\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, { label: \"Nhân viên\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: createForm.nhan_vien_id,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((createForm.nhan_vien_id) = $event)),\n                  filterable: \"\",\n                  placeholder: \"Chọn nhân viên\",\n                  loading: employeesLoading.value\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(employeeOptions.value, (nv) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: nv._id,\n                        label: `${nv.ma_nhan_vien} - ${nv.ho_dem} ${nv.ten}`,\n                        value: nv._id\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"loading\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Ngày làm việc cuối\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_date_picker, {\n                  modelValue: createForm.last_working_day,\n                  \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((createForm.last_working_day) = $event)),\n                  type: \"date\",\n                  placeholder: \"Chọn ngày\",\n                  \"value-format\": \"YYYY-MM-DD\",\n                  style: {\"width\":\"100%\"}\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"Lý do\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: createForm.reason,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((createForm.reason) = $event)),\n                  type: \"textarea\",\n                  rows: 3,\n                  placeholder: \"Ghi chú cho HR\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"model\"])\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"page-container\">\n    <div class=\"page-header\">\n      <div>\n        <h2>Offboarding - Quản lý nghỉ việc</h2>\n        <p>Theo dõi quy trình bàn giao và checklist khi nhân viên rời công ty.</p>\n      </div>\n      <el-button type=\"primary\" :icon=\"Plus\" @click=\"openCreateDialog\">\n        Tạo yêu cầu\n      </el-button>\n    </div>\n\n    <el-card shadow=\"never\" class=\"mb-lg\">\n      <el-form :inline=\"true\" :model=\"filters\">\n        <el-form-item label=\"Trạng thái\">\n          <el-select v-model=\"filters.status\" placeholder=\"Tất cả\" @change=\"loadData\">\n            <el-option label=\"Tất cả\" value=\"\" />\n            <el-option label=\"Chờ xử lý\" value=\"Pending\" />\n            <el-option label=\"Đang thực hiện\" value=\"InProgress\" />\n            <el-option label=\"Hoàn thành\" value=\"Completed\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <el-card shadow=\"never\">\n      <el-table :data=\"offboardingItems\" v-loading=\"loading\" border @row-click=\"handleRowClick\">\n        <el-table-column type=\"index\" label=\"#\" width=\"60\" />\n        <el-table-column label=\"Nhân viên\" min-width=\"200\">\n          <template #default=\"{ row }\">\n            <div>\n              <strong>{{ getEmployeeName(row.nhan_vien_id) }}</strong>\n              <div class=\"sub\">Mã NV: {{ getEmployeeCode(row.nhan_vien_id) }}</div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Ngày làm việc cuối\" width=\"160\">\n          <template #default=\"{ row }\">\n            {{ formatDate(row.last_working_day) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"reason\" label=\"Lý do\" min-width=\"200\" show-overflow-tooltip />\n        <el-table-column label=\"Trạng thái\" width=\"140\">\n          <template #default=\"{ row }\">\n            <el-tag :type=\"statusTag(row.status)\">{{ statusLabel(row.status) }}</el-tag>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"pagination\">\n        <el-pagination\n          background\n          layout=\"total, prev, pager, next\"\n          :total=\"pagination.total\"\n          :current-page=\"pagination.page\"\n          :page-size=\"pagination.limit\"\n          @current-change=\"handlePageChange\"\n        />\n      </div>\n    </el-card>\n\n    <el-drawer v-model=\"drawerVisible\" size=\"50%\" :title=\"drawerTitle\">\n      <div v-if=\"selectedRequest\">\n        <el-descriptions :column=\"1\" border class=\"mb-lg\">\n          <el-descriptions-item label=\"Nhân viên\">\n            {{ getEmployeeName(selectedRequest.nhan_vien_id) }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"Mã nhân viên\">\n            {{ getEmployeeCode(selectedRequest.nhan_vien_id) }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"Ngày làm việc cuối\">\n            {{ formatDate(selectedRequest.last_working_day) }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"Lý do\">\n            {{ selectedRequest.reason || '---' }}\n          </el-descriptions-item>\n          <el-descriptions-item label=\"Trạng thái\">\n            <el-tag :type=\"statusTag(selectedRequest.status)\">\n              {{ statusLabel(selectedRequest.status) }}\n            </el-tag>\n          </el-descriptions-item>\n        </el-descriptions>\n\n        <div class=\"task-actions\">\n          <el-select v-model=\"selectedStatus\" placeholder=\"Cập nhật trạng thái\" size=\"small\">\n            <el-option label=\"Chờ xử lý\" value=\"Pending\" />\n            <el-option label=\"Đang thực hiện\" value=\"InProgress\" />\n            <el-option label=\"Hoàn thành\" value=\"Completed\" />\n          </el-select>\n          <el-button type=\"primary\" size=\"small\" @click=\"handleUpdateStatus\" :disabled=\"!selectedStatus\">\n            Cập nhật\n          </el-button>\n        </div>\n\n        <h3>Checklist tác vụ</h3>\n        <el-table :data=\"selectedRequest.tasks\" border>\n          <el-table-column label=\"Tác vụ\" min-width=\"220\" prop=\"name\" />\n          <el-table-column label=\"Bộ phận\" min-width=\"160\" prop=\"department\" />\n          <el-table-column label=\"Hạn hoàn thành\" width=\"150\">\n            <template #default=\"{ row }\">\n              {{ formatDate(row.due_date) }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"Trạng thái\" width=\"150\">\n            <template #default=\"{ row }\">\n              <el-tag :type=\"statusTag(row.status)\">{{ statusLabel(row.status) }}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"Ghi chú\" min-width=\"200\">\n            <template #default=\"{ row }\">\n              <el-input\n                v-model=\"row.tempNote\"\n                type=\"textarea\"\n                :rows=\"2\"\n                :placeholder=\"row.note || 'Nhập ghi chú'\"\n                :disabled=\"taskSaving\"\n              />\n              <div class=\"task-buttons\">\n                <el-button\n                  size=\"small\"\n                  @click=\"updateTask(row, 'Pending')\"\n                  :disabled=\"taskSaving\"\n                >Pending</el-button>\n                <el-button\n                  size=\"small\"\n                  type=\"warning\"\n                  @click=\"updateTask(row, 'InProgress')\"\n                  :disabled=\"taskSaving\"\n                >Đang thực hiện</el-button>\n                <el-button\n                  size=\"small\"\n                  type=\"success\"\n                  @click=\"updateTask(row, 'Completed')\"\n                  :disabled=\"taskSaving\"\n                >Hoàn thành</el-button>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-drawer>\n\n    <el-dialog v-model=\"createDialogVisible\" title=\"Tạo yêu cầu nghỉ việc\" width=\"500px\">\n      <el-form :model=\"createForm\" label-width=\"160px\">\n        <el-form-item label=\"Nhân viên\">\n          <el-select\n            v-model=\"createForm.nhan_vien_id\"\n            filterable\n            placeholder=\"Chọn nhân viên\"\n            :loading=\"employeesLoading\"\n          >\n            <el-option\n              v-for=\"nv in employeeOptions\"\n              :key=\"nv._id\"\n              :label=\"`${nv.ma_nhan_vien} - ${nv.ho_dem} ${nv.ten}`\"\n              :value=\"nv._id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"Ngày làm việc cuối\">\n          <el-date-picker\n            v-model=\"createForm.last_working_day\"\n            type=\"date\"\n            placeholder=\"Chọn ngày\"\n            value-format=\"YYYY-MM-DD\"\n            style=\"width: 100%\"\n          />\n        </el-form-item>\n        <el-form-item label=\"Lý do\">\n          <el-input\n            v-model=\"createForm.reason\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"Ghi chú cho HR\"\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"createDialogVisible = false\">Hủy</el-button>\n        <el-button type=\"primary\" :loading=\"creating\" @click=\"handleCreate\">\n          Tạo yêu cầu\n        </el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref, reactive, computed} from 'vue';\nimport {ElMessage} from 'element-plus';\nimport {Plus} from '@element-plus/icons-vue';\nimport offboardingService, {OffboardingRequest, OffboardingTask} from '@/services/offboardingService';\nimport nhanVienService from '@/services/nhanVienService';\nimport {NhanVien} from '@/types';\n\nconst loading = ref(false);\nconst offboardingItems = ref<OffboardingRequest[]>([]);\nconst pagination = reactive({page: 1, limit: 10, total: 0});\nconst filters = reactive({status: ''});\n\nconst drawerVisible = ref(false);\nconst selectedRequest = ref<OffboardingRequest | null>(null);\nconst selectedStatus = ref('');\nconst taskSaving = ref(false);\n\nconst createDialogVisible = ref(false);\nconst createForm = reactive({nhan_vien_id: '', last_working_day: '', reason: ''});\nconst creating = ref(false);\nconst employeeOptions = ref<NhanVien[]>([]);\nconst employeesLoading = ref(false);\n\nconst loadData = async () => {\n  loading.value = true;\n  try {\n    const response = await offboardingService.getAll({\n      page: pagination.page,\n      limit: pagination.limit,\n      status: filters.status || undefined,\n    });\n    offboardingItems.value = response.items;\n    pagination.total = response.total;\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tải danh sách');\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst handlePageChange = (page: number) => {\n  pagination.page = page;\n  loadData();\n};\n\nconst getEmployeeName = (value: any) => {\n  if (value && typeof value === 'object') {\n    return `${value.ho_dem || ''} ${value.ten || ''}`.trim();\n  }\n  return '---';\n};\n\nconst getEmployeeCode = (value: any) => {\n  if (value && typeof value === 'object') {\n    return value.ma_nhan_vien || '';\n  }\n  return '';\n};\n\nconst formatDate = (value?: string) => {\n  if (!value) return '---';\n  return new Date(value).toLocaleDateString('vi-VN');\n};\n\nconst statusTag = (status: string) => {\n  if (status === 'Completed') return 'success';\n  if (status === 'InProgress') return 'warning';\n  return 'info';\n};\n\nconst statusLabel = (status: string) => {\n  switch (status) {\n    case 'Pending':\n      return 'Chờ xử lý';\n    case 'InProgress':\n      return 'Đang thực hiện';\n    case 'Completed':\n      return 'Đã hoàn tất';\n    default:\n      return status;\n  }\n};\n\nconst handleRowClick = (row: OffboardingRequest) => {\n  selectedRequest.value = {...row, tasks: row.tasks.map((task) => ({...task, tempNote: task.note}))} as any;\n  drawerVisible.value = true;\n  selectedStatus.value = '';\n};\n\nconst drawerTitle = computed(() => {\n  if (!selectedRequest.value) return '';\n  return `Checklist - ${getEmployeeName(selectedRequest.value.nhan_vien_id)}`;\n});\n\nconst handleUpdateStatus = async () => {\n  if (!selectedRequest.value || !selectedStatus.value) return;\n  try {\n    const updated = await offboardingService.updateStatus(selectedRequest.value._id, selectedStatus.value as any);\n    selectedRequest.value = {...updated, tasks: updated.tasks.map((task) => ({...task, tempNote: task.note}))} as any;\n    loadData();\n    ElMessage.success('Đã cập nhật trạng thái');\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không cập nhật được trạng thái');\n  }\n};\n\nconst updateTask = async (task: any, status: OffboardingTask['status']) => {\n  if (!selectedRequest.value) return;\n  taskSaving.value = true;\n  try {\n    const updated = await offboardingService.updateTask(selectedRequest.value._id, task._id, {\n      status,\n      note: task.tempNote,\n    });\n    selectedRequest.value = {...updated, tasks: updated.tasks.map((item) => ({...item, tempNote: item.note}))} as any;\n    loadData();\n    ElMessage.success('Đã cập nhật tác vụ');\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể cập nhật tác vụ');\n  } finally {\n    taskSaving.value = false;\n  }\n};\n\nconst openCreateDialog = async () => {\n  createDialogVisible.value = true;\n  if (employeeOptions.value.length === 0) {\n    employeesLoading.value = true;\n    try {\n      const response = await nhanVienService.getAll({ page: 1, limit: 200 });\n      employeeOptions.value = response.items;\n    } catch (err: any) {\n      ElMessage.error('Không thể tải danh sách nhân viên');\n    } finally {\n      employeesLoading.value = false;\n    }\n  }\n};\n\nconst handleCreate = async () => {\n  if (!createForm.nhan_vien_id) {\n    ElMessage.warning('Vui lòng chọn nhân viên');\n    return;\n  }\n  creating.value = true;\n  try {\n    await offboardingService.create(createForm);\n    ElMessage.success('Đã tạo yêu cầu offboarding');\n    createDialogVisible.value = false;\n    createForm.nhan_vien_id = '';\n    createForm.last_working_day = '';\n    createForm.reason = '';\n    loadData();\n  } catch (err: any) {\n    ElMessage.error(err.response?.data?.msg || 'Không thể tạo yêu cầu');\n  } finally {\n    creating.value = false;\n  }\n};\n\nloadData();\n</script>\n\n<style scoped lang=\"scss\">\n.page-container {\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-lg;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: $spacing-md;\n\n  h2 {\n    margin: 0;\n    font-size: $font-size-xl;\n  }\n\n  p {\n    margin: $spacing-xxs 0 0 0;\n    color: $text-secondary;\n  }\n}\n\n.mb-lg {\n  margin-bottom: $spacing-lg;\n}\n\n.sub {\n  color: $text-secondary;\n  font-size: $font-size-sm;\n}\n\n.pagination {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: $spacing-md;\n}\n\n.task-actions {\n  display: flex;\n  gap: $spacing-sm;\n  align-items: center;\n  margin-bottom: $spacing-md;\n}\n\n.task-buttons {\n  display: flex;\n  gap: $spacing-xs;\n  margin-top: $spacing-xs;\n}\n</style>\r\n","import script from \"./OffboardingList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./OffboardingList.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./OffboardingList.vue?vue&type=style&index=0&id=5042c2c4&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5042c2c4\"]])\n\nexport default __exports__","import api from './api';\nimport {NhanVien, PaginatedResponse, PaginationParams} from '@/types';\n\nclass NhanVienService {\n  private readonly BASE_URL = '/nhanvien';\n\n  async getAll(\n    params?: PaginationParams,\n  ): Promise<PaginatedResponse<NhanVien>> {\n    const response = await api.get<PaginatedResponse<NhanVien>>(this.BASE_URL, {\n      params,\n    });\n    return response.data;\n  }\n\n  async getById(id: string): Promise<NhanVien> {\n    const response = await api.get<NhanVien>(`${this.BASE_URL}/${id}`);\n    return response.data;\n  }\n\n  async create(data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.post<NhanVien>(this.BASE_URL, data);\n    return response.data;\n  }\n\n  async update(id: string, data: Partial<NhanVien>): Promise<NhanVien> {\n    const response = await api.put<NhanVien>(`${this.BASE_URL}/${id}`, data);\n    return response.data;\n  }\n\n  async delete(id: string): Promise<void> {\n    await api.delete(`${this.BASE_URL}/${id}`);\n  }\n}\n\nexport default new NhanVienService();\n"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_6","_hoisted_7","_defineComponent","__name","setup","__props","loading","ref","offboardingItems","pagination","reactive","page","limit","total","filters","status","drawerVisible","selectedRequest","selectedStatus","taskSaving","createDialogVisible","createForm","nhan_vien_id","last_working_day","reason","creating","employeeOptions","employeesLoading","loadData","async","value","response","offboardingService","getAll","undefined","items","err","ElMessage","error","data","msg","handlePageChange","getEmployeeName","ho_dem","ten","trim","getEmployeeCode","ma_nhan_vien","formatDate","Date","toLocaleDateString","statusTag","statusLabel","handleRowClick","row","tasks","map","task","tempNote","note","drawerTitle","computed","handleUpdateStatus","updated","updateStatus","_id","success","updateTask","item","openCreateDialog","length","nhanVienService","handleCreate","create","warning","_ctx","_cache","_component_el_button","_resolveComponent","_component_el_option","_component_el_select","_component_el_form_item","_component_el_form","_component_el_card","_component_el_table_column","_component_el_tag","_component_el_table","_component_el_pagination","_component_el_descriptions_item","_component_el_descriptions","_component_el_input","_component_el_drawer","_component_el_date_picker","_component_el_dialog","_directive_loading","_resolveDirective","_openBlock","_createElementBlock","_createElementVNode","_createVNode","type","icon","_unref","Plus","onClick","default","_withCtx","_createTextVNode","_","shadow","inline","model","label","modelValue","$event","placeholder","onChange","_withDirectives","_createBlock","border","onRowClick","width","_toDisplayString","prop","background","layout","onCurrentChange","size","title","column","disabled","due_date","rows","_createCommentVNode","footer","filterable","_Fragment","_renderList","nv","style","__exports__","NhanVienService","constructor","_defineProperty","params","api","get","this","BASE_URL","getById","id","post","update","put","delete"],"sourceRoot":""}